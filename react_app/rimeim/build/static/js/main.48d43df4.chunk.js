(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,a,t){e.exports=t.p+"static/media/logo_rimeim.13a695bd.png"},23:function(e,a,t){},45:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUASURBVHhe7Z1byDVTHMZfhy9y+JBEhIgo5xxy40JKSiQhOX4IiRziToooh1xwRy6I5FBccSEJN0gOF5QkiojkEDnl/DzfNt71/t//7Fmz11ozs2eeX/3q3fubd83Met75/jNr1uy9IoQQQgghhBBCCCGGyPZwl5G6A1wadoZPwX9G7pNwCzhojoKfQG8Hxuh5cLBcAX+F3oaP1S/gRjgotoOPQG+Dv4QfL7nfQW/fKu+Fg+Eg+B60G/k3vBtuDZeZQ+DX0O5f6B/wUNg7Z8MfoN3A7+EZcNmJCaPyZdhbgd8A74Pehr0D94PLTpswKnsp8HvD16G3QQ/CbeGys0gYtPMCfzL0NvRneCEcA4uGUdlJgd8S3gr/gnYDPoCDKGgZSA2DFi/wu8EXoLfyp+FSDSHMIUcYlcUK/PHwM2hX+Bu8Bo6FnGFUZi/w18HfoV3Rp5BBjYUSYdBsBZ6N8L8ibyXPw13hWCgVRmVygWcx+hDahv+Et0AW97FQOgyaVOAvhjx99Rq9CR49IutO30u4UIG/C3qNyTy2KvBHQA4Eeg3JPLYq8M9CrxGZ16gC7x0dvMH04oj9CIb725W8hGgs8N7RweuMMcOR6F+g3e8ufAnWUlc7xh4I4Sm83e+u3B+61NWOKQTCWwR9TMT4CXIK0TrmnVlNIRByGvT2v5SsIWdCl3lnVlMJhDwHvT7ILS+uz4IuTdcdUwrkQMiRa68fcslhJ849qKXpumNKgZA7oNcPOWQY58BaDodNV+U5AuEkiJMg/zJyyVkse8BU7Gg155Rxn72+SJFhnAvnEnNVnhoIR4RfhV7bqf4ID4Mp3Az3mv34PwzcW9+iMozG8auYo4OmBsJhba/dXN4JU+DvPzH7cQ11t6nbyjAugI3EHB00NZAd4bfQazuH/GtOgYGwnRM3v1rlYOjdIW0jw7gINhJ7dNAcNYTr4xwt3nnM5eOQ92xSqQLh9Fc7zfUeaPsj1ugwyDPQa4SyofB1jkCGTBUIvZFvBHAGzecw7I8Y2YebYDTeocj3HoJHBu/RKQXCecn2zI3FOOyPJjlX7RLYijdh1UAVRDX/dicYrmBKgdDHYAhvt74Cw2XqZBm4FLZmd3g7vA3aidBTD4SdegIM4X0LDneEy1n5e5fB7Ew9EPoutAX+fmiXq2QYl8MiKJCZ18IQ9guf/rLLMYwrYTEUyEw+ZMR5zCE8zQ6XYRhXwaIokFUfhiEs8K9B/hvDuBoWR4Gsyk6385Z5WcAC700uPwAeM/sxHwpkrW/BrWCI1+l8kox9dermVxlRIOttqhN7wmo6kQJJJCaQb2DdLH8W/vdhtawCSSQmEMrRDAv7itcs4XIKJJHYQDhGdRys4G2FN6BdToEkEhsI5STp8+Hp8O3/3rMqkETaBBKjAklEgQwMBTIwFMjAUCADQ4EMjNyB8InerCiQxf0KZv84JgWymJz6YyfbZUGBLOb1sAgKpL2PwmIokHZyTIuPMBRDgcTLz0fZBxZFgcRZrIhbFEicxYq4RYE0a+f/FkWBzLd4EbcokHpZxPeFnaJAfDsr4hYF4nsD7AUFst5Oi7hFgay18yJuUSCr9lLELQpkZm9F3GID4Wf3es+Jj0V+m0O4v5W9FXGLDWSK9lrELdtAHq7ehk5BfkVTr0Xc4wHobezYZb3svYjXcSwMP59q7J4Cx/JlNEIIIYQQQgghhBBCFGBl5V84+zyLVDQAagAAAABJRU5ErkJggg=="},48:function(e,a,t){e.exports=t(86)},57:function(e,a,t){},58:function(e,a,t){},82:function(e,a,t){},86:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(42),c=t.n(l),o=t(1),i=t(2),s=t(4),m=t(3),d=t(5),u=t(89),p=t(91),E=t(88),h=t(6),v=t(21),f=t(44),g=t(10),b=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},_={loading:!0,isLoggedIn:!1,users:[],user:{},locals:[],currentLocal:{}},N={loading:!1,local:{},locals:[]},y={loading:!0,employe:{},employes:[]},C={loading:!1,product:{},products:[]},O={loading:!0,brand:{},brands:[]},w={loading:!0,vehicle:{},vehicles:[]},k={loading:!1,clients:[],client:{}},S={providers:[],provider:{},loading:!1},I={loading:!1,sell_success:!1,sell:{},sells:[]},j={order:{},orders:[],loading:!1},R={},D=Object(v.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOADING":return Object(g.a)({},e,{loading:!0});case"USER_END_LOADING":return Object(g.a)({},e,{loading:!1});case"GET_USERS":return Object(g.a)({},e,{users:a.payload,loading:!1});case"SET_CURRENT_USER":var t=!b(a.payload);return Object(g.a)({},e,{isLoggedIn:t,user:a.payload,locals:t?e.locals:[],currentLocal:t?e.currentLocal:{},loading:!1});case"SET_LOCALS":return Object(g.a)({},e,{locals:a.payload,loading:!1});case"SET_CURRENT_LOCAL":return Object(g.a)({},e,{currentLocal:a.payload,loading:!1});default:return e}},employe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"EMPLOYE_LOADING":return Object(g.a)({},e,{loading:!0});case"GET_EMPLOYE":return Object(g.a)({},e,{employe:a.payload,loading:!1});case"GET_EMPLOYES":return Object(g.a)({},e,{employes:a.payload,loading:!1});default:return e}},local:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOCAL_LOADING":return Object(g.a)({},e,{loading:!0});case"GET_LOCAL":return Object(g.a)({},e,{local:a.payload,loading:!1});case"GET_LOCALS":return Object(g.a)({},e,{locals:a.payload,loading:!1});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCT_LOADING":return Object(g.a)({},e,{loading:!0});case"PRODUCT_END_LOADING":return Object(g.a)({},e,{loading:!1});case"GET_PRODUCT":return Object(g.a)({},e,{product:a.payload,loading:!1});case"GET_PRODUCTS":return Object(g.a)({},e,{products:a.payload,loading:!1});default:return e}},brand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"BRAND_LOADING":return Object(g.a)({},e,{loading:!0});case"BRAND_END_LOADING":return Object(g.a)({},e,{loading:!1});case"GET_BRAND":return Object(g.a)({},e,{loading:!1,brand:a.payload});case"GET_BRANDS":return Object(g.a)({},e,{loading:!1,brands:a.payload});default:return e}},vehicle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"VEHICLE_LOADING":return Object(g.a)({},e,{loading:!0});case"VEHICLE_END_LOADING":return Object(g.a)({},e,{loading:!1});case"GET_VEHICLE":return Object(g.a)({},e,{loading:!1,vehicle:a.payload});case"GET_VEHICLES":return Object(g.a)({},e,{loading:!1,vehicles:a.payload});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CLIENT_LOADING":return Object(g.a)({},e,{loading:!0});case"CLIENT_LOADING_END":return Object(g.a)({},e,{loading:!1});case"GET_CLIENT":return Object(g.a)({},e,{loading:!1,client:a.payload});case"GET_CLIENTS":return Object(g.a)({},e,{loading:!1,clients:a.payload});default:return e}},provider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PROVIDER":return Object(g.a)({},e,{provider:a.payload,loading:!1});case"GET_PROVIDERS":return Object(g.a)({},e,{providers:a.payload,loading:!1});case"PROVIDER_LOADING":return Object(g.a)({},e,{loading:!0});case"PROVIDER_LOADING_END":return Object(g.a)({},e,{loading:!1});default:return e}},sell:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELL_LOADING":return Object(g.a)({},e,{loading:!0});case"SELL_END_LOADING":return Object(g.a)({},e,{loading:!1});case"GET_SELL":return Object(g.a)({},e,{loading:!1,sell:a.payload});case"GET_SELLS":return Object(g.a)({},e,{loading:!1,sells:a.payload});case"SELL_SUCCESS":return Object(g.a)({},e,{loading:!1,sell_success:!0});case"SELL_FAILED":return Object(g.a)({},e,{loading:!1,sell_success:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ORDER":return Object(g.a)({},e,{order:a.payload,loading:!1});case"GET_ORDERS":return Object(g.a)({},e,{orders:a.payload,loading:!1});case"ORDER_LOADING":return Object(g.a)({},e,{loading:!0});case"ORDER_LOADING_END":return Object(g.a)({},e,{loading:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return a.payload;case"CLEAR_ERRORS":return{};default:return e}}}),A=[f.a],P=Object(v.e)(D,{},Object(v.d)(v.a.apply(void 0,A))),T=(t(57),t(58),t(87)),x=t(17),L=t.n(x),M=function(){L.a.Sidenav.init(document.querySelectorAll(".sidenav"),[]),L.a.Collapsible.init(document.querySelectorAll(".collapsible"),[]),L.a.Modal.init(document.querySelectorAll(".modal"),[]),L.a.Dropdown.init(document.querySelectorAll(".dropdown-trigger"),[]),L.a.FormSelect.init(document.querySelectorAll("select"),[]),L.a.Tooltip.init(document.querySelectorAll(".tooltipped"),[]),L.a.Materialbox.init(document.querySelectorAll(".materialboxed"),{onOpenEnd:U,onCloseEnd:W}),L.a.updateTextFields();var e=document.getElementsByClassName("sidenav-overlay")[0];e&&e.setAttribute("style","display: none; opacity: 0;")},F=function(){L.a.Materialbox.init(document.querySelectorAll(".materialboxed"),{onOpenEnd:U,onCloseEnd:W})},B=function(){L.a.Modal.init(document.querySelectorAll(".modal"),[])},U=function(e){e.parentElement.parentElement.classList.contains("img-item")&&e.classList.contains("adjust")&&e.classList.remove("adjust")},W=function(e){e.parentElement.parentElement.classList.contains("img-item")&&(e.classList.contains("adjust")||e.classList.add("adjust"))},G=function(){var e=document.getElementsByClassName("sidenav-overlay"),a=document.getElementsByClassName("drag-target"),t=document.getElementsByClassName("material-tooltip"),n=document.getElementsByClassName("hiddendiv");if(e&&e.length>0)for(var r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);if(a&&a.length>0)for(var l=0;l<a.length;l++)a[l].parentNode.removeChild(a[l]);if(t&&t.length>0)for(var c=0;c<t.length;c++)t[c].parentNode.removeChild(t[c]);if(n&&n.length>0)for(var o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o])},V=function(){L.a.FormSelect.init(document.querySelectorAll("select"),[])},z=function(e){var a=document.getElementById(e);return L.a.Modal.getInstance(a)},q=function(e){L.a.toast({html:e,classes:"rounded  red darken-3"})},H=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"normal-site"},r.a.createElement("nav",{className:"red lighten-2"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"https://rimeim.com",className:"brand-logo"},"Rimeim"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/login"},"Login")))))),r.a.createElement("ul",{className:"sidenav",id:"nav_sidenav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},"Login")))),r.a.createElement("div",{className:"row normal-site"},r.a.createElement("div",{className:"showcase"})),r.a.createElement("main",{className:"grey lighten-5 normal-site"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h4",null,"Nuestros productos"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,"REPUESTOS ISUZU KB , DMAX , NPR , NKR , NHR , JMC ,MAHINDRA SCORPIO 4JB1 , 4JA1 , 4JH1,4JJ1 4HF1 , 4HK1, 4HE1 , CREMALLERA HIDRAULICA , SECTORES , TRANSMISIONES ,DIFERENCIALES, TAMBORES DE FRENOS."))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h4",null,"Nuestras marcas")),r.a.createElement("div",{className:"col s12 m4 l4"},r.a.createElement("div",{className:"card hoverable bordered"},r.a.createElement("div",{style:{height:"150px",background:"url('https://rimeim.com/files/icons/izuzu_logo.png') no-repeat center center / cover"}}))),r.a.createElement("div",{className:"col s12 m4 l4"},r.a.createElement("div",{className:"card hoverable bordered"},r.a.createElement("div",{className:"bg-card-jmc",style:{height:"150px",background:"url('https://rimeim.com/files/icons/jmc_logo.png') no-repeat center center / cover"}}))),r.a.createElement("div",{className:"col s12 m4 l4"},r.a.createElement("div",{className:"card hoverable bordered"},r.a.createElement("div",{style:{height:"150px",background:"url('https://rimeim.com/files/icons/mahindra_logo.png') no-repeat center center / cover"}})))))),r.a.createElement("footer",{className:"grey darken-3 white-text normal-site"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-0"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"mt-1"},r.a.createElement("a",{href:"https://www.facebook.com/pg/Rimeim-Autopartes-Especialidad-En-Repuestos-Isuzu-250893418452303",target:"_blank"},r.a.createElement("img",{src:"https://rimeim.com/files/icons/icono_facebook.png",alt:"Facebook icono",style:{height:"40px"}}))))),r.a.createElement("div",{className:"row mb-0"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h5",null,"Contacto"),r.a.createElement("h6",null,"San Pedro Sula: +504 9481-4706"),r.a.createElement("h6",null,"Tegucigalpa +504 9751-2044"))),r.a.createElement("div",{className:"row mb-0"},r.a.createElement("p",{className:"col s12"},"Rimeim \xa9 ",(new Date).getFullYear()," - ventasrimeim@gmail.com")))))}}]),a}(n.Component),Q=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},"Not Found")}}]),a}(n.Component),J=t(8),Y=function(e){var a=e.fullWidth,t=e.extraClass,n=r.a.createElement("div",{className:"spinner-layer spinner-blue-only"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})));return a?r.a.createElement("div",{className:"minw-100 center ".concat(t)},r.a.createElement("div",{className:"preloader-wrapper active"},n)):r.a.createElement("div",{className:"preloader-wrapper active"},n)};Y.defaultProps={fullWidth:!1,extraClass:""};var K=Y,X=function(e){var a=e.input_size,t=e.icon,n=e.type,l=e.id,c=e.label,o=e.active_label,i=e.onchange,s=e.value,m=e.error,d=e.required,u=e.disabled,p=e.placeholder;return r.a.createElement("div",{className:"input-field col ".concat(a)},t&&r.a.createElement("i",{className:"material-icons prefix"},t),o||p?r.a.createElement("input",{type:n,id:l,name:l,className:"validate",onChange:i,value:s,required:d,disabled:u,placeholder:p||""}):r.a.createElement("input",{type:n,id:l,name:l,className:"validate",onChange:i,value:s,required:d,disabled:u}),r.a.createElement("label",{htmlFor:l,className:"".concat(o&&"active")},c),m&&r.a.createElement("span",{className:"helper-text text-danger"},m))};X.defaultProps={input_size:"s12",type:"text",icon:null,error:null,placeholder:null,required:!1,disabled:!1,active_label:!1};var Z=X,$=function(e){var a=e.type,t=e.className,n=e.text,l=e.onClick,c=e.disabled,o=e.icon;return r.a.createElement("button",{className:t,type:a,onClick:l,disabled:c},o&&r.a.createElement("i",{className:"material-icons left"},o),n)};$.defaultProps={type:"button",disabled:!1,icon:null};var ee=$,ae=t(14),te=t.n(ae),ne=t(7),re=t.n(ne),le=t(24),ce=t.n(le),oe=function(e){e?re.a.defaults.headers.common.Auth="yufncm918 ".concat(e):delete re.a.defaults.headers.common.Auth},ie=function(e){e&&e.id?re.a.defaults.headers.common.idlocal="".concat(e.id):delete re.a.defaults.headers.common.idlocal},se=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&a({type:t}),e.response&&e.response.data&&e.response.data.data&&e.response.data.data.error){if("NotValidUser"===e.response.data.data.error)return q("Su usuario es invalido o ya no se encuentra activo"),function(e){setTimeout(function(){Oe(e)},5e3)}(a);"InvalidSession"===e.response.data.data.error&&Oe(a)}if(e.response&&409===e.response.status){var n=e.response.data,r=he(n);a(be(r))}e.response&&e.response.data&&e.response.data.data&&e.response.data.data.error_process&&q(e.response.data.data.error_process);var l={};e.response&&e.response.data&&"undefined"!==typeof e.response.data.data&&(l=e.response.data.data),a({type:"GET_ERRORS",payload:l})},me="https://rimeim.com/api",de=function(e){return function(a){var t=b(e)?{}:e;ie(t),b(t)?localStorage.removeItem("rimeim_current_local"):localStorage.setItem("rimeim_current_local",JSON.stringify(t)),a(Ne(t))}},ue=function(e){return function(a){a(ge()),a(fe()),re.a.get("".concat(me,"/users/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a(ye([t.data]))}).catch(function(e){return se(e,a)})}},pe=function(e,a){return function(t){re.a.put("".concat(me,"/users/update/").concat(e),a).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var a=e.data;ve(a,t),t(ye([a.data]))}).catch(function(e){return se(e,t)})}},Ee=function(e,a){return function(t){re.a.put("".concat(me,"/users/update_password/").concat(e),a).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var a=e.data;ve(a,t),t({type:"USER_END_LOADING"})}).catch(function(e){return se(e,t)})}},he=function(e){var a=e.token;return localStorage.setItem("rimeim_token",a),oe(a),ce()(a)},ve=function(e,a){var t=he(e);e.data.primera_sesion&&!0===e.data.primera_sesion&&(t.primera_sesion=!0),a(be(t))},fe=function(){return function(e){e({type:"GET_USERS",payload:[]})}},ge=function(){return{type:"USER_LOADING"}},be=function(e){return{type:"SET_CURRENT_USER",payload:e}},_e=function(e){return{type:"SET_LOCALS",payload:e}},Ne=function(e){return{type:"SET_CURRENT_LOCAL",payload:e}},ye=function(e){return{type:"GET_USERS",payload:e}},Ce=function(){return function(e){localStorage.removeItem("rimeim_token"),localStorage.removeItem("rimeim_current_local"),oe(!1),de(null),e(be({}))}},Oe=function(e){localStorage.removeItem("rimeim_token"),localStorage.removeItem("rimeim_current_local"),oe(!1),de(null),e(be({}))},we=function(e,a){e.history.push(a)},ke=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isInRequest:!1,user:"",password:"",errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSubmitEvent=function(e){e.preventDefault(),t.setState({isInRequest:!0});var a={user:t.state.user,password:t.state.password};t.props.loginUser(a)},t.forgotPassword=function(){},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.user.isLoggedIn&&we(this.props,"/seleccionar_local")}},{key:"componentWillReceiveProps",value:function(e){if(this.setState({isInRequest:!1}),e.user.isLoggedIn)return this.setState({errors:{}}),void(!0===e.user.user.primera_sesion?this.props.history.push("/primera_sesion"):this.props.history.push("/seleccionar_local"));e.errors?this.setState({errors:e.errors}):this.setState({errors:{}})}},{key:"render",value:function(){var e=this.state,a=e.user,t=e.password,n=e.isInRequest,l=e.errors,c=l.user_error,o=l.password_error;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"valign-wrapper minh-100"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("img",{src:te.a,alt:"Rimeim logo"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:this.onSubmitEvent,className:"white bordered p-1 border-radius-1 hoverable minw-300px "},n&&r.a.createElement(K,{fullWidth:!0,extraClass:"p-1"}),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"user",label:"Usuario o correo electronico",icon:"account_circle",onchange:this.onChangeTextInput,value:a,error:c,disabled:n,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"password",label:"Clave",icon:"lock",type:"password",onchange:this.onChangeTextInput,value:t,error:o,disabled:n,required:!0})),r.a.createElement(ee,{text:"Aceptar",className:"btn waves-effect waveslight btn-block red darken-1",type:"submit",disabled:n}),r.a.createElement(ee,{text:"\xbfOlvido su clave?",className:"btn-flat waves-effect waveslight btn-block mt-1",onClick:this.forgotPassword,disabled:n}))))))))}}]),a}(n.Component),Se=Object(h.b)(function(e){return{user:e.user,errors:e.errors}},{loginUser:function(e){return function(a){re.a.post("".concat(me,"/users/login"),e,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){var t=e.data;ve(t,a)}).catch(function(e){se(e,a)})}}})(ke),Ie=t(18),je=t(11),Re=t.n(je),De=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.active_nav,n=a.has_notifications,l=a.show_more_option,c=a.user.user.admin,o=this.props.mobile_nav?this.props.mobile_nav:null;return r.a.createElement("header",null,o,r.a.createElement("nav",{className:"red lighten-1 top-nav"},r.a.createElement("div",{className:"small-container"},this.props.children,l&&r.a.createElement("ul",{className:"mobile-only right"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons"},"more_vert")))))),r.a.createElement("ul",{className:"sidenav sidenav-fixed",id:"nav_sidenav"},r.a.createElement("li",{className:"logo"},r.a.createElement("a",{href:"#!",className:"brand-logo center mt-1"},r.a.createElement("img",{src:te.a,className:"logo-sidenav",alt:""})),r.a.createElement("div",{className:"divider"})),r.a.createElement("li",{className:"no-padding"},r.a.createElement("ul",{className:"collapsible collapsible-accordion pb-navbar"},r.a.createElement("li",{className:"bold ".concat("VENTAS"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"monetization_on"),"Ventas"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_venta"}," Nueva ")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/ventas"}," Historial "))))),r.a.createElement("li",{className:"bold ".concat("COTIZACIONES"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"library_books"),"Cotizaciones"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_cotizacion"},"Nueva")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/cotizaciones"},"Historial"))))),r.a.createElement("li",{className:"bold ".concat("DEVOLUCIONES"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"money_off"),"Devoluciones"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/devoluciones"},"Historial"))))),r.a.createElement("li",{className:"bold ".concat("PEDIDOS"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"border_color"),"Pedidos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_pedido"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/pedidos"},"Pedidos")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/buscar_pedido"},"Buscar"))))),r.a.createElement("li",{className:"bold ".concat("PRODUCTOS"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"directions_car"),"Productos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/productos"},"Inventario")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_producto"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/marcas"},"Marcas")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/vehiculos"},"Tipo de vehiculo"))))),r.a.createElement("li",{className:"bold ".concat("CLIENTES"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"group"),"Clientes"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_cliente"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/clientes"},"Ver todos"))))),r.a.createElement("li",{className:"bold ".concat("PROVEEDOR"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"perm_contact_calendar"),"Proveedor"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_proveedor"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/proveedores"},"Ver todos"))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"bold ".concat("CUENTA"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},n?r.a.createElement("i",{className:"material-icons notifications-active"},"notifications_active"):r.a.createElement("i",{className:"material-icons"},"notifications"),"Cuenta"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons ".concat(n&&"notifications-active-color")},"notifications"),"Notificaciones")),c&&r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){e.props.setCurrentLocal(null)}},r.a.createElement("i",{className:"material-icons"},"compare_arrow"),"Cambiar de local")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/configuracion"},r.a.createElement("i",{className:"material-icons"},"settings"),"Configuracion")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){e.props.logoutUser()}},r.a.createElement("i",{className:"material-icons"},"exit_to_app"),"Cerrar sesion")))))))))}}]),a}(n.Component);De.defaultProps={has_notifications:!1,show_more_option:!1};var Ae=Object(h.b)(function(e){return{user:e.user}},{setCurrentLocal:de,logoutUser:Ce})(De),Pe=function(e){var a=e.colsize,t=e.title,n=e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return r.a.createElement("div",{className:"col ".concat(a)},r.a.createElement("p",{className:"d-block"},t),r.a.createElement("p",{className:"total-number"},"Lps ",r.a.createElement("span",null,n)))};Pe.defaultProps={colsize:"s4",title:"",value:"0.0"};var Te=Pe,xe=function(){return function(e){e(Ue()),re.a.get("".concat("https://rimeim.com/api","/products/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_PRODUCTS",payload:t.data}),e({type:"CLEAR_ERRORS",payload:{}})}).catch(function(a){return se(a,e,"PRODUCT_END_LOADING")})}},Le=function(e){return function(a){a(Ue()),re.a.post("".concat("https://rimeim.com/api","/products/search"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_PRODUCTS",payload:t.data}),a(We()),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"PRODUCT_END_LOADING")})}},Me=function(e){return function(a){a(Ue()),re.a.get("".concat("https://rimeim.com/api","/products/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_PRODUCT",payload:t.data})}).catch(function(e){return se(e,a,"PRODUCT_END_LOADING")})}},Fe=function(e){return function(a){a(Ue()),re.a.post("".concat("https://rimeim.com/api","/products/get_one_fsell"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_PRODUCT",payload:t.data})}).catch(function(e){a({type:"GET_PRODUCT",payload:{}}),se(e,a)})}},Be=function(e,a){return function(t){t(Ue()),re.a.post("".concat("https://rimeim.com/api","/products/update/").concat(e),a,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var a=e.data;ve(a,t),t({type:"GET_PRODUCT",payload:a.data})}).catch(function(e){return se(e,t,"PRODUCT_END_LOADING")})}},Ue=function(){return{type:"PRODUCT_LOADING"}},We=function(){return{type:"PRODUCT_END_LOADING"}},Ge="https://rimeim.com/api",Ve=function(e){return function(a){qe(a),re.a.post("".concat(Ge,"/sales/search"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_SELLS",payload:t.data}),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"SELL_END_LOADING")})}},ze=function(e){return function(a){qe(a),re.a.post("".concat(Ge,"/sales/add"),e).then(function(e){var t=e.data;ve(t,a),a({type:"CLEAR_ERRORS",payload:{}}),a({type:"SELL_SUCCESS"})}).catch(function(e){return se(e,a,"SELL_FAILED")})}},qe=function(e){e(He())},He=function(){return{type:"SELL_LOADING"}},Qe=(t(23),t(45)),Je=t.n(Qe);function Ye(e){return r.a.createElement("div",{className:"".concat(e.className," text-center w-100")},r.a.createElement("img",{src:Je.a,alt:""}),r.a.createElement("h4",null,e.message))}var Ke=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={field:"",typing:!1,typingTimeout:0,searching:!1},t.onChangeTextInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field:e.target.value,typing:!1,typingTimeout:setTimeout(function(){""!==t.state.field.trim()?t.props.searchProduct({field:t.state.field}):t.setState({searching:!1})},1500)})},t.onHideModal=function(){t.props.onHide&&t.props.onHide()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.product.products&&this.setState({searching:!1})}},{key:"render",value:function(){var e,a=this.state,t=a.field,n=a.searching,l=this.props.product,c=l.products,o=l.loading;return e=n||o?r.a.createElement(K,{fullWidth:!0}):c&&c.length>0?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Codigo"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Marca"),r.a.createElement("th",null,"Tipo de vehiculo"))),r.a.createElement("tbody",null,c.map(function(e){return r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.codigo_barra),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.precio),r.a.createElement("td",null,e.marca&&e.marca.nombre),r.a.createElement("td",null,e.tipo_vehiculo&&e.tipo_vehiculo.nombre))}))):r.a.createElement(Ye,{message:"No se encontro ningun producto"}),r.a.createElement("div",{className:"modal",id:"search_product_and_show_info"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"field",onchange:this.onChangeTextInput,value:t})),e),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat modal-close",onClick:this.onHideModal},"Cerrar")))}}]),a}(n.Component),Xe=Object(h.b)(function(e){return{product:e.product}},{searchProduct:Le})(Ke),Ze=function(){return function(e){e(aa()),e({type:"CLEAR_ERRORS",payload:{}}),re.a.get("".concat("https://rimeim.com/api","/clients/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_CLIENTS",payload:t.data})}).catch(function(a){return se(a,e)})}},$e=function(e){return function(a){a({type:"CLEAR_ERRORS",payload:{}}),a(aa()),re.a.get("".concat("https://rimeim.com/api","/clients/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_CLIENT",payload:t.data})}).catch(function(e){return se(e,a)})}},ea=function(e){return function(a){a(aa()),re.a.post("".concat("https://rimeim.com/api","/clients/search"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_CLIENTS",payload:t.data}),setTimeout(function(){return ta()},10)}).catch(function(e){return se(e,a)})}},aa=function(){return{type:"CLIENT_LOADING"}},ta=function(){return{type:"CLIENT_LOADING_END"}},na=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={field_cliente:"",typing:!1,typingTimeout:0,searching:!1},t.onChangeTextInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field_cliente:e.target.value,typing:!1,typingTimeout:setTimeout(function(){""!==t.state.field_cliente.trim()?t.props.searchClient({field:t.state.field_cliente}):t.setState({searching:!1})},1500)})},t.onHideModal=function(){t.props.onHide&&t.props.onHide()},t.onClickInClient=function(e){t.props.onSelectClient&&t.props.onSelectClient(e),z("modal_seleccionar_cliente").close()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.client.clients&&this.setState({searching:!1})}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.field_cliente,c=n.searching,o=this.props,i=o.currentClient,s=o.client.loading;return e=c||s?r.a.createElement(K,{fullWidth:!0}):this.props.client.clients.length>0?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"RTN"),r.a.createElement("th",null,"Correo"))),r.a.createElement("tbody",null,this.props.client.clients.map(function(e){return r.a.createElement("tr",{key:Re()(),onClick:t.onClickInClient.bind(t,e),className:"cursor-pointer"},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.rtn),r.a.createElement("td",null,e.correo))}))):r.a.createElement(Ye,{message:"No se encontraron clientes"}),i&&!b(i)&&(a=r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"current_client",value:"".concat(i.nombre," - ").concat(i.rtn),onchange:this.onChangeTextInput,disabled:!0}))),r.a.createElement("div",{className:"modal",id:"modal_seleccionar_cliente"},r.a.createElement("div",{className:"modal-content"},a,r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"field_cliente",label:"Nombre de cliente, rtn o codigo",value:l,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},e))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close btn-flat",onClick:this.onHideModal},"Cerrar"," ")))}}]),a}(n.Component),ra=Object(h.b)(function(e){return{client:e.client}},{searchClient:ea})(na),la=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).closeCurrentModal=function(){z("modal_sell_configuracion").close()},t.onChangeCurrentClient=function(){t.closeCurrentModal(),t.props.id_search_client_modal&&z(t.props.id_search_client_modal).open()},t.onCloseClick=function(){t.closeCurrentModal(),t.props.onHide&&t.props.onHide()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.props.currentClient;return e=a&&!b(a)?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s9"},r.a.createElement("h6",null,a.nombre," ",a.rtn)),r.a.createElement("div",{className:"col s3"},r.a.createElement("button",{className:"btn",onClick:this.onChangeCurrentClient},"Cambiar"))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s3"},r.a.createElement("button",{className:"btn",onClick:this.onChangeCurrentClient},"Seleccionar"))),r.a.createElement("div",{className:"modal",id:"modal_sell_configuracion"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Cliente"),e),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat",onClick:this.onCloseClick},"Cerrar")))}}]),a}(n.Component),ca=t(9),oa=t.n(ca),ia=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},sa=function(e){var a=e.input_size,t=e.id,n=e.label,l=e.required,c=e.onchange,o=e.disabled,i=e.value,s=e.options,m=e.error;return r.a.createElement("div",{className:"input-field col ".concat(a)},r.a.createElement("select",{id:t,name:t,required:l,disabled:o,onChange:c,value:i},r.a.createElement("option",{value:"0"},"Seleccionar"),s.map(function(e){return r.a.createElement("option",{value:"".concat(e.value),key:"opt".concat(e.value)},e.label)})),r.a.createElement("label",{htmlFor:t},n),m&&r.a.createElement("span",{className:"helper-text text-danger"},m))};sa.defaultProps={input_size:"s12",label:null,required:!1,disabled:!1};var ma=sa,da=function(e){var a=e.label,t=e.size,n=e.checked,l=e.id,c=e.onchange,o=e.disabled,i=e.readOnly;return r.a.createElement("div",{className:"col ".concat(t)},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",className:"filled-in",checked:n?"checked":"",id:l,name:l,onChange:c,disabled:o?"disabled":"",readOnly:i}),r.a.createElement("span",null,a)))};da.defaultProps={size:"s12",checked:!1,disabled:!1};var ua=da,pa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo:"",con_factura:!1,metodo_pago:"0",metodos_pago:[{value:"1",label:"Tarjeta"},{value:"2",label:"Efectivo"}],custom_errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.hideModal=function(){z("modal_sell_checkout").close()},t.onHideClick=function(){t.props.loading||(t.hideModal(),t.props.onHide&&t.props.onHide())},t.onAcceptClick=function(){if(!t.props.loading){if(!t.props.es_cotizacion){var e=t.state.custom_errors;if("0"===t.state.metodo_pago?e.metodo_pago_error="Seleccione un metodo de pago":delete e.metodo_pago_error,t.setState({custom_errors:e}),!b(e))return}if(t.props.onAccept){var a=t.state,n=a.codigo,r=a.con_factura,l=a.metodo_pago,c=a.metodos_pago,o=t.props,i=o.currentClient,s=o.sumValues,m={sub_total:s.subtotal,impuesto:s.impuesto,total:s.total,codigo:n,con_factura:r};if(!t.props.es_cotizacion){var d=c.find(function(e){return e.value===l});m.metodo_pago=d.label.toLowerCase()}i.id&&(m.id_cliente=i.id),t.props.onAccept(m)}}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.state,t=a.codigo,n=a.metodos_pago,l=a.metodo_pago,c=a.con_factura,o=a.custom_errors.metodo_pago_error,i=this.props,s=i.currentClient,m=i.loading,d=i.errors.codigo_error,u=i.sumValues,p=u.subtotal,E=u.impuesto,h=u.total,v=i.es_cotizacion;return s&&!b(s)&&(e=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h6",null,"Cliente: ",s.nombre," ",s.rtn)))),r.a.createElement("div",{className:"modal",id:"modal_sell_checkout"},r.a.createElement("div",{className:"modal-content"},e,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h6",null,"Sub total: Lps ",ia(p)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h6",null,"Impuesto: Lps ",ia(E)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h6",null,"Total: Lps ",ia(h)))),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo",label:"Codigo (opcional)",value:t,onchange:this.onChangeTextInput,error:d,disabled:m})),!v&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"metodo_pago",label:"Metodo de pago",value:l,options:n,onchange:this.onChangeTextInput,error:o})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"con_factura",label:"Con factura",checked:c,onchange:this.onChangeCheckField,disabled:m}))),m&&r.a.createElement(K,{fullWidth:!0})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat left ".concat(m?"disabled":""," "),onClick:this.onHideClick},"Cerrar"),r.a.createElement("a",{href:"#!",className:"btn ".concat(m?"disabled":""),onClick:this.onAcceptClick},"Aceptar")))}}]),a}(n.Component);pa.proptTypes={currentClient:oa.a.object,loading:oa.a.bool.isRequired,errors:oa.a.object.isRequired,sumValues:oa.a.object.isRequired,onAccept:oa.a.func,onHide:oa.a.func,es_cotizacion:oa.a.bool.isRequired},pa.defaultProps={es_cotizacion:!1};var Ea=pa,ha=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).closeModal=function(){z(t.props.id).close()},t.onCancelClick=function(){t.props.onCancel&&t.props.onCancel(),t.closeModal()},t.onAcceptClick=function(){t.props.onAccept(),t.closeModal()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.title,t=e.message,n=e.id;return r.a.createElement("div",{className:"modal",id:n},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,a),t&&r.a.createElement("p",null,t)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat left",onClick:this.onCancelClick},"Cancelar"),r.a.createElement("button",{className:"btn right red darken-2",onClick:this.onAcceptClick},"Aceptar")))}}]),a}(n.Component);ha.defaultProps={message:null,id:"modal_confirmar_evento"};var va=ha,fa=!0,ga=0,ba=!1,_a=!1,Na=!1,ya=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={input_codigo_barra:"inputcbr",input_cantidad:"inputcant",input_precio:"inputprec",component_message:"",guardar_como_cotizacion:!1,errors:{},products:[],currentClient:{},count_of_products_to_add:20,count_of_rows_to_add:10,count_of_minimum_rows:2},t.addFreeRowsToState=function(e){for(var a=t.state.products,n=0;n<e;n++)a.push({local_id:Re()(),id_producto:"",codigo_barra:"",cantidad:"",nombre:"",precio:""});t.setState({products:a})},t.onKeyDownInAllPage=function(e){113===(e=e||window.event).keyCode&&z("search_product_and_show_info").open()},t.onAcceptConfirm=function(){"La venta se ha guardado exitosamente"===t.state.component_message&&window.location.reload()},t.onHideModal=function(){Na?(t.setState({guardar_como_cotizacion:!1}),fa=!0):setTimeout(function(){return t.setAutomaticInputRowFocus()},1e3)},t.onSelectClient=function(e){t.setState({currentClient:e}),t.onHideModal()},t.getCountOfTotalRowsFree=function(){return t.state.products.filter(function(e){return""===e.id_producto}).length},t.getCounfOfTotalProducts=function(){return t.state.products.filter(function(e){return""!==e.id_producto}).length},t.onInputKeyPress=function(e,a,n,r){if(!ba)if(13===r.keyCode){var l=document.getElementById("".concat(a).concat(e)).value.trim(),c=t.isValidNewInputValue(a,l);c.is_valid?t.setValueToProductRow(a,n,"".concat(c.value)):(t.goBackToInputValue(a,e,n),t.setInputRowFocus(n))}else{if(8===r.keyCode&&!r.ctrlKey)return;if(27===r.keyCode)t.goBackToInputValue(a,e,n);else if(46===r.keyCode||r.ctrlKey&&8===r.keyCode){var o=t.state.products,i=o.find(function(a){return a.local_id===e});""!==i.id_producto&&i&&(t.setState({products:o.filter(function(e){return e!==i})}),fa=!0)}else{if(17===r.keyCode)return;if(a===t.state.input_codigo_barra){var s=document.getElementById("".concat(a).concat(e)).value.trim();s.length>=7&&t.setValueToProductRow(a,n,s)}}}},t.goBackToInputValue=function(e,a,n){document.getElementById("".concat(e).concat(a)).value=t.getBackInputValue(e,n)},t.getBackInputValue=function(e,a){var n="";switch(e){case t.state.input_codigo_barra:n=t.state.products[a].codigo_barra;break;case t.state.input_cantidad:n=t.state.products[a].cantidad;break;case t.state.input_precio:n=t.state.products[a].precio}return n},t.isValidNewInputValue=function(e,a){var n="",r=!1;switch(e){case t.state.input_codigo_barra:""!==a&&(n=a,r=!0);break;case t.state.input_cantidad:n=parseInt(a),!isNaN(n)&&n>=0&&(r=!0);break;case t.state.input_precio:n=parseFloat(a),!isNaN(n)&&n>=0&&(r=!0)}return{is_valid:r,value:n}},t.setValueToProductRow=function(e,a,n){var r=t.state,l=r.products,c=r.currentClient;switch(e){case t.state.input_codigo_barra:a<=ga&&""===l[a].id_producto?(ba=!0,l[a].codigo_barra=n,t.props.getProductByCBForSell({codigo_barra:n,id_ciente:c.id})):fa=!0;break;case t.state.input_cantidad:l[a].cantidad=n,fa=!0;break;case t.state.input_precio:l[a].precio=n,fa=!0}t.setState({products:l})},t.setAutomaticInputRowFocus=function(){for(var e=0,a=0;a<t.state.products.length;a++)if(""===t.state.products[a].id_producto){e=a;break}t.removeBgColorForCurrentRow(),fa=!1,ga=e,t.setInputRowFocus(e),t.setBgColorForCurrentRow()},t.setInputRowFocus=function(e){var a="".concat(t.state.input_codigo_barra).concat(t.state.products[e].local_id),n=document.getElementById(a);n&&n.focus()},t.removeBgColorForCurrentRow=function(){var e=t.state.products[ga];if(e){var a=e.local_id;document.getElementById("trow".concat(a)).classList.remove("active-tr-sell")}},t.setBgColorForCurrentRow=function(){var e=t.state.products[ga];if(e){var a=e.local_id,n=document.getElementById("trow".concat(a));n.classList.remove("active-tr-sell-error"),n.classList.add("active-tr-sell")}},t.setBgErrorColorRowCurrentRow=function(){var e=t.state.products[ga];if(e){var a=e.local_id,n=document.getElementById("trow".concat(a));n.classList.remove("active-tr-sell"),n.classList.add("active-tr-sell-error"),setTimeout(function(){return t.setBgColorForCurrentRow()},2e3)}},t.getTrCodeForProduct=function(e,a,n){var l=t.state,c=l.input_codigo_barra,o=l.input_cantidad,i=(l.input_precio,n.codigo_barra),s=n.nombre,m=n.cantidad,d=n.precio;return r.a.createElement("tr",{id:"trow".concat(a),key:Re()()},r.a.createElement("td",{className:"td-with-input"},r.a.createElement("input",{type:"text",id:"".concat(c).concat(a),className:"special-input browser-default",onKeyUp:t.onInputKeyPress.bind(Object(Ie.a)(Object(Ie.a)(t)),a,c,e),defaultValue:i})),r.a.createElement("td",{className:"td-with-input"},s),r.a.createElement("td",{className:"td-with-input"},r.a.createElement("input",{id:"".concat(o).concat(a),type:"text",className:"special-input browser-default",onKeyDown:t.onInputKeyPress.bind(Object(Ie.a)(Object(Ie.a)(t)),a,o,e),defaultValue:m})),r.a.createElement("td",{className:"td-with-input"},d))},t.getValuesForProduct=function(e){var a,t=0,n=parseInt(e.cantidad),r=parseFloat(e.precio);return!isNaN(n)&&n>=0&&!isNaN(r)&&r>=0&&(t+=n*r),{subtotal:t,impuesto:a=.15*t,total:t+a}},t.openModalCheckOut=function(){t.getCounfOfTotalProducts()>0?z("modal_sell_checkout").open():q("No hay productos para facturar")},t.onSaveAsQuotation=function(){t.setState({guardar_como_cotizacion:!0}),Na=!0,z("modal_sell_checkout").open()},t.onCheckOutSell=function(e){e.productos=t.state.products.filter(function(e){return""!==e.id_producto}),e.es_cotizacion=t.state.guardar_como_cotizacion,_a=!0,t.props.addNewSell(e)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillUnmount",value:function(){document.onkeydown=null}},{key:"componentWillMount",value:function(){G(),ga=0,fa=!0}},{key:"componentDidMount",value:function(){M(),document.onkeydown=this.onKeyDownInAllPage,this.addFreeRowsToState(this.state.count_of_products_to_add)}},{key:"componentDidUpdate",value:function(){if(this.getCountOfTotalRowsFree()===this.state.count_of_minimum_rows)return this.addFreeRowsToState(this.state.count_of_rows_to_add);Na&&fa&&(Na=!1,V()),fa&&!ba&&this.setAutomaticInputRowFocus()}},{key:"componentWillReceiveProps",value:function(e){var a=this;if(e.product.product&&!e.product.loading&&ba){var t=e.product.product,n=this.state.products;t&&Object.keys(t).length>0?(n[ga]=Object(g.a)({},n[ga],{id_producto:t.id,codigo_barra:t.codigo_barra,nombre:"".concat(t.nombre," - ").concat(t.marca_nombre),cantidad:1,precio:t.precio}),fa=!0,this.setState({products:n})):setTimeout(function(){a.setInputRowFocus(ga),a.setBgErrorColorRowCurrentRow()},1e3),ba=!1}if(e.sell&&_a&&!e.sell.loading&&(!e.errors||b(e.errors))){var r="";r=e.sell.sell_success?"La venta se ha guardado exitosamente":"Ocurrio un error en el proceso, por favor notificar al desarrollador",_a=!1,this.setState({component_message:r}),z("modal_sell_checkout").close(),z("modal_confirmar_evento").open()}}},{key:"render",value:function(){var e=this,a=this.state,t=a.products,n=a.currentClient,l={subtotal:0,impuesto:0,total:0},c=t.map(function(a,t){var n=e.getValuesForProduct(a);return l.subtotal+=n.subtotal,l.impuesto+=n.impuesto,l.total+=n.total,e.getTrCodeForProduct(t,a.local_id,a)});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"VENTAS"},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#search_product_and_show_info",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_sell_configuracion",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"settings"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveAsQuotation},r.a.createElement("i",{className:"material-icons"},"save"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.openModalCheckOut},r.a.createElement("i",{className:"material-icons"},"check")))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nueva venta"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#search_product_and_show_info",className:"modal-trigger tooltipped","data-position":"bottom","data-tooltip":"Buscar producto"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_sell_configuracion",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"settings"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Guardar como cotizacion",onClick:this.onSaveAsQuotation},r.a.createElement("i",{className:"material-icons"},"save"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Facturar",onClick:this.openModalCheckOut},r.a.createElement("i",{className:"material-icons"},"check")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row venta-productos"},r.a.createElement("div",{className:"col s12 no-padding"},r.a.createElement("table",{className:"table-bordered header-fixed striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"center"},"Codigo"),r.a.createElement("th",{className:"center"},"Descripcion"),r.a.createElement("th",{className:"center"},"Cantidad"),r.a.createElement("th",{className:"center"},"Precio"))),r.a.createElement("tbody",null,c)))),r.a.createElement("div",{className:"row col-bordered venta-total"},r.a.createElement(Te,{title:"Sub total",value:l.subtotal}),r.a.createElement(Te,{title:"Impuesto",value:l.impuesto}),r.a.createElement(Te,{title:"Total",value:l.total}))),r.a.createElement(Xe,{onHide:this.onHideModal}),r.a.createElement(ra,{onHide:this.onHideModal,currentClient:n,onSelectClient:this.onSelectClient}),r.a.createElement(la,{id_search_client_modal:"modal_seleccionar_cliente",currentClient:n,onHide:this.onHideModal}),r.a.createElement(Ea,{currentClient:n,loading:this.props.sell.loading,errors:this.props.errors,sumValues:l,onHide:this.onHideModal,onAccept:this.onCheckOutSell,es_cotizacion:this.state.guardar_como_cotizacion}),r.a.createElement(va,{title:"Aviso",message:this.state.component_message,onAccept:this.onAcceptConfirm}))}}]),a}(n.Component),Ca=Object(h.b)(function(e){return{sell:e.sell,errors:e.errors,product:e.product}},{getProductByCBForSell:Fe,addNewSell:ze})(ya),Oa=function(e){var a=e.sell,t=a.id,n=a.codigo,l=a.fecha_creado,c=a.con_factura,o=a.total,i=a.usuario_creador,s=a.cliente,m=e.is_admin,d=e.es_cotizacion;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"".concat(m?"/admin":"","/").concat(d?"cotizaciones":"ventas","/").concat(t)},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"ID: ",t),r.a.createElement("span",{className:"right"},l)),n&&r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Codigo: ",n)),s&&r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Cliente: ",s.nombre," ",s.rtn?" - ".concat(s.rtn):"")),r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Vendedor: ",i.id," -"," ",r.a.createElement("span",null," ",i.nombre))),r.a.createElement("div",{className:"d-block"},!d&&r.a.createElement("span",null,c?"C/F":"S/F"),r.a.createElement("span",{className:"".concat(d?"":"right")},"Total: Lps ",ia(o))))))},wa=function(e){var a=e.sells,t=e.loading,n=e.is_admin,l=e.es_cotizacion;return t?r.a.createElement(K,{fullWidth:!0}):a.length>0?a.map(function(e){return r.a.createElement(Oa,{key:Re()(),sell:e,is_admin:n,es_cotizacion:l})}):r.a.createElement(Ye,{message:"No hay informacion para mostrar"})};wa.defaultProps={is_admin:!1,es_cotizacion:!1};var ka=wa,Sa=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={field:"",cliente:"0",productos:"",metodo_pago:"0",metodos_pago:[{value:"1",label:"Efectivo"},{value:"2",label:"Tarjeta"}],con_factura:!1},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.onSearchClick=function(){var e=t.state,a=e.field,n=e.cliente,r=e.con_factura,l=e.productos,c=e.metodo_pago,o=null,i=e.metodos_pago.find(function(e){return e.value===c});i&&(o=i.label),t.props.onSearch({field:a,id_cliente:"0"!==n?n:null,con_factura:r,productos:l.split(","),metodo_pago:o})},t.onGetAllClick=function(){t.props.onGetAll&&t.props.onGetAll()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.field,t=e.con_factura,n=e.cliente,l=e.productos,c=e.metodos_pago,o=e.metodo_pago,i=this.props.es_cotizacion;return r.a.createElement("div",{className:"modal",id:"modal_search"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"field",label:"Codigo o id",value:a,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"cliente",label:"Cliente",value:n,options:this.props.clientes,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"productos",label:"Productos",placeholder:"00192, 911201, 12212",value:l,onchange:this.onChangeTextInput})),!i&&r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"metodo_pago",label:"Metodo de pago",value:o,options:c,onchange:this.onChangeTextInput})),!i&&r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"con_factura",label:"Con factura",checked:t,onchange:this.onChangeCheckField}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn btn-flat modal-close left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"btn modal-close",onClick:this.onGetAllClick,style:{marginRight:"20px"}},"Obtener todo"),r.a.createElement("a",{href:"#!",className:"btn modal-close",onClick:this.onSearchClick},"Buscar")))}}]),a}(n.Component);Sa.defaultProps={es_cotizacion:!1};var Ia=Sa,ja=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={clientes:[],need_config_selects:!1},t.onSearchSell=function(e){t.props.searchSell(e)},t.onGetAll=function(){t.props.getSells()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getSells(),this.props.getClients()}},{key:"componentDidUpdate",value:function(){this.state.need_config_selects&&(V(),this.setState({need_config_selects:!1}))}},{key:"componentWillReceiveProps",value:function(e){if(e.client&&e.client.clients.length>0){var a=[];e.client.clients.forEach(function(e){a.push({value:e.id,label:e.nombre})}),this.setState({clientes:a,need_config_selects:!0})}}},{key:"render",value:function(){var e=this.props.sell,a=e.loading,t=e.sells,n=this.props.user,l=n.user,c=n.currentLocal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"VENTAS",show_more_option:!0},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_venta"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_search",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Ventas"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_venta"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_search",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(ka,{sells:t,loading:a,is_admin:l.admin&&"0"===c.id}))),r.a.createElement(Ia,{onSearch:this.onSearchSell,clientes:this.state.clientes,onGetAll:this.onGetAll})))}}]),a}(n.Component),Ra=Object(h.b)(function(e){return{sell:e.sell,user:e.user,client:e.client}},{getSells:function(){return function(e){qe(e),re.a.get("".concat(Ge,"/sales/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_SELLS",payload:t.data}),e({type:"CLEAR_ERRORS",payload:{}})}).catch(function(a){return se(a,e,"SELL_END_LOADING")})}},searchSell:Ve,getClients:Ze})(ja);function Da(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons "},"save"),"Guardar")),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_producto"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"check"),"Facturar")))}function Aa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nueva venta"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Guardar"},r.a.createElement("i",{className:"material-icons"},"save"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_producto",className:"modal-trigger tooltipped","data-position":"bottom","data-tooltip":"Buscar producto"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Facturar"},r.a.createElement("i",{className:"material-icons"},"check")))),r.a.createElement("ul",{className:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function Pa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Historial de ventas"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_venta",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Ta(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar venta"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_venta",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function xa(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"print"),"Imprimir")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"save"),"Guardar")))}function La(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cotizaciones"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"buscar_cotizacion.html",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Ma(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cotizaciones"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_cotizacion",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Fa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nueva cotizacion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Imprimir"},r.a.createElement("i",{className:"material-icons"},"print"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Guardar"},r.a.createElement("i",{className:"material-icons"},"save")))),r.a.createElement("ul",{className:"mobile-only right"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function Ba(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Devoluciones"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")))}function Ua(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar devolucion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_devolucion",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Wa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Devolucion: Venta #codigo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Finalizar"},r.a.createElement("i",{className:"material-icons"},"check")))))}function Ga(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"nuevo_pedido.html"},r.a.createElement("i",{className:"material-icons"},"add"),"Nuevo")),r.a.createElement("li",null,r.a.createElement("a",{href:"buscar_pedido.html"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar")))}function Va(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo pedido"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function za(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Pedido: #codigo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"nuevo_pedido.html",className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit")))))}function qa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Pedidos"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_pedido",className:"tooltipped","data-position":"left","data-tooltip":"Nuevo"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"buscar_pedido.html",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("ul",{className:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function Ha(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar pedido"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_pedido",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Qa(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"add"),"Agegar inventario")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit"),"Editar")))}function Ja(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"add"),"Nueva")),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_marca",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar")))}function Ya(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_nuevo_tipo_vehiculo"},r.a.createElement("i",{className:"material-icons"},"add"),"Nuevo")),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_tipo_vehiculo"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar")))}function Ka(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Inventario"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function Xa(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Producto: Nombre"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Agregar inventario"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit")))),r.a.createElement("ul",{className:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function Za(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar producto"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_producto",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function $a(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Marcas"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Nueva"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_marca",className:"modal-trigger tooltipped","data-position":"bottom","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("ul",{className:"mobile-only right"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons"},"more_vert")))))}function et(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Tipo de vehiculo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_nuevo_tipo_vehiculo",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Nuevo"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_tipo_vehiculo",className:"modal-trigger tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("ul",{className:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function at(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Clientes"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/buscar_cliente",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function tt(e){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo Cliente"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function nt(e){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar Cliente"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function rt(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar cliente"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_cliente",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))}function lt(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Nuevo pedido"},r.a.createElement("i",{className:"material-icons"},"add"),"Nuevo pedido")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit"),"Editar")))}function ct(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Proveedores"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"buscar_cliente.html",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function ot(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Proveedor"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Nuevo pedido"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit")))),r.a.createElement("ul",{class:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons"},"more_vert"))))))}function it(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo proveedor"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function st(e){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar Proveedor"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))}function mt(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Buscar proveedor"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_proveedor",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))}var dt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a,t,n,l,c,o,i,s=this,m=this.props,d=m.navtype,u=m.has_notifications,p=m.user.user.admin,E=null;switch(d){case"NEW_SELL":a=Da,e=Aa,t=!0;break;case"SELLS":t=!0,e=Pa;break;case"SEARCH_SELL":t=!0,e=Ta;break;case"NEW_QUOTATION":n=!0,e=Fa,a=xa;break;case"QUOTATIONS":n=!0,e=La;break;case"SEARCH_QUOTATION":n=!0,e=Ma;break;case"DEVOLUTIONS":l=!0,e=Ba;break;case"NEW_DEVOLUTION":l=!0,e=Wa;break;case"SEARCH_DEVOLUTION":l=!0,e=Ua;break;case"NEW_ORDER":c=!0,e=Va;break;case"ORDERS":c=!0,e=qa,a=Ga;break;case"ORDER":c=!0,e=za;break;case"SEARCH_ORDER":c=!0,e=Ha;break;case"PRODUCTS":o=!0,e=Ka;break;case"NEW_PRODUCT":o=!0,a=Qa,e=Xa;break;case"SEARCH_PRODUCT":o=!0,e=Za;break;case"BRANDS":o=!0,a=Ja,e=$a;break;case"VEHICLE_TYPE":o=!0,a=Ya,e=et;break;case"CLIENTS":i=!0,e=at;break;case"NEW_CLIENT":i=!0,e=tt;break;case"EDIT_CLIENT":i=!0,e=nt;break;case"SEARCH_CLIENT":i=!0,e=rt;break;case"PROVIDER":E=!0,a=lt,e=ot;break;case"NEW_PROVIDER":E=!0,e=it;break;case"EDIT_PROVIDER":E=!0,e=st;break;case"PROVIDERS":E=!0,e=ct;break;case"SEARCH_PROVIDER":E=!0,e=mt}return r.a.createElement("header",null,a&&r.a.createElement(a,null),r.a.createElement("nav",{className:"red lighten-1 top-nav"},r.a.createElement("div",{className:"small-container"},e&&r.a.createElement(e,null))),r.a.createElement("ul",{className:"sidenav sidenav-fixed",id:"nav_sidenav"},r.a.createElement("li",{className:"logo"},r.a.createElement("a",{href:"#!",className:"brand-logo center mt-1"},r.a.createElement("img",{src:te.a,className:"logo-sidenav",alt:""})),r.a.createElement("div",{className:"divider"})),r.a.createElement("li",{className:"no-padding"},r.a.createElement("ul",{className:"collapsible collapsible-accordion pb-navbar"},r.a.createElement("li",{className:"bold ".concat(t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"monetization_on"),"Ventas"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_venta"}," Nueva ")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/ventas"}," Historial "))))),r.a.createElement("li",{className:"bold ".concat(n&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"library_books"),"Cotizaciones"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_cotizacion"},"Nueva")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/cotizaciones"},"Historial"))))),r.a.createElement("li",{className:"bold ".concat(l&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"money_off"),"Devoluciones"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/devoluciones"},"Historial"))))),r.a.createElement("li",{className:"bold ".concat(c&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"border_color"),"Pedidos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_pedido"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/pedidos"},"Pedidos"))))),r.a.createElement("li",{className:"bold ".concat(o&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"directions_car"),"Productos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/productos"},"Inventario")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_producto"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/marcas"},"Marcas")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/vehiculos"},"Tipo de vehiculo"))))),r.a.createElement("li",{className:"bold ".concat(i&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"group"),"Clientes"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_cliente"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/clientes"},"Ver todos"))))),r.a.createElement("li",{className:"bold ".concat(E&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"perm_contact_calendar"),"Proveedor"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_proveedor"},"Nuevo")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/proveedores"},"Ver todos"))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"bold"},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},u?r.a.createElement("i",{className:"material-icons notifications-active"},"notifications_active"):r.a.createElement("i",{className:"material-icons"},"notifications"),"Cuenta"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons ".concat(u&&"notifications-active-color")},"notifications"),"Notificaciones")),p&&r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){s.props.setCurrentLocal(null)}},r.a.createElement("i",{className:"material-icons"},"compare_arrow"),"Cambiar de local")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/configuracion"},r.a.createElement("i",{className:"material-icons"},"settings"),"Configuracion")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){s.props.logoutUser()}},r.a.createElement("i",{className:"material-icons"},"exit_to_app"),"Cerrar sesion")))))))))}}]),a}(n.Component);dt.defaultProps={has_notifications:!1};var ut=Object(h.b)(function(e){return{user:e.user}},{setCurrentLocal:de,logoutUser:Ce})(dt),pt=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1,n=e.getFullYear();return a<10&&(a="0"+a),t<10&&(t="0"+t),"".concat(n,"-").concat(t,"-").concat(a)},Et=function(e){var a=e.onchange,t=e.onsearch,n=e.values,l=n.cliente,c=n.vendedor,o=n.fecha_inicio,i=n.fecha_fin;return r.a.createElement("div",{className:"modal",id:"modal_buscar_venta"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar venta"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"cliente",label:"Cliente",onchange:a,value:l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"vendedor",label:"Vendedor",onchange:a,value:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"m6 s12",id:"fecha_inicio",type:"date",label:"Desde",onchange:a,active_label:!0,value:o}),r.a.createElement(Z,{input_size:"m6 s12",id:"fecha_fin",type:"date",label:"Hasta",active_label:!0,onchange:a,value:i}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn",onClick:t},"Buscar")))},ht=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={ventas:[],cliente:"",vendedor:"",fecha_inicio:"",fecha_fin:""},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSearch=function(){},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=pt();this.setState({fecha_inicio:e,fecha_fin:e})}},{key:"render",value:function(){var e=this.state,a=e.cliente,t=e.vendedor,n=e.fecha_inicio,l=e.fecha_fin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_SELL"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"}))),r.a.createElement(Et,{onchange:this.onChangeTextInput,values:{cliente:a,vendedor:t,fecha_inicio:n,fecha_fin:l},onsearch:this.onSearch}))}}]),a}(n.Component),vt=function(e){var a,t=e.loading,n=e.sale,l=e.es_cotizacion,c=e.onDelete;if(t)a=r.a.createElement(K,{fullWidth:!0});else if(b(n))a=r.a.createElement(Ye,{message:"No hay informacion para mostrar"});else{var o=n.id,i=n.local,s=n.cliente,m=n.usuario_creador,d=n.codigo,u=n.con_factura,p=n.sub_total,E=n.impuesto,h=n.total,v=n.metodo_pago,f=n.fecha_creado,g=n.productos;a=r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content venta-factura"},i&&r.a.createElement("span",{className:"d-block bold"},"Local:","".concat(i.id," - ").concat(i.nombre)),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"ID: "),r.a.createElement("span",{className:"ml-1"},o)),d&&r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Codigo: "),r.a.createElement("span",{className:"ml-1"},d)),s&&r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Cliente: "),r.a.createElement("span",{className:"ml-1"},s.nombre)),s&&s.rtn&&r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"RTN: "),r.a.createElement("span",{className:"ml-1"},s.rtn)),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Vendedor: "),r.a.createElement("span",{className:"ml-1"},m.id," - ",m.nombre)),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Fecha: "),r.a.createElement("span",{className:"ml-1"},f)),r.a.createElement("table",{className:"table-bordered striped highlight"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Codigo de barra"),r.a.createElement("th",null,"Descripcion"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Precio"))),r.a.createElement("tbody",null,g.map(function(e){return r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.codigo_barra),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,ia(e.precio)))}))),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Sub Total: "),r.a.createElement("span",{className:"ml-1"},"Lps ",ia(p))),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"ISV: "),r.a.createElement("span",{className:"ml-1"},"Lps ",ia(E))),r.a.createElement("span",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Total:"),r.a.createElement("span",{className:"ml-1"},"Lps ",ia(h))),!l&&r.a.createElement("div",{className:"d-block"},r.a.createElement("span",{className:"bold"},"Metodo de pago: "),r.a.createElement("span",{className:"ml-1"},v," - ",u?"C/F":"S/F"))),r.a.createElement("div",{className:"card-footer p-1"},l?r.a.createElement("button",{className:"btn red darken-3",onClick:function(){c&&c()}},"Eliminar cotizacion"):r.a.createElement("button",{className:"btn red darken-3"},"Generar devolucion")))}return a};vt.defaultProps={es_cotizacion:!1};var ft=vt,gt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getSellById(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.sell,a=e.loading,t=e.sell;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"VENTAS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Venta"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(ft,{loading:a,sale:t})))))}}]),a}(n.Component),bt=Object(h.b)(function(e){return{sell:e.sell}},{getSellById:function(e){return function(a){qe(a),re.a.get("".concat(Ge,"/sales/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"CLEAR_ERRORS",payload:{}}),a({type:"GET_SELL",payload:t.data})}).catch(function(e){return se(e,a,"SELL_END_LOADING")})}}})(gt),_t=!0,Nt=0,yt=!1,Ct=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={input_codigo_barra:"inputcbr",input_cantidad:"inputcant",input_precio:"inputprec",products:[],count_of_products_to_add:20,count_of_rows_to_add:10,count_of_minimum_rows:2},t.addFreeRowsToState=function(e){for(var a=t.state.products,n=0;n<e;n++)a.push({local_id:Re()(),id_producto:"",codigo_barra:"",cantidad:"",nombre:"",precio:""});t.setState({products:a})},t.getCountOfTotalRowsFree=function(){return t.state.products.filter(function(e){return""===e.id_producto}).length},t.getCounfOfTotalProducts=function(){return t.state.products.filter(function(e){return""!==e.id_producto}).length},t.getSumValues=function(e){var a={subtotal:0,impuesto:0,total:0};return e.forEach(function(e){var n=t.getValuesForProduct(e);a.subtotal+=n.subtotal,a.impuesto+=n.impuesto,a.total+=n.total}),a},t.onInputKeyPress=function(e,a,n,r){if(!yt)if(13===r.keyCode){var l=document.getElementById("".concat(a).concat(e)).value.trim(),c=t.isValidNewInputValue(a,l);c.is_valid?t.setValueToProductRow(a,n,"".concat(c.value)):(t.goBackToInputValue(a,e,n),t.setInputRowFocus(n))}else{if(8===r.keyCode&&!r.ctrlKey)return;if(27===r.keyCode)t.goBackToInputValue(a,e,n);else if(46===r.keyCode||r.ctrlKey&&8===r.keyCode){var o=t.state.products,i=o.find(function(a){return a.local_id===e});""!==i.id_producto&&i&&(t.setState({products:o.filter(function(e){return e!==i})}),_t=!0)}else{if(17===r.keyCode)return;if(a===t.state.input_codigo_barra){var s=document.getElementById("".concat(a).concat(e)).value.trim();s.length>=7&&t.setValueToProductRow(a,n,s)}}}},t.goBackToInputValue=function(e,a,n){document.getElementById("".concat(e).concat(a)).value=t.getBackInputValue(e,n)},t.getBackInputValue=function(e,a){var n="";switch(e){case t.state.input_codigo_barra:n=t.state.products[a].codigo_barra;break;case t.state.input_cantidad:n=t.state.products[a].cantidad;break;case t.state.input_precio:n=t.state.products[a].precio}return n},t.isValidNewInputValue=function(e,a){var n="",r=!1;switch(e){case t.state.input_codigo_barra:""!==a&&(n=a,r=!0);break;case t.state.input_cantidad:n=parseInt(a),!isNaN(n)&&n>=0&&(r=!0);break;case t.state.input_precio:n=parseFloat(a),!isNaN(n)&&n>=0&&(r=!0)}return{is_valid:r,value:n}},t.setValueToProductRow=function(e,a,n){var r=t.state.products,l=t.props.currentClient;switch(e){case t.state.input_codigo_barra:a<=Nt&&""===r[a].id_producto?(yt=!0,r[a].codigo_barra=n,t.props.getProductByCBForSell({codigo_barra:n,id_ciente:l.id?l.id:null})):_t=!0;break;case t.state.input_cantidad:r[a].cantidad=n,_t=!0;break;case t.state.input_precio:r[a].precio=n,_t=!0}t.setState({products:r})},t.setAutomaticInputRowFocus=function(){for(var e=0,a=0;a<t.state.products.length;a++)if(""===t.state.products[a].id_producto){e=a;break}t.removeBgColorForCurrentRow(),_t=!1,Nt=e,t.setInputRowFocus(e),t.setBgColorForCurrentRow()},t.setInputRowFocus=function(e){var a="".concat(t.state.input_codigo_barra).concat(t.state.products[e].local_id),n=document.getElementById(a);n&&n.focus()},t.removeBgColorForCurrentRow=function(){var e=t.state.products[Nt];if(e){var a=e.local_id;document.getElementById("trow".concat(a)).classList.remove("active-tr-sell")}},t.setBgColorForCurrentRow=function(){var e=t.state.products[Nt];if(e){var a=e.local_id,n=document.getElementById("trow".concat(a));n.classList.remove("active-tr-sell-error"),n.classList.add("active-tr-sell")}},t.setBgErrorColorRowCurrentRow=function(){var e=t.state.products[Nt];if(e){var a=e.local_id,n=document.getElementById("trow".concat(a));n.classList.remove("active-tr-sell"),n.classList.add("active-tr-sell-error"),setTimeout(function(){return t.setBgColorForCurrentRow()},2e3)}},t.getTrCodeForProduct=function(e,a,n){var l=t.state,c=l.input_codigo_barra,o=l.input_cantidad,i=(l.input_precio,n.codigo_barra),s=n.nombre,m=n.cantidad,d=n.precio;return r.a.createElement("tr",{id:"trow".concat(a),key:Re()()},r.a.createElement("td",{className:"td-with-input"},r.a.createElement("input",{type:"text",id:"".concat(c).concat(a),className:"special-input browser-default",onKeyUp:t.onInputKeyPress.bind(Object(Ie.a)(Object(Ie.a)(t)),a,c,e),defaultValue:i})),r.a.createElement("td",{className:"td-with-input"},s),r.a.createElement("td",{className:"td-with-input"},r.a.createElement("input",{id:"".concat(o).concat(a),type:"text",className:"special-input browser-default",onKeyDown:t.onInputKeyPress.bind(Object(Ie.a)(Object(Ie.a)(t)),a,o,e),defaultValue:m})),r.a.createElement("td",{className:"td-with-input"},d))},t.getValuesForProduct=function(e){var a,t=0,n=parseInt(e.cantidad),r=parseFloat(e.precio);return!isNaN(n)&&n>=0&&!isNaN(r)&&r>=0&&(t+=n*r),{subtotal:t,impuesto:a=.15*t,total:t+a}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){Nt=0,_t=!0}},{key:"componentDidMount",value:function(){this.addFreeRowsToState(this.state.count_of_products_to_add)}},{key:"componentWillReceiveProps",value:function(e){var a=this;if(e.product.product&&!e.product.loading&&yt){var t=e.product.product,n=this.state.products;t&&Object.keys(t).length>0?(n[Nt]=Object(g.a)({},n[Nt],{id_producto:t.id,codigo_barra:t.codigo_barra,nombre:"".concat(t.nombre," - ").concat(t.marca_nombre),cantidad:1,precio:t.precio}),_t=!0,this.setState({products:n})):setTimeout(function(){a.setInputRowFocus(Nt),a.setBgErrorColorRowCurrentRow()},1e3),yt=!1}e.returnProducts&&this.props.returnProductsFunction(this.getData()),e.needsFocusOnRow&&setTimeout(function(){return a.setAutomaticInputRowFocus()},1e3),e.needsClearAll&&(_t=!0,Nt=0,yt=!1,this.setState({products:[]}),this.addFreeRowsToState(this.state.count_of_products_to_add))}},{key:"componentDidUpdate",value:function(){if(this.getCountOfTotalRowsFree()===this.state.count_of_minimum_rows)return this.addFreeRowsToState(this.state.count_of_rows_to_add);_t&&!yt&&this.setAutomaticInputRowFocus()}},{key:"getData",value:function(){var e=this.getSumValues(this.state.products);return{productos:this.state.products.filter(function(e){return""!==e.id_producto}),sub_total:e.subtotal,impuesto:e.impuesto,total:e.total}}},{key:"render",value:function(){var e=this,a=this.state.products,t={subtotal:0,impuesto:0,total:0},n=a.map(function(a,n){var r=e.getValuesForProduct(a);return t.subtotal+=r.subtotal,t.impuesto+=r.impuesto,t.total+=r.total,e.getTrCodeForProduct(n,a.local_id,a)});return r.a.createElement("main",null,r.a.createElement("div",{className:"row venta-productos"},r.a.createElement("div",{className:"col s12 no-padding"},r.a.createElement("table",{className:"table-bordered header-fixed striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"center"},"Codigo"),r.a.createElement("th",{className:"center"},"Descripcion"),r.a.createElement("th",{className:"center"},"Cantidad"),r.a.createElement("th",{className:"center"},"Precio"))),r.a.createElement("tbody",null,n)))),r.a.createElement("div",{className:"row col-bordered venta-total"},r.a.createElement(Te,{title:"Sub total",value:t.subtotal}),r.a.createElement(Te,{title:"Impuesto",value:t.impuesto}),r.a.createElement(Te,{title:"Total",value:t.total})))}}]),a}(n.Component),Ot=Object(h.b)(function(e){return{sell:e.sell,product:e.product}},{getProductByCBForSell:Fe})(Ct),wt=!1,kt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={currentClient:{},needsReturnProducts:!1,needsFocusToRow:!1,needsClearAll:!1,component_message:"",products_data:{}},t.onKeyDownInAllPage=function(e){113===(e=e||window.event).keyCode&&z("search_product_and_show_info").open()},t.clearAllData=function(){"La cotizacion se ha guardado exitosamente"===t.state.component_message&&window.location.reload()},t.onHideModal=function(){t.setState({needsFocusToRow:!0})},t.onSaveCotizacion=function(){t.setState({needsReturnProducts:!0})},t.onSelectClient=function(e){t.setState({currentClient:e})},t.onGetSaleData=function(e){t.setState({needsReturnProducts:!1,products_data:e}),0===e.productos.length?q("No hay productos seleccioandos"):z("modal_sell_checkout").open()},t.onSendQuoteToServer=function(e){e.productos=t.state.products_data.productos,e.es_cotizacion=!0,wt=!0,t.props.addNewSell(e)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),document.onkeydown=this.onKeyDownInAllPage}},{key:"componentWillUnmount",value:function(){document.onkeydown=null}},{key:"componentWillReceiveProps",value:function(e){if(e.sell&&wt&&!e.sell.loading&&(!e.errors||b(e.errors))){var a="";a=e.sell.sell_success?"La cotizacion se ha guardado exitosamente":"Ocurrio un error al guardar la cotizacion, por favor notifique al desarrollador",wt=!1,this.setState({component_message:a,needsClearAll:!0,needsReturnProducts:!1})}}},{key:"componentDidUpdate",value:function(){this.state.needsFocusToRow&&this.setState({needsFocusToRow:!1}),this.state.needsClearAll&&(this.setState({needsClearAll:!1}),z("modal_sell_checkout").close(),z("modal_confirmar_evento").open())}},{key:"render",value:function(){var e=this.state,a=e.currentClient,t=e.products_data,n=e.component_message,l=e.needsClearAll,c={subtotal:t.sub_total?t.sub_total:0,impuesto:t.impuesto?t.impuesto:0,total:t.total?t.total:0};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"COTIZACIONES"},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_sell_configuracion",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"settings"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#search_product_and_show_info",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"print"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveCotizacion},r.a.createElement("i",{className:"material-icons"},"save")))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nueva cotizacion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_sell_configuracion",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"settings"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#search_product_and_show_info",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Imprimir"},r.a.createElement("i",{className:"material-icons"},"print"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"bottom","data-tooltip":"Guardar",onClick:this.onSaveCotizacion},r.a.createElement("i",{className:"material-icons"},"save")))),r.a.createElement("ul",{className:"mobile-only right"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))),r.a.createElement(Ot,{currentClient:a,returnProducts:this.state.needsReturnProducts,returnProductsFunction:this.onGetSaleData,needsFocusOnRow:this.state.needsFocusToRow,needsClearAll:l}),r.a.createElement(Xe,{onHide:this.onHideModal}),r.a.createElement(ra,{onHide:this.onHideModal,currentClient:a,onSelectClient:this.onSelectClient}),r.a.createElement(la,{id_search_client_modal:"modal_seleccionar_cliente",currentClient:a,onHide:this.onHideModal}),r.a.createElement(Ea,{currentClient:a,loading:this.props.sell.loading,errors:this.props.errors,sumValues:c,onAccept:this.onSendQuoteToServer,es_cotizacion:!0}),r.a.createElement(va,{title:"Estado de cotizacion",message:n,onAccept:this.clearAllData}))}}]),a}(n.Component),St=Object(h.b)(function(e){return{sell:e.sell,errors:e.errors}},{addNewSell:ze})(kt),It=(t(82),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={clientes:[],need_config_selects:!1},t.onSearchSell=function(e){e.con_factura=null,e.es_cotizacion=!0,t.props.searchSell(e)},t.onGetAll=function(){t.props.getQuotes()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getQuotes(),this.props.getClients()}},{key:"componentWillReceiveProps",value:function(e){if(e.client&&e.client.clients.length>0){var a=[];e.client.clients.forEach(function(e){a.push({value:e.id,label:e.nombre})}),this.setState({clientes:a,need_config_selects:!0})}}},{key:"componentDidUpdate",value:function(){this.state.need_config_selects&&(V(),this.setState({need_config_selects:!1}))}},{key:"render",value:function(){var e=this.props.user,a=e.user,t=e.currentLocal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"COTIZACIONES"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cotizaciones"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"nueva_cotizacion"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_search",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(ka,{sells:this.props.sell.sells,loading:this.props.sell.loading,is_admin:a.admin&&"0"===t.id,es_cotizacion:!0})))),r.a.createElement(Ia,{onSearch:this.onSearchSell,onGetAll:this.onGetAll,clientes:this.state.clientes,es_cotizacion:!0}))}}]),a}(n.Component)),jt=Object(h.b)(function(e){return{sell:e.sell,user:e.user,client:e.client}},{getQuotes:function(){return function(e){qe(e),re.a.get("".concat(Ge,"/sales/getquotes")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_SELLS",payload:t.data}),e({type:"CLEAR_ERRORS",payload:{}})}).catch(function(a){return se(a,e,"SELL_END_LOADING")})}},getClients:Ze,searchSell:Ve})(It),Rt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onDelete=function(){z("modal_confirmar_evento").open()},t.onConfirmDelete=function(){var e=t.props,a=e.match,n=e.history;t.props.deleteQuotation(a.params.id,n,"/cotizaciones")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getQuotationById(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.sell,a=e.loading,t=e.sell;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"VENTAS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cotizacion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(ft,{loading:a,sale:t,es_cotizacion:!0,onDelete:this.onDelete})))),r.a.createElement(va,{title:"Borrar devolucion",message:"Esta seguro de borrar esta devolucion? No se podra deshacer la accion",onAccept:this.onConfirmDelete}))}}]),a}(n.Component),Dt=Object(h.b)(function(e){return{sell:e.sell}},{getQuotationById:function(e){return function(a){qe(a),re.a.get("".concat(Ge,"/sales/get_quote/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"CLEAR_ERRORS",payload:{}}),a({type:"GET_SELL",payload:t.data})}).catch(function(e){return se(e,a,"SELL_END_LOADING")})}},deleteQuotation:function(e,a,t){return function(n){qe(n),re.a.delete("".concat(Ge,"/sales/delete_quote/").concat(e)).then(function(e){var r=e.data;ve(r,n),n({type:"CLEAR_ERRORS",payload:{}}),a.push(t)}).catch(function(e){return se(e,n,"SELL_END_LOADING")})}}})(Rt);function At(e){var a=e.devolucion,t=a.id,n=a.codigo,l=a.fecha,c=a.cliente,o=a.vendedor,i=a.total;return r.a.createElement("div",{className:"card"},r.a.createElement(T.a,{to:"/devoluciones/".concat(t)},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Factura: ",r.a.createElement("span",null,n)),r.a.createElement("span",{className:"right"},l)),r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Cliente: ",r.a.createElement("span",null,c.nombre))),r.a.createElement("div",{className:"d-block"},r.a.createElement("span",null,"Vendedor: ",r.a.createElement("span",null,"".concat(o.id," - ").concat(o.nombre))),r.a.createElement("span",{className:"right"},"Total: Lps ",i)))))}var Pt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={devoluciones:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e=this.state.devoluciones;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"DEVOLUTIONS"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},e.map(function(e,a){return r.a.createElement(At,{devolucion:e,key:e.id})})))))}}]),a}(n.Component),Tt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_DEVOLUTION"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"}))))}}]),a}(n.Component),xt=t(92),Lt=t(31),Mt=t.n(Lt);function Ft(e){var a=e.order,t=a.id,n=a.codigo,l=a.fecha_creado,c=a.local_solicitado,o=a.proveedor,i=a.id_proveedor;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/pedidos/".concat(t)},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},"Pedido #",n),r.a.createElement("span",{className:"d-block"},"Fecha de creacion:"," ",r.a.createElement(Mt.a,{format:"YYYY/MM/DD",date:l})," "),null!==i?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-block"},"Proveedor: ",o.nombre),r.a.createElement("span",{className:"d-block"},"Pedido para proveedor: Si")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-block"},"Local: ",c.nombre),r.a.createElement("span",{className:"d-block"},"Pedido para proveedor: No")))))}var Bt=function(e,a){return function(t){t(Vt()),re.a.post("".concat("https://rimeim.com/api","/orders/add"),e).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var n=e.data;ve(n,t),a.push("/pedidos/".concat(n.data.id))}).catch(function(e){return se(e,t,zt())})}},Ut=function(e,a,t){return function(n){n(Vt()),re.a.put("".concat("https://rimeim.com/api","/orders/update/").concat(e),a).then(function(e){n({type:"CLEAR_ERRORS",payload:{}});var a=e.data;ve(a,n),n({type:"GET_ORDER",payload:a.data}),t.push("/pedidos/".concat(a.data.id))}).catch(function(e){return se(e,n)})}},Wt=function(e){return function(a){a({type:"CLEAR_ERRORS",payload:{}}),a(Vt()),re.a.get("".concat("https://rimeim.com/api","/orders/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_ORDER",payload:t.data})}).catch(function(e){return se(e,a)})}},Gt=function(){return function(e){e(Vt()),re.a.get("".concat("https://rimeim.com/api","/orders/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_ORDERS",payload:t.data}),e({type:"CLEAR_ERRORS",payload:{}}),e(zt())}).catch(function(a){return se(a,e)})}},Vt=function(){return{type:"ORDER_LOADING"}},zt=function(){return{type:"ORDER_LOADING_END"}},qt=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getOrders()}},{key:"render",value:function(){var e,a=this.props.orders,t=a.orders;return e=a.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},t.map(function(e,a){return r.a.createElement(Ft,{order:e,key:Re()()})}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"ORDERS"}),r.a.createElement("main",null,e))}}]),a}(n.Component),Ht=Object(h.b)(function(e){return{orders:e.order}},{getOrders:Gt})(Object(xt.a)(qt)),Qt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onConfirmDeleteOrder=function(){t.props.deleteOrder(t.props.match.params.id,t.props.history,"/pedidos")},t.onMarkReceived=function(){t.props.markReceived(t.props.match.params.id,t.props.history)},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getOrder(this.props.match.params.id)}},{key:"render",value:function(){var e,a=this.props.orders,t=a.order;if(a.loading)e=r.a.createElement(K,{fullWidth:!0});else if(Object.keys(t).length>0){var n=t.fecha_prevista_entrega.split(" ")[0];e=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"12",id:"codigo",label:"Codigo de pedido",value:t.codigo,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("table",{className:"table-bordered striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Cantidad"))),r.a.createElement("tbody",null,t.productos.length>0?t.productos.map(function(e,a){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.costo),r.a.createElement("td",null," ",e.cantidad," "))}):r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null)))))),t.es_compra?r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"proveedor",label:"Proveedor",value:t.id_proveedor,active_label:!0})):r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"local",label:"Local",value:t.local_solicitado.nombre,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"fecha_prevista_entrega",label:"Fecha de Entrega de Pedido",value:n,active_label:!0})),t.recibido?r.a.createElement("div",{className:"row"},r.a.createElement(ua,{input_size:"s12",id:"recibido",label:"Completado",value:n,active_label:!0,checked:!!t.recibido})):"",r.a.createElement("button",{className:"btn red darken-3 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar"),t.recibido?"":r.a.createElement("button",{className:"btn blue darken-3 modal-trigger right","data-target":"modal_confirmar_evento_completado"},"Completado")))))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PEDIDOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Pedido: #",this.props.match.params.id),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,null!==t.id_proveedor?r.a.createElement(T.a,{to:"/editar_pedido/proveedor/".concat(this.props.match.params.id),className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit")):r.a.createElement(T.a,{to:"/editar_pedido/local/".concat(this.props.match.params.id),className:"tooltipped","data-position":"left","data-tooltip":"Editar"},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,e),r.a.createElement(va,{title:"Eliminar pedido",message:"Esta seguro de que quiere eliminar este pedido? No se podra revertir la operacion",onAccept:this.onConfirmDeleteOrder}),r.a.createElement(va,{title:"Completar pedido",message:"Esta seguro de que quiere marcar este pedido como completado? No se podra revertir la operacion",onAccept:this.onMarkReceived,id:"modal_confirmar_evento_completado"}))}}]),a}(n.Component),Jt=Object(h.b)(function(e){return{orders:e.order}},{getOrder:Wt,deleteOrder:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),n(Vt()),re.a.delete("".concat("https://rimeim.com/api","/orders/delete/").concat(e)).then(function(e){var r=e.data;ve(r,n),n(Gt()),a.push(t),setTimeout(function(){return zt()},10)}).catch(function(e){return se(e,n)})}},markReceived:function(e,a,t){return function(t){t(Vt()),re.a.put("".concat("https://rimeim.com/api","/orders/mark_received/").concat(e)).then(function(n){var r=n.data;ve(r,t),t(Wt(e)),a.push("/pedidos/".concat(r.data.id)),setTimeout(function(){return zt()},10)}).catch(function(e){return se(e,t)})}}})(Object(xt.a)(Qt)),Yt=function(){return function(e){e(Xt()),e({type:"CLEAR_ERRORS",payload:{}}),re.a.get("".concat("https://rimeim.com/api","/locals")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_LOCALS",payload:t.data})}).catch(function(a){return se(a,e)})}},Kt=function(e){return function(a){a({type:"CLEAR_ERRORS",payload:{}}),a(Xt()),re.a.get("".concat("https://rimeim.com/api","/locals/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_LOCAL",payload:t.data})}).catch(function(e){return se(e,a)})}},Xt=function(){return{type:"LOCAL_LOADING"}},Zt=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modal_id:"modal_agregar_productos_local",id_local:"",field:"",cantidad:"",codigo:"",fecha_entrega:"",producto_seleccionado:{},productos_seleccionados:[],productos:[],editMode:!1,typing:!1,typingTimeout:0,searching:!1,needs_config_selects:!1,needs_config_modals:!0,errors:{}},t.onChangeSearchProductInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field:e.target.value,typing:!1,typingTimeout:setTimeout(function(){t.props.searchProduct({field:t.state.field})},500)})},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSelectProduct=function(e){var a=t.state.productos_seleccionados;a.findIndex(function(a){return a.id===e.id})>=0?e.seleccionado?e.seleccionado=!1:e.seleccionado=!0:(e.seleccionado=!0,a.push(e)),document.getElementById("".concat(e.id)).checked=e.seleccionado,t.setState({productos_seleccionados:a})},t.onCloseProviderModal=function(){t.setState({typing:!1,typingTimeout:0,searching:!1,field:"",cantidad:"",productos:[],id_local:""})},t.onAddProductClick=function(e){e.preventDefault(),t.setState({producto_seleccionado:{},field:"",cantidad:"",editMode:!1,typing:!1,typingTimeout:0})},t.onAddProduct=function(e){e.preventDefault();var a=t.state,n=a.productos,r=a.cantidad;a.productos_seleccionados.filter(function(e){return!0===e.seleccionado}).forEach(function(e){var a={id_producto:e.id,cantidad:r,costo:e.precio,nombre:e.nombre};n.push(a)}),t.setState({productos_seleccionados:[],cantidad:""})},t.onEditProductClick=function(e){t.setState({producto_seleccionado:e,cantidad:e.cantidad,productPosition:e.id,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.cantidad,l=a.findIndex(function(e){return e.id_producto===n.id_producto});a[l].cantidad=r,a[l].actualizado=!0,t.setState({producto_seleccionado:{},cantidad:"",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});a[n].eliminado=!0,t.setState({id_producto:"",cantidad:""})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.codigo,r=a.fecha_entrega,l=a.productos,c={id_local_solicitado:a.id_local,codigo:n,fecha_entrega:r,productos:l};t.props.createOrder(c,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getLocals(),this.state.needs_config_modals&&(B(),this.setState({needs_config_modals:!1}))}},{key:"componentWillReceiveProps",value:function(e){(e.errors&&(console.log(e),this.setState({errors:e.errors})),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,searching:!1}));e.locals.locals&&(e.locals.locals.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.id_local,c=n.productos,o=n.searching,i=n.cantidad,s=n.field,m=n.codigo,d=n.fecha_entrega,u=n.editMode,p=n.modal_id,E=n.errors,h=this.props.products,v=this.props.locals,f=[];return v.locals.map(function(e){f.push({value:e.id,label:e.nombre})}),a=v.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{input_size:"s12",id:"id_local",label:"Local",onchange:this.onChangeTextInput,value:l,options:f,error:E.local_solicitado_error})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"codigo",label:"Codigo de pedido",onchange:this.onChangeTextInput,value:m})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{type:"date",input_size:"s12",id:"fecha_entrega",label:"Fecha de Entrega de Pedido",onchange:this.onChangeTextInput,value:d,error:E.fecha_prevista_entrega_error})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-block center"},r.a.createElement("h5",null,"Agregar Productos"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":p,onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add")))),c.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,c.map(function(e,a){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.costo),r.a.createElement("td",null,r.a.createElement("i",{onClick:t.onDeleteProduct.bind(t,e),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:t.onEditProductClick.bind(t,e),"data-target":p,className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"",r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"," "))),e=o||h.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},h.products.map(function(e,a){return r.a.createElement("div",{className:"d-block cursor-pointer bordered p-1",key:Re()()},r.a.createElement("label",{onClick:function(){t.onSelectProduct(e)}},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"".concat(e.id),defaultChecked:e.seleccionado,readOnly:!0}),r.a.createElement("span",null)),e.id," - ",e.nombre)}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.onSubmit},a),r.a.createElement("div",{className:"modal",id:p},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar producto"),r.a.createElement("div",{className:"row"},u?r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i,active_label:!!i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{id:"field",label:"Parametro de Busqueda (ID o Nombre de Producto)",value:s,onchange:this.onChangeSearchProductInput}),e,r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-blue btn left text-white",onClick:u?this.onEditProduct:this.onAddProduct},"Guardar"))))}}]),a}(n.Component),$t=Object(h.b)(function(e){return{errors:e.errors,products:e.product,locals:e.local,orders:e.order}},{searchProduct:Le,createOrder:Bt,getLocals:Yt})(Object(xt.a)(Zt)),en=function(e){return function(a){a(tn()),re.a.get("".concat("https://rimeim.com/api","/providers/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_PROVIDER",payload:t.data})}).catch(function(e){return se(e,a)})}},an=function(){return function(e){e(tn()),e({type:"CLEAR_ERRORS",payload:{}}),re.a.get("".concat("https://rimeim.com/api","/providers/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_PROVIDERS",payload:t.data}),setTimeout(function(){return nn()},10)}).catch(function(a){return se(a,e)})}},tn=function(){return{type:"PROVIDER_LOADING"}},nn=function(){return{type:"PROVIDER_LOADING_END"}},rn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modal_id:"modal_agregar_productos_proveedor",field:"",id_proveedor:"",cantidad:"",fecha_entrega:"",codigo:"",productos:[],productos_seleccionados:[],needs_config_selects:!1,needs_config_modals:!0,editMode:!1,searching:!1,typing:!1,typingTimeout:0,errors:{}},t.onChangeSearchProductInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field:e.target.value,typing:!1,typingTimeout:setTimeout(function(){t.props.searchProduct({field:t.state.field,id_proveedor:t.state.id_proveedor})},500)})},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSelectProduct=function(e){var a=t.state.productos_seleccionados;a.findIndex(function(a){return a.id===e.id})>=0?e.seleccionado?e.seleccionado=!1:e.seleccionado=!0:(e.seleccionado=!0,a.push(e)),document.getElementById("".concat(e.id)).checked=e.seleccionado,t.setState({productos_seleccionados:a})},t.onCloseProviderModal=function(){t.setState({typing:!1,typingTimeout:0,searching:!1,field:"",cantidad:"",productos:[],id_proveedor:""})},t.onAddProductClick=function(e){e.preventDefault(),t.setState({producto_seleccionado:{},field:"",cantidad:"",editMode:!1,typing:!1,typingTimeout:0})},t.onAddProduct=function(e){e.preventDefault();var a=t.state,n=a.productos,r=a.cantidad;a.productos_seleccionados.filter(function(e){return!0===e.seleccionado}).forEach(function(e){var a={id_producto:e.id,cantidad:r,costo:e.precio,nombre:e.nombre};n.push(a)}),t.setState({productos_seleccionados:[],cantidad:""})},t.onEditProductClick=function(e){t.setState({producto_seleccionado:e,cantidad:e.cantidad,productPosition:e.id,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.cantidad,l=a.findIndex(function(e){return e.id_producto===n.id_producto});a[l].cantidad=r,a[l].actualizado=!0,t.setState({producto_seleccionado:{},cantidad:"",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});a[n].eliminado=!0,t.setState({id_producto:"",cantidad:""})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.codigo,r=a.fecha_entrega,l=a.productos,c={id_proveedor:a.id_proveedor,codigo:n,fecha_entrega:r,productos:l};t.props.createOrder(c,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProviders(),this.state.needs_config_modals&&(B(),this.setState({needs_config_modals:!1}))}},{key:"componentWillReceiveProps",value:function(e){(e.errors&&this.setState({errors:e.errors}),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,searching:!1}));e.providers.providers&&(e.providers.providers.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.productos,c=n.id_proveedor,o=n.searching,i=n.cantidad,s=n.field,m=n.codigo,d=n.fecha_entrega,u=n.modal_id,p=this.props.providers,E=p.providers,h=p.loading,v=this.props.products,f=[];return E.map(function(e){f.push({value:e.id,label:e.nombre})}),a=o||v.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},v.products.map(function(e,a){return r.a.createElement("div",{className:"d-block cursor-pointer bordered p-1",key:Re()()},r.a.createElement("label",{onClick:function(){t.onSelectProduct(e)}},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"".concat(e.id),defaultChecked:e.seleccionado,readOnly:!0}),r.a.createElement("span",null)),e.id," - ",e.nombre)}))),e=h?r.a.createElement(K,{fullWidth:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{input_size:"s12",id:"id_proveedor",label:"Proveedor",onchange:this.onChangeTextInput,value:c,options:f})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"codigo",label:"Codigo de pedido",onchange:this.onChangeTextInput,value:m})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{type:"date",input_size:"s12",id:"fecha_entrega",label:"Fecha de Entrega de Pedido",onchange:this.onChangeTextInput,value:d}),r.a.createElement("div",{className:"d-block center"},r.a.createElement("h5",null,"Agregar Productos"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":u,onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add")))),l.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,l.map(function(e,a){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,r.a.createElement("i",{onClick:t.onDeleteProduct.bind(t,e),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:t.onEditProductClick.bind(t,e),"data-target":u,className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"",r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"," "))),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.onSubmit},e),r.a.createElement("div",{className:"modal",id:u},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Agregar Productos de Proveedor"),r.a.createElement("div",{className:"row"},this.state.editMode?r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i,active_label:!!i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{id:"field",label:"Parametro de Busqueda (ID o Nombre de Producto)",value:s,onchange:this.onChangeSearchProductInput}),a,r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white",onClick:this.onCloseProviderModal},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-blue btn left text-white",onClick:this.state.editMode?this.onEditProduct:this.onAddProduct},"Guardar"))))}}]),a}(n.Component),ln=Object(h.b)(function(e){return{providers:e.provider,products:e.product,orders:e.order}},{getProviders:an,searchProduct:Le,createOrder:Bt})(Object(xt.a)(rn)),cn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={providerMode:!1},t.onProviderModeChange=function(){t.setState({providerMode:!t.state.providerMode,needs_config_modals:!0})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PEDIDOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo Pedido"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-block right"},r.a.createElement("button",{className:"btn",onClick:this.onProviderModeChange},"Pedido a"," ",this.state.providerMode?"Local":"Proveedor"))),this.state.providerMode?r.a.createElement(ln,null):r.a.createElement($t,null)))))))}}]),a}(n.Component),on=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modal_id:"modal_agregar_productos_local_editar",id_proveedor:"",field:"",cantidad:"",codigo:"",fecha_entrega:"",producto_seleccionado:{},productos_seleccionados:[],productos:[],distribucion:[],editMode:!1,typing:!1,typingTimeout:0,searching:!1,needs_config_selects:!1,needs_config_modals:!0,errors:{}},t.onChangeSearchProductInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field:e.target.value,typing:!1,typingTimeout:setTimeout(function(){t.props.searchProduct({field:t.state.field,id_proveedor:t.state.id_proveedor})},500)})},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSelectProduct=function(e){var a=t.state.productos_seleccionados;a.findIndex(function(a){return a.id===e.id})>=0?e.seleccionado?e.seleccionado=!1:e.seleccionado=!0:(e.seleccionado=!0,a.push(e)),document.getElementById("".concat(e.id)).checked=e.seleccionado,t.setState({productos_seleccionados:a})},t.onCloseProviderModal=function(){t.setState({typing:!1,typingTimeout:0,searching:!1,field:"",cantidad:"",productos:[],id_proveedor:""})},t.onAddProductClick=function(e){e.preventDefault(),t.setState({producto_seleccionado:{},field:"",cantidad:"",editMode:!1,typing:!1,typingTimeout:0})},t.onAddProduct=function(e){e.preventDefault();var a=t.state,n=a.productos,r=a.cantidad;a.productos_seleccionados.filter(function(e){return!0===e.seleccionado}).forEach(function(e){var a={id_producto:e.id,cantidad:r,costo:e.precio,nombre:e.nombre};n.push(a)}),t.setState({productos_seleccionados:[],cantidad:""})},t.onEditProductClick=function(e){t.setState({producto_seleccionado:e,cantidad:e.cantidad,productPosition:e.id,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.cantidad,l=a.findIndex(function(e){return e.id_producto===n.id_producto});a[l].cantidad=r,a[l].actualizado=!0,t.setState({producto_seleccionado:{},cantidad:"",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});a[n].eliminado=!0,t.setState({id_producto:"",cantidad:""})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.codigo,r=a.fecha_entrega,l=a.productos,c={id_proveedor:a.id_proveedor,codigo:n,fecha_prevista_entrega:r,productos:l};t.props.editOrder(t.props.match.params.id,c,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProviders(),this.props.getOrder(this.props.match.params.id),this.state.needs_config_modals&&(B(),this.setState({needs_config_modals:!1}))}},{key:"componentWillReceiveProps",value:function(e){var a=e.orders.order;if(a){a.codigo=b(a.codigo)?"":a.codigo,a.id_proveedor=b(a.id_proveedor)?{}:a.id_proveedor,a.fecha_prevista_entrega=b(a.fecha_prevista_entrega)?"":a.fecha_prevista_entrega,a.productos=b(a.productos)?[]:a.productos;var t=a.fecha_prevista_entrega.split(" ")[0];this.setState({codigo:a.codigo,id_proveedor:a.id_proveedor,fecha_entrega:t,productos:a.productos})}(e.errors&&this.setState({errors:e.errors}),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,searching:!1}));e.providers.providers&&(e.providers.providers.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.id_proveedor,c=n.productos,o=n.searching,i=n.cantidad,s=n.field,m=n.codigo,d=n.fecha_entrega,u=n.editMode,p=n.modal_id,E=n.errors,h=E.fecha_prevista_entrega_error,v=E.local_solicitado_error,f=this.props.providers,g=f.providers,b=f.loading,_=this.props.products,N=[];return g.map(function(e){N.push({value:e.id,label:e.nombre})}),a=b?r.a.createElement(K,{fullWidth:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{input_size:"s12",id:"id_proveedor",label:"Proveedor",onchange:this.onChangeTextInput,value:l,options:N,active_label:!!l,error:v})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"codigo",label:"Codigo de pedido",onchange:this.onChangeTextInput,value:m,active_label:!!m})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{type:"date",input_size:"s12",id:"fecha_entrega",label:"Fecha de Entrega de Pedido",onchange:this.onChangeTextInput,value:d,error:h})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-block center"},r.a.createElement("h5",null,"Agregar Productos"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":p,onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add")))),c.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,c.map(function(e,a){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.costo),r.a.createElement("td",null,r.a.createElement("i",{onClick:t.onDeleteProduct.bind(t,e),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:t.onEditProductClick.bind(t,e),"data-target":p,className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"",r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"," "))),e=o||_.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},_.products.map(function(e,a){return r.a.createElement("div",{className:"d-block cursor-pointer bordered p-1",key:Re()()},r.a.createElement("label",{onClick:function(){t.onSelectProduct(e)}},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"".concat(e.id),defaultChecked:e.seleccionado,readOnly:!0}),r.a.createElement("span",null)),e.id," - ",e.nombre)}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PEDIDOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar Pedido"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.onSubmit}," ",a),r.a.createElement("div",{className:"modal",id:p},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar producto"),r.a.createElement("div",{className:"row"},u?r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i,active_label:!!i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{id:"field",label:"Parametro de Busqueda (ID o Nombre de Producto)",value:s,onchange:this.onChangeSearchProductInput}),e,r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-blue btn left text-white",onClick:u?this.onEditProduct:this.onAddProduct},"Guardar")))))))))}}]),a}(n.Component),sn=Object(h.b)(function(e){return{errors:e.errors,products:e.product,providers:e.provider,orders:e.order}},{searchProduct:Le,editOrder:Ut,getProviders:an,getOrder:Wt})(Object(xt.a)(on)),mn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modal_id:"modal_agregar_productos_local_editar",id_local:"",field:"",cantidad:"",codigo:"",fecha_entrega:"",producto_seleccionado:{},productos_seleccionados:[],productos:[],editMode:!1,typing:!1,typingTimeout:0,searching:!1,needs_config_selects:!1,needs_config_modals:!0,errors:{}},t.onChangeSearchProductInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({field:e.target.value,typing:!1,typingTimeout:setTimeout(function(){t.props.searchProduct({field:t.state.field})},500)})},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSelectProduct=function(e){var a=t.state.productos_seleccionados;a.findIndex(function(a){return a.id===e.id})>=0?e.seleccionado?e.seleccionado=!1:e.seleccionado=!0:(e.seleccionado=!0,a.push(e)),document.getElementById("".concat(e.id)).checked=e.seleccionado,t.setState({productos_seleccionados:a})},t.onCloseProviderModal=function(){t.setState({typing:!1,typingTimeout:0,searching:!1,field:"",cantidad:"",productos:[],id_local:""})},t.onAddProductClick=function(e){e.preventDefault(),t.setState({producto_seleccionado:{},field:"",cantidad:"",editMode:!1,typing:!1,typingTimeout:0})},t.onAddProduct=function(e){e.preventDefault();var a=t.state,n=a.productos,r=a.cantidad;a.productos_seleccionados.filter(function(e){return!0===e.seleccionado}).forEach(function(e){var a={id_producto:e.id,cantidad:r,costo:e.precio,nombre:e.nombre};n.push(a)}),t.setState({productos_seleccionados:[],cantidad:""})},t.onEditProductClick=function(e){t.setState({producto_seleccionado:e,cantidad:e.cantidad,productPosition:e.id,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.cantidad,l=a.findIndex(function(e){return e.id_producto===n.id_producto});a[l].cantidad=r,a[l].actualizado=!0,t.setState({producto_seleccionado:{},cantidad:"",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});a[n].eliminado=!0,t.setState({id_producto:"",cantidad:""})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.codigo,r=a.fecha_entrega,l=a.productos,c={id_local_solicitado:a.id_local,codigo:n,fecha_prevista_entrega:r,productos:l};t.props.editOrder(t.props.match.params.id,c,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getLocals(),this.props.getOrder(this.props.match.params.id),this.state.needs_config_modals&&(B(),this.setState({needs_config_modals:!1}))}},{key:"componentWillReceiveProps",value:function(e){var a=e.orders.order;if(a){a.codigo=b(a.codigo)?"":a.codigo,a.local_solicitado=b(a.local_solicitado)?{}:a.local_solicitado,a.fecha_prevista_entrega=b(a.fecha_prevista_entrega)?"":a.fecha_prevista_entrega,a.productos=b(a.productos)?[]:a.productos;var t=a.fecha_prevista_entrega.split(" ")[0];this.setState({codigo:a.codigo,id_local:a.id_local_solicitado,fecha_entrega:t,productos:a.productos})}(e.errors&&this.setState({errors:e.errors}),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,searching:!1}));e.locals.locals&&(e.locals.locals.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e,a,t=this,n=this.state,l=n.id_local,c=n.productos,o=n.searching,i=n.cantidad,s=n.field,m=n.codigo,d=n.fecha_entrega,u=n.editMode,p=n.modal_id,E=n.errors,h=E.fecha_prevista_entrega_error,v=E.local_solicitado_error,f=this.props.products,g=this.props.locals,b=[];return g.locals.map(function(e){b.push({value:e.id,label:e.nombre})}),a=g.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{input_size:"s12",id:"id_local",label:"Local",onchange:this.onChangeTextInput,value:l,options:b,active_label:!!l,error:v})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12",id:"codigo",label:"Codigo de pedido",onchange:this.onChangeTextInput,value:m,active_label:!!m})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{type:"date",input_size:"s12",id:"fecha_entrega",label:"Fecha de Entrega de Pedido",onchange:this.onChangeTextInput,value:d,error:h})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-block center"},r.a.createElement("h5",null,"Agregar Productos"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":p,onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add")))),c.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,c.map(function(e,a){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.costo),r.a.createElement("td",null,r.a.createElement("i",{onClick:t.onDeleteProduct.bind(t,e),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:t.onEditProductClick.bind(t,e),"data-target":p,className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"",r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"," "))),e=o||f.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},f.products.map(function(e,a){return r.a.createElement("div",{className:"d-block cursor-pointer bordered p-1",key:Re()()},r.a.createElement("label",{onClick:function(){t.onSelectProduct(e)}},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"".concat(e.id),defaultChecked:e.seleccionado,readOnly:!0}),r.a.createElement("span",null)),e.id," - ",e.nombre)}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PEDIDOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar Pedido"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Ver Todos"},r.a.createElement("i",{className:"material-icons"},"group"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.onSubmit},a),r.a.createElement("div",{className:"modal",id:p},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar producto"),r.a.createElement("div",{className:"row"},u?r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i,active_label:!!i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{id:"field",label:"Parametro de Busqueda (ID o Nombre de Producto)",value:s,onchange:this.onChangeSearchProductInput}),e,r.a.createElement(Z,{id:"cantidad",label:"Cantidad",onchange:this.onChangeTextInput,value:i})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-blue btn left text-white",onClick:u?this.onEditProduct:this.onAddProduct},"Guardar")))))))))}}]),a}(n.Component),dn=Object(h.b)(function(e){return{errors:e.errors,products:e.product,locals:e.local,orders:e.order}},{searchProduct:Le,editOrder:Ut,getLocals:Yt,getOrder:Wt})(Object(xt.a)(mn)),un=function(e){var a=e.onchange,t=e.onsearch,n=e.values,l=n.codigo,c=n.proveedor,o=n.local,i=n.fecha_inicio,s=n.fecha_fin;return r.a.createElement("div",{className:"modal",id:"modal_buscar_pedido"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar pedido"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"proveedor",label:"Proveedor",onchange:a,value:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo",label:"Codigo",onchange:a,value:l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local",label:"Local",value:o,onchange:a})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12 m6",id:"fecha_inicio",type:"date",label:"Desde",active_label:!0,onchange:a,value:i}),r.a.createElement(Z,{input_size:"s12 m6",id:"fecha_fin",type:"date",label:"Hasta",active_label:!0,value:s,onchange:a}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn",onClick:t},"Buscar")))},pn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo:"",proveedor:"",local:"",fecha_inicio:"",fecha_fin:"",searching:!1},t.onSearch=function(e){e.preventDefault();var a={codigo:t.state.codigo,proveedor:t.state.proveedor,local:t.state.local,fecha_inicio:t.state.fecha_inicio,fecha_fin:t.state.fecha_fin};t.setState({searching:!0}),t.props.searchOrder(a)},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=pt();this.setState({fecha_inicio:e,fecha_fin:e})}},{key:"render",value:function(){var e,a={codigo:this.state.codigo,proveedor:this.state.proveedor,local:this.state.local,fecha_inicio:this.state.fecha_inicio,fecha_fin:this.state.fecha_fin},t=this.props.orders,n=t.loading,l=t.orders,c=this.state.searching;return e=n?r.a.createElement(K,{fullWidth:!0}):l.length<0?r.a.createElement("h1",null,"No se encontraron pedidos disponibles"):l.map(function(e){return r.a.createElement("div",{className:"s12 m6 l6"},r.a.createElement(Ft,{order:e,key:Re()()}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_ORDER"}),r.a.createElement("main",null,r.a.createElement(un,{values:a,onchange:this.onChangeTextInput,onsearch:this.onSearch}),c?e:""))}}]),a}(n.Component),En=Object(h.b)(function(e){return{orders:e.order}},{searchOrder:function(e){return function(a){a({type:"CLEAR_ERRORS",payload:{}}),a(Vt()),re.a.post("".concat("https://rimeim.com/api","/orders/search"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_ORDERS",payload:t.data}),a(zt())}).catch(function(e){return se(e,a)})}}})(pn),hn=function(e){var a=e.product,t=a.id,n=a.nombre,l=a.precio,c=a.existencia,o=a.imagen,i=a.marca,s=a.tipo_vehiculo,m=e.admin;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"".concat(m?"/admin":"","/productos/").concat(t)},r.a.createElement("div",{className:"card-image border-bottom card-product"},o&&o.url?r.a.createElement("img",{src:o.url,alt:""}):r.a.createElement("img",{src:"",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",{className:"d-block"},n),r.a.createElement("span",{className:"d-block"},"Precio: Lps ",r.a.createElement("span",null,l)),i&&r.a.createElement("span",{className:"d-block"},"Marca: ",i.nombre),s&&r.a.createElement("span",{className:"d-block"},"Tipo de vehiculo: ",s.nombre),r.a.createElement("span",{className:"d-block"},"En Inventario: ",c))))};hn.defaultProps={admin:!1};var vn=hn,fn=function(e){var a,t=e.loading,n=e.products,l=e.admin;return a=t?r.a.createElement(K,{fullWidth:!0}):n.length>0?n.map(function(e){return r.a.createElement("div",{className:"col s12 m6 l4",key:"prod".concat(e.id)},r.a.createElement(vn,{product:e,key:e.id,admin:l}))}):r.a.createElement(Ye,{message:"No hay informacion para mostrar"}),r.a.createElement("div",{className:"row"},a)};fn.defaultProps={admin:!1};var gn=fn,bn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={termino_busqueda:""},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSearch=function(){var e=t.state.termino_busqueda;t.props.onSearchAction(e)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.termino_busqueda;return r.a.createElement("div",{className:"modal",id:"modal_search"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"termino_busqueda",value:e,onchange:this.onChangeTextInput}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close btn",onClick:this.onSearch},"Buscar")))}}]),a}(n.Component),_n=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onSearchProduct=function(e){var a={field:e};t.props.searchProduct(a)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProducts()}},{key:"render",value:function(){var e=this.props.product,a=e.loading,t=e.products;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS",show_more_option:!0},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_search",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Inventario"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_search",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement(gn,{loading:a,products:t})),r.a.createElement(bn,{onSearchAction:this.onSearchProduct}))}}]),a}(n.Component),Nn=Object(h.b)(function(e){return{product:e.product,user:e.user}},{getProducts:xe,searchProduct:Le})(_n),yn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onDeleteProductClick=function(){z("modal_confirmar_evento").open()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.loading,n=a.onDeleteProduct,l=a.product;if(t)e=r.a.createElement(K,{fullWidth:!0});else if(b(l))e=r.a.createElement(Ye,{message:"No hay informacion para mostrar"});else{var c,o,i=l.id,s=l.codigo_barra,m=l.nombre,d=l.marca,u=l.tipo_vehiculo,p=l.descripcion,E=l.raro,h=l.precio,v=l.existencia,f=l.ubicacion,g=l.cantidad_minima,_=l.fecha_creado,N=l.distribucion,y=l.imagenes;N&&(c=r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Distribucion"),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Local"),r.a.createElement("th",null,"Existencia"),r.a.createElement("th",null,"Cantidad minima"),r.a.createElement("th",null,"Ubicacion"))),N.length>0&&r.a.createElement("tbody",null,N.map(function(e){return r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.local&&e.local.nombre),r.a.createElement("td",null,e.existencia),r.a.createElement("td",null,e.cantidad_minima),r.a.createElement("td",null,e.ubicacion))})))))),y&&y.length>0&&(o=r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"horizontal-scroll-container"},y.map(function(e){return r.a.createElement("div",{className:"img-item",key:Re()()},r.a.createElement("img",{src:e.url,className:"materialboxed adjust",alt:""}))})))),e=r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},o,r.a.createElement("table",{className:"table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Id"),r.a.createElement("td",null,i)),r.a.createElement("tr",null,r.a.createElement("td",null,"Codigo de barra"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,m)),d&&r.a.createElement("tr",null,r.a.createElement("td",null,"Marca"),r.a.createElement("td",null,d.nombre)),u&&r.a.createElement("tr",null,r.a.createElement("td",null,"Tipo de vehiculo"),r.a.createElement("td",null,u.nombre)),f&&r.a.createElement("tr",null,r.a.createElement("td",null,"Ubicacion"),r.a.createElement("td",null,f)),p&&""!==p.trim()&&r.a.createElement("tr",null,r.a.createElement("td",null,"Descripcion"),r.a.createElement("td",null,p)),r.a.createElement("tr",null,r.a.createElement("td",null,"Es raro"),r.a.createElement("td",null,E?"Si":"No")),h&&r.a.createElement("tr",null,r.a.createElement("td",null,"Precio"),r.a.createElement("td",null,h)),r.a.createElement("tr",null,r.a.createElement("td",null,"Existecia"),r.a.createElement("td",null,v)),r.a.createElement("tr",null,r.a.createElement("td",null,"Cantidad minima"),r.a.createElement("td",null,g)),r.a.createElement("tr",null,r.a.createElement("td",null,"Fecha creado"),r.a.createElement("td",null,_)))))),c,n&&r.a.createElement("button",{className:"btn red darken-3",onClick:this.onDeleteProductClick},"Borrar"))}return r.a.createElement(r.a.Fragment,null,e,n&&r.a.createElement(va,{onAccept:n,title:"Borrar producto",message:"Esta seguro de borrar este producto? No sera posible deshacer la accion."}))}}]),a}(n.Component);yn.defaultProps={onDeleteProduct:null};var Cn=yn,On=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProductById(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){F()}},{key:"render",value:function(){var e=this.props.product,a=e.loading,t=e.product;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Detalles de producto"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/editar_producto/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement(Cn,{loading:a,product:t}))))}}]),a}(n.Component),wn=Object(h.b)(function(e){return{product:e.product,user:e.user}},{getProductById:Me})(On),kn=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"NEW_PRODUCT"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m3"},r.a.createElement("img",{src:"img/auto_motor.jpg",className:"responsive-img",alt:""})),r.a.createElement("div",{className:"col s12 m9"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m2 s12"},r.a.createElement("p",{className:"p-y1"},"Nombre:")),r.a.createElement("div",{className:"col m10 s12"},r.a.createElement("div",{className:"p-y1 bordered"},r.a.createElement("p",null,"Motor")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m2 s12"},r.a.createElement("p",{className:"p-y1"},"Descripcion:")),r.a.createElement("div",{className:"col m10 s12"},r.a.createElement("div",{className:"p-y1 bordered"},r.a.createElement("p",null,"Descripcion")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h5",null,"Detalles"),r.a.createElement("table",{className:"table-bordered striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Proveedor"),r.a.createElement("td",null,"Nombre")),r.a.createElement("tr",null,r.a.createElement("td",null,"Codigo"),r.a.createElement("td",null,"#12144")),r.a.createElement("tr",null,r.a.createElement("td",null,"Precio"),r.a.createElement("td",null,"Lps 12,000")),r.a.createElement("tr",null,r.a.createElement("td",null,"Marca"),r.a.createElement("td",null,"Nombre")),r.a.createElement("tr",null,r.a.createElement("td",null,"Ubicacion en bodega"),r.a.createElement("td",null,"MT-124")),r.a.createElement("tr",null,r.a.createElement("td",null,"Cantidad minima"),r.a.createElement("td",null,"12")),r.a.createElement("tr",null,r.a.createElement("td",null,"Cantidad total"),r.a.createElement("td",null,"120")))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m12 mb-1"},r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Local"),r.a.createElement("th",null,"Cantidad"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"SPS"),r.a.createElement("td",null,"100")),r.a.createElement("tr",null,r.a.createElement("td",null,"Tegucigalpa"),r.a.createElement("td",null,"40")),r.a.createElement("tr",null,r.a.createElement("td",null,"Bodega"),r.a.createElement("td",null,"10"))))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Distribucion"),r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Local"),r.a.createElement("th",null,"Cantidad"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"SPS"),r.a.createElement("td",null,"100")),r.a.createElement("tr",null,r.a.createElement("td",null,"Tegucigalpa"),r.a.createElement("td",null,"40")),r.a.createElement("tr",null,r.a.createElement("td",null,"Bodega"),r.a.createElement("td",null,"10")))))))))))}}]),a}(n.Component),Sn=function(){return function(e){e(jn()),re.a.get("".concat("https://rimeim.com/api","/brands/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_BRANDS",payload:t.data})}).catch(function(a){return se(a,e,"BRAND_END_LOADING")})}},In=function(e){return function(a){a(jn()),re.a.get("".concat("https://rimeim.com/api","/brands/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_BRAND",payload:t.data}),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"BRAND_END_LOADING")})}},jn=function(){return{type:"BRAND_LOADING"}},Rn=function(){return function(e){e(An()),re.a.get("".concat("https://rimeim.com/api","/vehicles/get")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_VEHICLES",payload:t.data}),e({type:"CLEAR_ERRORS",payload:{}})}).catch(function(a){return se(a,e,"VEHICLE_END_LOADING")})}},Dn=function(e){return function(a){a(An()),re.a.get("".concat("https://rimeim.com/api","/vehicles/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_VEHICLE",payload:t.data}),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"VEHICLE_END_LOADING")})}},An=function(){return{type:"VEHICLE_LOADING"}},Pn=function(e,a){for(var t=e.target.files,n=[],r=function(){var e=t[l];(c=new FileReader).onload=function(r){n.push({name:e.name,url:r.target.result,file:e}),l===t.length&&a(n)},c.readAsDataURL(e)},l=0;l<t.length;l++){var c;r()}},Tn=function(e){var a=e.label,t=e.onchange,n=e.id,l=e.input_size,c=e.multiple,o=e.accept,i=e.files,s=e.onDeleteFileClick,m=null,d=i.filter(function(e){return null!==e&&"undefined"!==typeof e&&!e.eliminado});return d.length>0&&(m=r.a.createElement("div",{className:"horizontal-scroll-container bordered center"},d.map(function(e){return r.a.createElement("div",{key:Re()(),className:"item",style:{background:"url('".concat(e.url,"') no-repeat center center / cover")}},r.a.createElement("div",{className:"red close-button cursor-pointer",onClick:function(){s&&s(e)}},r.a.createElement("i",{className:"material-icons"},"close")))}))),r.a.createElement("div",{className:"col ".concat(l)},m,r.a.createElement("div",{className:"file-field input-field overflow-x-hidden"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,a),r.a.createElement("input",{id:n,name:n,type:"file",accept:o,onChange:t,multiple:c?"multiple":""})),r.a.createElement("div",{className:"file-path-wrapper d-none"},r.a.createElement("input",{className:"file-path validate",type:"text"}))))};Tn.defaultProps={input_size:"s12",multiple:!1,accept:"image/jpeg, image/png"};var xn=Tn,Ln=function(e){var a=e.input_size,t=e.id,n=e.label,l=e.active_label,c=e.error,o=e.onchange,i=e.required,s=e.disabled,m=e.value;return r.a.createElement("div",{className:"col ".concat(a)},r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{className:"materialize-textarea",name:t,id:t,required:i,disabled:s,onChange:o,value:m}),r.a.createElement("label",{htmlFor:t,className:"".concat(l&&"active")},n),c&&r.a.createElement("span",{className:"helper-text text-danger"},c)))};Ln.defaultProps={input_size:"s12",label:null,active_label:!1,required:!1,disabled:!1,error:null};var Mn=Ln,Fn=function(e){var a;if(e.loading)a=r.a.createElement(K,{fullWidth:!0});else if(b(e.product))a=r.a.createElement(Ye,{message:"No hay informacion para mostrar"});else{var t=e.is_admin,n=e.onSelectFiles,l=e.onDeleteClickFile,c=e.onChangeTextInput,o=e.onChangeCheckField,i=e.brands,s=e.vehicles,m=e.product,d=m.imagenes,u=m.codigo_barra,p=m.nombre,E=m.marca,h=m.tipo_vehiculo,v=m.descripcion,f=m.precio,g=m.existencia,_=m.cantidad_minima,N=m.ubicacion,y=m.es_raro,C=e.errors,O=C.codigo_barra_error,w=C.nombre_error,k=C.descripcion_error,S=C.precio_error,I=C.existencia_error,j=C.cantidad_minima_error,R=C.ubicacion_error,D=function(e){var a=[];return e.forEach(function(e){return a.push({value:e.id,label:e.nombre})}),a}(s),A=function(e){var a=[];return e.forEach(function(e){return a.push({value:e.id,label:e.nombre})}),a}(i);a=r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagenes",label:"Imagenes",onchange:n,onDeleteFileClick:l,multiple:!0,files:d})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo_barra",label:"Codigo de barra",value:u,error:O,onchange:c,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:p,error:w,onchange:c,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"marca",label:"Marca",value:E,onchange:c,options:A})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"tipo_vehiculo",label:"Tipo de vehiculo",value:h,onchange:c,options:D})),!t&&r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"ubicacion",label:"Ubicacion",value:N,error:R,onchange:c,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:c,value:v,error:k,active_label:!0})),t&&r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio",label:"Precio",type:"number",onchange:c,value:f,error:S,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"existencia",label:"Existencia",type:"number",onchange:c,value:g,error:I,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"cantidad_minima",label:"Cantidad minima",type:"number",onchange:c,value:_,error:j,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"es_raro",label:"Es raro",checked:y,onchange:o}))))}return a};Fn.defaultProps={is_admin:!1};var Bn=Fn,Un=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo_barra:"",nombre:"",marca:"0",tipo_vehiculo:"0",descripcion:"",existencia:"0",cantidad_minima:"0",es_raro:!1,imagenes:[],ubicacion:"",id_producto_local:null,id_ubicacion:null,needs_config_selects:!1,is_product_setted:!1,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.onSelectFiles=function(e){Pn(e,function(e){var a=t.state.imagenes;e.forEach(function(e){-1===a.findIndex(function(a){return a.name===e.name})&&a.push(e)}),t.setState({imagenes:a})})},t.onDeleteFile=function(e){if(e.id){var a=t.state.imagenes,n=a.findIndex(function(a){return a===e});n>=0&&(a[n].eliminado=!0,t.setState({imagenes:a}))}else t.setState({imagenes:t.state.imagenes.filter(function(a){return a!==e})});document.getElementById("imagenes").value=null},t.getProductFromState=function(){var e=t.state,a=e.codigo_barra,n=e.nombre,r=e.marca,l=e.tipo_vehiculo,c=e.descripcion,o=e.existencia,i=e.cantidad_minima,s=e.es_raro,m=e.ubicacion,d=e.imagenes;return{codigo_barra:a,nombre:n,marca:r,tipo_vehiculo:l,descripcion:c,existencia:o,cantidad_minima:i,es_raro:s,ubicacion:m,id_ubicacion:e.id_ubicacion,id_producto_local:e.id_producto_local,imagenes:d}},t.onSaveProduct=function(){var e=t.getProductFromState();e.id_marca=t.state.marca,e.id_tipo_vehiculo=t.state.tipo_vehiculo,e.raro=e.es_raro;var a=e.imagenes.filter(function(e){return!e.id});if(a.length>0){var n=new FormData;a.forEach(function(e){return n.append("file_uploads[]",e.file,e.name)}),n.append("json_data",JSON.stringify(e)),t.props.updateProductById(t.props.match.params.id,n)}else t.props.updateProductById(t.props.match.params.id,e)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getBrands(),this.props.getVehicles(),this.props.getProductById(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),!this.state.is_product_setted&&!e.product.loading&&e.product.product){var a=e.product.product,t=a.codigo_barra,n=a.nombre,r=a.descripcion,l=a.raro,c=a.existencia,o=a.cantidad_minima,i=a.marca,s=a.tipo_vehiculo,m=a.imagenes,d=a.ubicacion,u=a.id_producto_local,p=a.id_ubicacion;this.setState({codigo_barra:t,nombre:n,marca:i&&i.id?i.id:"0",tipo_vehiculo:s&&s.id?s.id:"0",descripcion:r,existencia:c,cantidad_minima:o,es_raro:l,imagenes:m,ubicacion:d||"",id_producto_local:u||null,id_ubicacion:p||null,is_product_setted:!0})}e.brand.brands&&e.brand.brands.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0}),e.vehicle.vehicles&&e.vehicle.vehicles.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0})}},{key:"render",value:function(){var e=this.state.errors,a=this.props,t=a.brand.brands,n=a.vehicle.vehicles,l=a.user.user,c=this.getProductFromState();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar producto"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveProduct},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(Bn,{product:c,is_admin:l.admin,loading:this.props.product.loading,onSelectFiles:this.onSelectFiles,onDeleteClickFile:this.onDeleteFile,onChangeTextInput:this.onChangeTextInput,onChangeCheckField:this.onChangeCheckField,brands:t,vehicles:n,errors:e})))))}}]),a}(n.Component),Wn=Object(h.b)(function(e){return{user:e.user,product:e.product,brand:e.brand,vehicle:e.vehicle,errors:e.errors}},{updateProductById:Be,getProductById:Me,getVehicles:Rn,getBrands:Sn})(Un),Gn=function(e){var a=e.onchange,t=e.onsearch,n=e.values,l=n.termino,c=n.marca,o=n.tipo_vehiculo,i=n.ubicacion;return r.a.createElement("div",{className:"modal",id:"modal_buscar_producto"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar producto"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"termino",label:"Termino de busqueda",onchange:a,value:l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"marca",label:"Marca",onchange:a,value:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"tipo_vehiculo",label:"Tipo de vehiculo",onchange:a,value:o})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"ubicacion",label:"Ubicacion",onchange:a,value:i}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn",onClick:t},"Buscar")))},Vn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={productos:[],termino:"",marca:"",tipo_vehiculo:"",ubicacion:""},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSearch=function(){},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e=this.state,a=e.termino,t=e.marca,n=e.tipo_vehiculo,l=e.ubicacion;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_PRODUCT"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"}))),r.a.createElement(Gn,{values:{termino:a,marca:t,tipo_vehiculo:n,ubicacion:l},onchange:this.onChangeTextInput,onsearch:this.onSearch}))}}]),a}(n.Component);function zn(e){var a=e.marca,t=a.id,n=a.imagen,l=a.nombre;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/marcas/".concat(t)},r.a.createElement("div",{className:"card-image border-bottom card-product"},r.a.createElement("img",{src:n?n.url:"",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},l))))}var qn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={search_marca:""},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onClickSearchBrand=function(){var e=t.state.search_marca;t.props.searchBrand({field:e})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getBrands()}},{key:"render",value:function(){var e,a=this.props.brand,t=a.loading,n=a.brands;return e=t?r.a.createElement(K,{fullWidth:!0}):n.map(function(e){return r.a.createElement("div",{className:"col s12 m6 l4",key:Re()()},r.a.createElement(zn,{marca:e,key:Re()()}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_marca"},r.a.createElement("i",{className:"material-icons"},"add"),"Nueva")),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_marca",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar"))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Marcas"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nueva_marca"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_marca",className:"modal-trigger tooltipped","data-position":"bottom","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e),r.a.createElement("div",{className:"modal",id:"modal_buscar_marca"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"search_marca",label:"Nombre de la marca",value:this.state.search_marca,onchange:this.onChangeTextInput}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"btn modal-close",onClick:this.onClickSearchBrand},"Buscar")))))}}]),a}(n.Component),Hn=Object(h.b)(function(e){return{brand:e.brand}},{getBrands:Sn,searchBrand:function(e){return function(a){a(jn()),re.a.post("".concat("https://rimeim.com/api","/brands/search"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_BRANDS",payload:t.data}),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"BRAND_END_LOADING")})}}})(qn),Qn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onConfirmDeleteBrand=function(){t.props.deleteBrand(t.props.match.params.id,t.props.history,"/marcas")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getBrand(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){F()}},{key:"render",value:function(){var e,a=this.props.brand,t=a.loading,n=a.brand,l=n.id,c=n.imagen,o=n.nombre,i=n.descripcion;return e=t?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},c&&r.a.createElement("div",{className:"horizontal-scroll-container"},r.a.createElement("div",{className:"img-item"},r.a.createElement("img",{src:c.url,className:"materialboxed adjust",alt:""}))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,o)),r.a.createElement("tr",null,r.a.createElement("td",null,"Descripcion"),r.a.createElement("td",null,i)))))),r.a.createElement("button",{className:"btn red darken-3 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Marca"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/editar_marca/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)),r.a.createElement(va,{title:"Eliminar marca",message:"Esta seguro de que quiere eliminar esta marca? No se podra revertir la operacion",onAccept:this.onConfirmDeleteBrand}))}}]),a}(n.Component),Jn=Object(h.b)(function(e){return{brand:e.brand}},{getBrand:In,deleteBrand:function(e,a,t){return function(n){n(jn()),re.a.delete("".concat("https://rimeim.com/api","/brands/delete/").concat(e)).then(function(e){ve(e.data,n),n({type:"BRAND_END_LOADING"}),n({type:"CLEAR_ERRORS",payload:{}}),a.push(t)}).catch(function(e){return se(e,n,"BRAND_END_LOADING")})}}})(Qn),Yn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={imagen:null,nombre:"",descripcion:"",errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFileClick=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSaveNewBrand=function(){var e=t.state,a=e.imagen,n={nombre:e.nombre,descripcion:e.descripcion};if(null!==a){var r=new FormData;r.append("file_uploads[]",a.file,a.name),r.append("json_data",JSON.stringify(n)),t.props.addBrand(r,t.props.history)}else t.props.addBrand(n,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state,a=e.imagen,t=e.nombre,n=e.descripcion,l=e.errors,c=l.nombre_error,o=l.descripcion_error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nueva marca"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveNewBrand},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[a],label:"Seleccionar imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFileClick})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:t,error:c,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:n,error:o}))))))))}}]),a}(n.Component),Kn=Object(h.b)(function(e){return{brand:e.brand,errors:e.errors}},{addBrand:function(e,a){return function(t){t(jn()),re.a.post("".concat("https://rimeim.com/api","/brands/add"),e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var n=e.data;ve(n,t),t({type:"GET_BRAND",payload:n.data}),t({type:"CLEAR_ERRORS",payload:{}}),a.push("/marcas/".concat(n.data.id))}).catch(function(e){return se(e,t,"BRAND_END_LOADING")})}}})(Yn),Xn=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={imagen:null,nombre:"",descripcion:"",is_in_request:!0,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFileClick=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onUpdateBrand=function(){var e=t.state,a=e.imagen,n={nombre:e.nombre,descripcion:e.descripcion,imagen:t.props.brand.brand.imagen};if(null!==a&&a!==t.props.brand.brand.imagen){var r=new FormData;r.append("file_uploads[]",a.file,a.name),r.append("json_data",JSON.stringify(n)),t.props.updateBrand(t.props.match.params.id,r)}else t.props.updateBrand(t.props.match.params.id,n);t.setState({is_in_request:!0})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getBrand(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),this.state.is_in_request&&e.brand&&!e.brand.loading){var a=e.brand.brand,t=a.imagen,n=a.nombre,r=a.descripcion;this.setState({imagen:t,nombre:n,descripcion:r,is_in_request:!1})}}},{key:"render",value:function(){var e,a=this.state,t=a.nombre,n=a.descripcion,l=a.imagen,c=a.errors,o=c.nombre_error,i=c.descripcion_error;return e=this.props.brand.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[l],label:"Seleccionar imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFileClick})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:t,error:o,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:n,error:i,active_label:!0})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Marca"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onUpdateBrand},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},e))))}}]),a}(n.Component),Zn=Object(h.b)(function(e){return{brand:e.brand,errors:e.errors}},{getBrand:In,updateBrand:function(e,a){return function(t){t(jn()),re.a.post("".concat("https://rimeim.com/api","/brands/update/").concat(e),a,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var a=e.data;ve(a,t),t({type:"GET_BRAND",payload:a.data}),t({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,t,"BRAND_END_LOADING")})}}})(Xn);function $n(e){var a=e.vehiculo,t=a.id,n=a.imagen,l=a.nombre,c=a.descripcion;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/vehiculos/".concat(t)},r.a.createElement("div",{className:"card-image border-bottom card-product"},r.a.createElement("img",{src:n?n.url:"",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},l),r.a.createElement("span",{className:"d-block"},c))))}var er=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getVehicles()}},{key:"render",value:function(){var e,a=this.props.vehicle,t=a.vehicles;return e=a.loading?r.a.createElement(K,{fullWidth:!0}):t.map(function(e){return r.a.createElement("div",{className:"col s12 m6 l4",key:Re()()},r.a.createElement($n,{vehiculo:e,key:Re()()}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_vehiculo"},r.a.createElement("i",{className:"material-icons"},"add"),"Nuevo")),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"),"Buscar"))),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Tipos de vehiculo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/nuevo_vehiculo"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar",className:"modal-trigger tooltipped","data-position":"bottom","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)))}}]),a}(n.Component),ar=Object(h.b)(function(e){return{vehicle:e.vehicle}},{getVehicles:Rn,searchVehicle:function(e){return function(a){a(An()),re.a.post("".concat("https://rimeim.com/api","/vehicles/searc"),e).then(function(e){var t=e.data;ve(t,a),a({type:"GET_VEHICLES",payload:t.data}),a({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,a,"VEHICLE_END_LOADING")})}}})(er),tr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={imagen:null,nombre:"",descripcion:"",is_in_request:!1,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSaveVehicleType=function(){var e=t.state,a=e.imagen,n={nombre:e.nombre,descripcion:e.descripcion};if(null!==a){var r=new FormData;r.append("file_uploads[]",a.file,a.name),r.append("json_data",JSON.stringify(n)),t.props.addVehicle(r,t.props.history)}else t.props.addVehicle(n,t.props.history);t.setState({is_in_request:!0})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors}),this.setState({is_in_request:!1})}},{key:"render",value:function(){var e=this.state,a=e.imagen,t=e.nombre,n=e.descripcion,l=e.errors,c=l.nombre_error,o=l.descripcion_error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo tipo de vehiculo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveVehicleType},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},this.state.is_in_request&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",label:"Seleccionar imagen",files:[a],onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:t,required:!0,active_label:!0,error:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:n,required:!0,active_label:!0,error:o}))))))))}}]),a}(n.Component),nr=Object(h.b)(function(e){return{errors:e.errors,vehicle:e.vehicle}},{addVehicle:function(e,a){return function(t){t(An()),re.a.post("".concat("https://rimeim.com/api","/vehicles/add"),e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var n=e.data;ve(n,t),t({type:"GET_VEHICLE",payload:n.data}),a.push("/vehiculos/".concat(n.data.id)),t({type:"CLEAR_ERRORS",payload:{}})})}}})(tr),rr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={imagen:null,nombre:"",descripcion:"",is_in_request:!1,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSaveVehicleType=function(){var e=t.state,a=e.imagen,n={nombre:e.nombre,descripcion:e.descripcion,imagen:t.props.vehicle.vehicle.imagen};if(null!==a&&a!==t.props.vehicle.vehicle.imagen){var r=new FormData;r.append("file_uploads[]",a.file,a.name),r.append("json_data",JSON.stringify(n)),t.props.updateVehicle(t.props.match.params.id,r)}else t.props.updateVehicle(t.props.match.params.id,n);t.setState({is_in_request:!0})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getVehicle(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),e.vehicle&&!e.vehicle.loading&&!this.state.is_in_request){var a=e.vehicle.vehicle,t=a.imagen,n=a.nombre,r=a.descripcion;this.setState({imagen:t,nombre:n,descripcion:r,is_in_request:!1})}}},{key:"render",value:function(){var e,a=this.state,t=a.imagen,n=a.nombre,l=a.descripcion,c=a.errors,o=c.nombre_error,i=c.descripcion_error;return e=this.props.vehicle.loading?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",label:"Seleccionar imagen",files:[t],onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:n,required:!0,active_label:!0,error:o})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:l,required:!0,active_label:!0,error:i})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar tipo de vehiculo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveVehicleType},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},e))))}}]),a}(n.Component),lr=Object(h.b)(function(e){return{errors:e.errors,vehicle:e.vehicle}},{getVehicle:Dn,updateVehicle:function(e,a){return function(t){t(An()),re.a.post("".concat("https://rimeim.com/api","/vehicles/update/").concat(e),a,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var a=e.data;ve(a,t),t({type:"GET_VEHICLE",payload:a.data}),t({type:"CLEAR_ERRORS",payload:{}})}).catch(function(e){return se(e,t,"VEHICLE_END_LOADING")})}}})(rr),cr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onDeleteVehicleType=function(){t.props.deleteVehicle(t.props.match.params.id,t.props.history,"/vehiculos")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getVehicle(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){this.props.vehicle.vehicle&&this.props.vehicle.vehicle.imagen&&F()}},{key:"render",value:function(){var e,a=this.props.vehicle,t=a.loading,n=a.vehicle,l=n.id,c=n.imagen,o=n.nombre,i=n.descripcion;return e=t?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},c&&r.a.createElement("div",{className:"horizontal-scroll-container"},r.a.createElement("div",{className:"img-item"},r.a.createElement("img",{src:c.url,className:"materialboxed adjust",alt:""})))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,o)),r.a.createElement("tr",null,r.a.createElement("td",null,"Descripcion"),r.a.createElement("td",null,i)))))),r.a.createElement("button",{className:"btn red darken-3 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PRODUCTOS"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Tipo de vehiculo"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/editar_vehiculo/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,e),r.a.createElement(va,{onAccept:this.onDeleteVehicleType,title:"Borrar tipo de vehiculo",message:"Seguro que quiere eliminar este registro? No se podra deshacer la operacion"}))}}]),a}(n.Component),or=Object(h.b)(function(e){return{vehicle:e.vehicle}},{getVehicle:Dn,deleteVehicle:function(e,a,t){return function(n){n(An()),re.a.delete("".concat("https://rimeim.com/api","/vehicles/delete/").concat(e)).then(function(e){ve(e.data,n),n({type:"VEHICLE_END_LOADING"}),n({type:"CLEAR_ERRORS",payload:{}}),a.push(t)}).catch(function(e){return se(e,n,"VEHICLE_END_LOADING")})}}})(cr);function ir(e){var a=e.client,t=a.id,n=a.imagen,l=a.nombre;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/clientes/".concat(t)},r.a.createElement("div",{className:"card-image border-bottom card-product"},r.a.createElement("img",{src:n?n.url:"",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},l))))}var sr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getClients()}},{key:"render",value:function(){var e,a=this.props.clients,t=a.clients,n=a.loading;return e=t.length<0||n?r.a.createElement(K,{fullWidth:!0}):t.map(function(e,a){return r.a.createElement("div",{className:"col s12 m6 l4",key:Re()()},r.a.createElement(ir,{client:e,key:Re()()}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"CLIENTES"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cliente"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/buscar_cliente",className:"tooltipped","data-position":"left","data-tooltip":"Buscar"},r.a.createElement("i",{className:"material-icons"},"search")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)))}}]),a}(n.Component),mr=Object(h.b)(function(e){return{clients:e.client}},{getClients:Ze})(sr),dr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onConfirmDeleteClient=function(){t.props.deleteClient(t.props.match.params.id,t.props.history,"/clientes")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getClient(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){F()}},{key:"render",value:function(){var e,a=this.props.clients,t=a.loading,n=a.client,l=n.id,c=n.nombre,o=n.rtn,i=n.correo,s=n.telefono,m=n.codigo,d=n.imagen,u=n.es_empresa;return e=t?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},d&&r.a.createElement("div",{className:"horizontal-scroll-container"},r.a.createElement("div",{className:"img-item"},r.a.createElement("img",{src:d.url,className:"materialboxed adjust",alt:""}))),r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("td",null,"RTN"),r.a.createElement("td",null,o)),r.a.createElement("tr",null,r.a.createElement("td",null,"Codigo"),r.a.createElement("td",null,m)),r.a.createElement("tr",null,r.a.createElement("td",null,"Telefono"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("td",null,"Correo"),r.a.createElement("td",null,i)),r.a.createElement("tr",null,r.a.createElement("td",null,"Es Empresa"),r.a.createElement("td",null,!!u)))))),r.a.createElement("button",{className:"btn red darken-3 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"CLIENTES"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Cliente"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/editar_cliente/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons cursor-pointer"},"edit")))))),r.a.createElement("main",{className:"center"},e),r.a.createElement(va,{title:"Eliminar cliente",message:"Esta seguro de que quiere eliminar este cliente? No se podra revertir la operacion",onAccept:this.onConfirmDeleteClient}))}}]),a}(n.Component),ur=Object(h.b)(function(e){return{clients:e.client}},{getClient:$e,deleteClient:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),n(aa()),re.a.delete("".concat("https://rimeim.com/api","/clients/delete/").concat(e)).then(function(e){var r=e.data;ve(r,n),n(Ze()),a.push(t),setTimeout(function(){return ta()},10)}).catch(function(e){return se(e,n)})}}})(Object(xt.a)(dr)),pr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",rtn:"",correo:"",contacto:"",telefono:"",codigo:"",imagen:null,es_empresa:!1,id_producto:"",producto_seleccionado:"",precio_especial:"",nuevo_producto_nombre:"",editMode:!1,productos_especiales:[],needs_config_selects:!1,errors:{}},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onChangeTextInput=function(e){if("es_empresa"===e.target.name){var a=!t.state.es_empresa;return t.setState(Object(J.a)({},e.target.name,a))}t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onAddSpecialProductPriceClick=function(e){e.preventDefault(),t.setState({id_producto:"",precio_especial:"",producto_seleccionado:""})},t.onAddSpecialProductPrice=function(e){e.preventDefault();var a=t.props.products.products,n=t.state,r=n.productos_especiales,l=n.id_producto,c=n.precio_especial,o=a.findIndex(function(e){return e.id===l}),i={id_producto:l,producto_nombre:a[o].nombre,precio:c};r.push(i),t.setState({id_producto:"",nuevo_producto_nombre:"",precio_especial:"",producto_seleccionado:""})},t.onEditSpecialProductPrice=function(){var e=t.state,a=e.precio_especial,n=e.productos_especiales,r=e.producto_seleccionado,l=n.findIndex(function(e){return e.id===r});n[l].precio=a,n[l].actualizado=!0,t.setState({id_producto:"",precio_especial:"",producto_seleccionado:"",nuevo_producto_nombre:"",editMode:!1})},t.onEditSpecialProductPriceClick=function(e){var a=e.precio,n=e.id;t.setState({id_producto:n,precio_especial:a,producto_seleccionado:n,editMode:!0})},t.onDeleteSpecialProductPrice=function(e){var a=t.state.productos_especiales,n=a.findIndex(function(a){return a.id.toString()===e.id});delete a[n].actualizado,a[n].eliminado=!0,t.setState({id_producto:"",precio_especial:""})},t.onSubmit=function(e){e.preventDefault();var a=t.state,n=a.nombre,r=a.rtn,l=a.correo,c=a.contacto,o=a.telefono,i=a.codigo,s=a.imagen,m={nombre:n,rtn:r,correo:l,contacto:c,telefono:o,codigo:i,es_empresa:a.es_empresa,precios_productos:a.productos_especiales};if(null!==s){var d=new FormData;d.append("file_uploads[]",s.file,s.name),d.append("json_data",JSON.stringify(m)),t.props.createClient(d,t.props.history,"/clientes")}else t.props.createClient(m,t.props.history,"/clientes")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProducts()}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors});var a=e.products.products;a&&0===this.state.productos_especiales.length&&(a.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.nombre,n=a.rtn,l=a.correo,c=a.contacto,o=a.telefono,i=a.codigo,s=a.es_empresa,m=a.id_producto,d=a.imagen,u=a.precio_especial,p=a.productos_especiales,E=a.errors.nombre_error,h=this.props.products.products,v=[];return h.forEach(function(e){v.push({value:e.id,label:e.nombre})}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"NEW_CLIENT"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card "},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m12"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[d],label:"Seleccionar Imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:t,error:E})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"rtn",label:"RTN",onchange:this.onChangeTextInput,value:n})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo",onchange:this.onChangeTextInput,value:l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"contacto",label:"Contacto",onchange:this.onChangeTextInput,value:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"telefono",label:"Telefono",onchange:this.onChangeTextInput,value:o})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo",label:"Codigo",onchange:this.onChangeTextInput,value:i})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"es_empresa",checked:s,onchange:this.onChangeTextInput,label:"Es empresa"})),r.a.createElement("div",{className:"col s12 center mb-1"},r.a.createElement("div",{className:"d-block"},r.a.createElement("h5",null,"Precio Especial a Producto"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":"modal_agregar_precio_producto",onClick:this.onAddSpecialProductPriceClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("div",{className:"modal",id:"modal_agregar_precio_producto"},this.props.products.loading&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",null,r.a.createElement("div",{className:"modal-content center"},r.a.createElement("h5",null,"Precio Especial a Producto"),this.state.editMode?r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:u,active_label:!0})):r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"id_producto",label:"Producto",onchange:this.onChangeTextInput,value:m,options:v})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:u})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn left text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white mb-1",onClick:this.state.editMode?this.onEditSpecialProductPrice:this.onAddSpecialProductPrice},"Guardar")))),r.a.createElement("div",{className:"row"},p.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID Producto"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,p.map(function(a,t){return a.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,a.id_producto),r.a.createElement("td",null,a.producto_nombre),r.a.createElement("td",null,a.precio),r.a.createElement("td",null,r.a.createElement("i",{onClick:e.onDeleteSpecialProductPrice.bind(e,a),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:e.onEditSpecialProductPriceClick.bind(e,a),"data-target":"modal_agregar_precio_producto",className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"")),r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"," ")))))))))))}}]),a}(n.Component),Er=Object(h.b)(function(e){return{clients:e.client,products:e.product,errors:e.errors}},{createClient:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),re.a.post("".concat("https://rimeim.com/api","/clients/add"),e).then(function(e){ve(e.data,n),a.push(t)}).catch(function(e){return se(e,n)})}},getClient:$e,getProducts:xe})(Object(xt.a)(pr)),hr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",rtn:"",correo:"",contacto:"",telefono:"",codigo:"",es_empresa:!1,imagen:null,id_producto:"",precio:"",producto_seleccionado:"",productos_especiales:[],editMode:!1,needs_config_selects:!1,errors:{}},t.onChangeTextInput=function(e){if("es_empresa"===e.target.name){var a=!t.state.es_empresa;return t.setState(Object(J.a)({},e.target.name,a))}t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onAddSpecialProductPriceClick=function(e){e.preventDefault(),t.setState({id_producto:"",precio:"",producto_seleccionado:""})},t.onAddSpecialProductPrice=function(e){e.preventDefault();var a=t.props.products.products,n=t.state,r=n.productos_especiales,l=n.id_producto,c=n.precio_especial,o=a.findIndex(function(e){return e.id===l}),i={id_producto:l,producto_nombre:a[o].nombre,precio:c};r.push(i),t.setState({id_producto:"",nuevo_producto_nombre:"",precio_especial:"",producto_seleccionado:""})},t.onEditSpecialProductPrice=function(){var e=t.state,a=e.precio_especial,n=e.productos_especiales,r=e.producto_seleccionado,l=n.findIndex(function(e){return e.id===r});n[l].precio=a,n[l].actualizado=!0,t.setState({id_producto:"",precio_especial:"",producto_seleccionado:"",nuevo_producto_nombre:"",editMode:!1})},t.onEditSpecialProductPriceClick=function(e){var a=e.precio,n=e.id;t.setState({id_producto:n,precio_especial:a,producto_seleccionado:n,editMode:!0})},t.onDeleteSpecialProductPrice=function(e){var a=t.state.productos_especiales,n=a.findIndex(function(a){return a.id.toString()===e.id});delete a[n].actualizado,a[n].eliminado=!0,t.setState({id_producto:"",precio_especial:""})},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSubmit=function(e){e.preventDefault();var a=t.props.match.params.id,n=t.props.clients.client,r=t.state,l=r.nombre,c=r.rtn,o=r.correo,i=r.contacto,s=r.telefono,m=r.codigo,d=r.imagen,u=r.es_empresa,p=r.productos_especiales,E={nombre:l,rtn:c,correo:o,contacto:i,telefono:s,codigo:m,es_empresa:u,imagen:n.imagen,precios_productos:p};if(null!==d&&d!==n.imagen){var h=new FormData;h.append("file_uploads[]",d.file,d.name),h.append("json_data",JSON.stringify(E)),t.props.editClient(h,a,t.props.history,"/clientes")}else t.props.editClient(E,a,t.props.history,"/clientes")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=this.props.match.params.id;e&&this.props.getClient(e),this.props.getProducts()}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors});var a=e.clients.client,t=e.products.products;t&&0===this.state.productos_especiales.length&&(t.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0})),a&&(a.nombre=b(a.nombre)?"":a.nombre,a.rtn=b(a.rtn)?"":a.rtn,a.correo=b(a.correo)?"":a.correo,a.contacto=b(a.contacto)?"":a.contacto,a.telefono=b(a.telefono)?"":a.telefono,a.codigo=b(a.codigo)?"":a.codigo,a.es_empresa=b(a.es_empresa)?"":a.es_empresa,a.imagen=b(a.imagen)?"":a.imagen,a.precios_productos=b(a.precios_productos)?[]:a.precios_productos,this.setState({nombre:a.nombre,rtn:a.rtn,correo:a.correo,contacto:a.contacto,telefono:a.telefono,codigo:a.codigo,es_empresa:a.es_empresa,imagen:a.imagen,productos_especiales:a.precios_productos}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.nombre,l=t.rtn,c=t.correo,o=t.contacto,i=t.telefono,s=t.codigo,m=t.imagen,d=t.es_empresa,u=t.id_producto,p=t.precio_especial,E=t.productos_especiales,h=t.errors.nombre_error,v=this.props.clients.loading,f=this.props.products.products,g=this.props.match.params.id,b=[];return f.forEach(function(e){b.push({value:e.id,label:e.nombre})}),e=v&&g?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card "},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[m],label:"Seleccionar Imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:n,active_label:!!n,error:h})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"rtn",label:"RTN",onchange:this.onChangeTextInput,value:l,active_label:!!l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo",onchange:this.onChangeTextInput,value:c,active_label:!!c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"contacto",label:"Contacto",onchange:this.onChangeTextInput,value:o,active_label:!!o})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"telefono",label:"Telefono",onchange:this.onChangeTextInput,value:i,active_label:!!i})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo",label:"Codigo",onchange:this.onChangeTextInput,value:s,active_label:!!s})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"es_empresa",checked:d,onchange:this.onChangeTextInput,label:"Es empresa"})),r.a.createElement("div",{className:"col s12 center mb-1"},r.a.createElement("div",{className:"d-block"},r.a.createElement("h5",null,"Precio Especial a Producto"),r.a.createElement("button",{className:"modal-trigger btn-floating","data-target":"modal_editMode_producto",onClick:this.onAddSpecialProductPriceClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("div",{className:"row"},E.length>0?r.a.createElement("table",{className:"striped table-bordered mt-1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID Producto"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,E.map(function(e,t){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.precio),r.a.createElement("td",null,r.a.createElement("i",{onClick:a.onDeleteSpecialProductPrice.bind(a,e),className:"material-icons cursor-pointer"},"delete_sweep"),r.a.createElement("i",{onClick:a.onEditSpecialProductPriceClick.bind(a,e),"data-target":"modal_editMode_producto",className:"material-icons cursor-pointer modal-trigger"},"create")))}))):"")),r.a.createElement("div",{className:"d-block center mt-1"},r.a.createElement("button",{className:"btn",type:"submit"},"Guardar"))))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"EDIT_CLIENT"}),r.a.createElement("main",null,e),r.a.createElement("div",{className:"modal",id:"modal_editMode_producto"},this.props.products.loading&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"modal-content center"},r.a.createElement("h5",null,"Precio Especial a Producto"),this.state.editMode?r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:p,active_label:!!this.state.editMode})):r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"id_producto",label:"Producto",onchange:this.onChangeTextInput,value:u,options:b})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:p,active_label:!!this.state.editMode})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn left text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white mb-1",onClick:this.state.editMode?this.onEditSpecialProductPrice:this.onAddSpecialProductPrice},"Guardar"))))}}]),a}(n.Component),vr=Object(h.b)(function(e){return{clients:e.client,products:e.product,errors:e.errors}},{editClient:function(e,a,t,n){return function(r){r({type:"CLEAR_ERRORS",payload:{}}),re.a.post("".concat("https://rimeim.com/api","/clients/update/").concat(a),e).then(function(e){var a=e.data;ve(a,r),r({type:"GET_CLIENT",payload:a.data}),t.push(n)}).catch(function(e){return se(e,r)})}},getClient:$e,getProducts:xe})(Object(xt.a)(hr)),fr=function(e){var a=e.onchange,t=e.onsearch,n=e.values.field;return r.a.createElement("div",{className:"modal",id:"modal_buscar_cliente"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar cliente"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"field",label:"Termino de busqueda",value:n,onchange:a}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn",onClick:t},"Buscar")))},gr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={field:"",searching:!1},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSearch=function(e){e.preventDefault(),t.setState({searching:!0}),t.props.searchClient(t.state.field)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e,a=this.state,t=a.field,n=a.searching,l=this.props.clients,c=l.clients,o=l.loading;return e=o?r.a.createElement(K,{fullWidth:!0}):c.length<=0&&!o?r.a.createElement("h1",null,"No hay clientes"):c.map(function(e,a){return r.a.createElement("div",{className:"col s12 m6 l4"},r.a.createElement(ir,{client:e,key:e.id}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_CLIENT"}),r.a.createElement("main",null,r.a.createElement(fr,{onsearch:this.onSearch,onchange:this.onChangeTextInput,values:{field:t}}),n?e:""))}}]),a}(n.Component),br=Object(h.b)(function(e){return{clients:e.client}},{searchClient:ea})(gr),_r=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",rtn:"",correo:"",contacto:"",telefono:"",imagen:null,producto_seleccionado:"0",id_nuevo_producto:"",precio_especial:"0",productos:[],needs_config_selects:!1,editMode:!1,errors:{}},t.onAddProduct=function(e){e.preventDefault();var a=t.props.products.products,n=t.state,r=n.productos,l=n.precio_especial,c=n.id_nuevo_producto,o=a.findIndex(function(e){return e.id===c}),i={id_producto:a[o].id,nombre:a[o].nombre,precio:a[o].precio,precio_especial:l};r.push(i),t.setState({producto_seleccionado:c,precio_especial:"0",needs_config_selects:!1})},t.onAddProductClick=function(){t.setState({producto_seleccionado:"",id_nuevo_producto:"",precio_especial:"0"})},t.onEditProductClick=function(e){var a=e.precio_especial,n=e.id_producto;t.setState({id_nuevo_producto:n,producto_seleccionado:n,precio_especial:a,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.precio_especial,l=a.findIndex(function(e){return e.id_producto===n});a[l].precio_especial=r,a[l].actualizado=!0,t.setState({id_nuevo_producto:"",producto_seleccionado:"",precio_especial:"0",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});delete a[n].actualizado,a[n].eliminado=!0,t.setState({id_nuevo_producto:"",producto_seleccionado:"",precio_especial:"0"})},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSubmit=function(e){e.preventDefault();var a={nombre:t.state.nombre,rtn:t.state.rtn,contacto:t.state.contacto,correo:t.state.correo,telefono:t.state.telefono,productos:t.state.productos};if(null!==t.state.imagen){var n=new FormData;n.append("file_uploads[]",t.state.imagen.file,t.state.imagen.name),n.append("json_data",JSON.stringify(a)),t.props.addProvider(n,t.props.history,"/proveedores")}else t.props.addProvider(a,t.props.history,"/proveedores")},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProducts()}},{key:"componentWillReceiveProps",value:function(e){(e.errors&&this.setState({errors:e.errors}),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.nombre,n=a.rtn,l=a.correo,c=a.contacto,o=a.telefono,i=a.imagen,s=a.id_nuevo_producto,m=a.productos,d=a.precio_especial,u=a.errors.nombre_error,p=[];return this.props.products.products.forEach(function(e){p.push({value:e.id,label:e.nombre})}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"NEW_PROVIDER"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{className:"",onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[i],label:"Seleccionar Imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:t,error:u})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"rtn",label:"RTN",onchange:this.onChangeTextInput,value:n})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo",onchange:this.onChangeTextInput,value:l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"contacto",label:"Contacto",onchange:this.onChangeTextInput,value:c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"telefono",label:"Telefono",onchange:this.onChangeTextInput,value:o})),r.a.createElement("div",{className:"col s12 center mb-1"},r.a.createElement("h5",null,"Productos"),r.a.createElement("button",{className:"btn-floating modal-trigger","data-tooltip":"Agregar","data-target":"modal_agregar_productos",onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("div",{className:"row center"},m.length>0?r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio Original"),r.a.createElement("th",null,"Precio Especial"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,m.map(function(a,t){return a.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,a.id_producto),r.a.createElement("td",null," ",a.nombre," "),r.a.createElement("td",null,a.precio),r.a.createElement("td",null,a.precio_especial),r.a.createElement("td",null,r.a.createElement("i",{className:"material-icons cursor-pointer center",onClick:e.onDeleteProduct.bind(e,a)},"delete_sweep"),r.a.createElement("i",{className:"material-icons cursor-pointer modal-trigger center","data-target":"modal_agregar_productos",onClick:e.onEditProductClick.bind(e,a)},"create")))}))):""),r.a.createElement("div",{className:"modal",id:"modal_agregar_productos"},r.a.createElement("div",{className:"modal-content"},this.props.products.loading&&r.a.createElement(K,{fullWidth:!0}),this.state.editMode?r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:d,active_label:!!this.state.editMode})):r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"id_nuevo_producto",label:"Producto",value:s,onchange:this.onChangeTextInput,options:p})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:d,active_label:!!this.state.editMode}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn left text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white",onClick:this.state.editMode?this.onEditProduct:this.onAddProduct},"Guardar")))),r.a.createElement("div",{className:"center mt-1"},r.a.createElement("button",{className:"btn"},"Guardar")))))))))}}]),a}(n.Component),Nr=Object(h.b)(function(e){return{providers:e.provider,products:e.product,errors:e.errors}},{getProducts:xe,addProvider:function(e,a){return function(t){t({type:"CLEAR_ERRORS",payload:{}}),t(tn()),re.a.post("".concat("https://rimeim.com/api","/providers/add"),e).then(function(e){var n=e.data;ve(n,t),t(ta),a.push("/proveedores")}).catch(function(e){return se(e,t)})}}})(Object(xt.a)(_r)),yr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",rtn:"",correo:"",contacto:"",telefono:"",imagen:null,producto_seleccionado:"0",id_nuevo_producto:"",precio_especial:"0",nuevo_producto_nombre:"",productos:[],needs_config_selects:!1,editMode:!1,errors:{}},t.onAddProduct=function(e){e.preventDefault();var a=t.props.products.products,n=t.state,r=n.productos,l=n.precio_especial,c=n.id_nuevo_producto,o=a.findIndex(function(e){return e.id===c}),i={id_producto:a[o].id,producto_nombre:a[o].nombre,producto_precio:a[o].precio,precio_especial:l};r.push(i),t.setState({nuevo_producto_nombre:"",producto_seleccionado:c,precio_especial:"0",needs_config_selects:!1})},t.onAddProductClick=function(){t.setState({nuevo_producto_nombre:"",producto_seleccionado:"",id_nuevo_producto:"",precio_especial:"0",editMode:!1})},t.onEditProductClick=function(e){var a=e.precio_especial,n=e.id_producto;t.setState({id_nuevo_producto:n,producto_seleccionado:n,precio_especial:a,editMode:!0})},t.onEditProduct=function(){var e=t.state,a=e.productos,n=e.producto_seleccionado,r=e.precio_especial,l=a.findIndex(function(e){return e.id_producto===n});a[l].precio_especial=r,a[l].actualizado=!0,t.setState({id_nuevo_producto:"",producto_seleccionado:"",precio_especial:"0",editMode:!1})},t.onDeleteProduct=function(e){var a=t.state.productos,n=a.findIndex(function(a){return a.id_producto===e.id_producto});delete a[n].actualizado,a[n].eliminado=!0,t.setState({id_nuevo_producto:"",producto_seleccionado:"",precio_especial:"0"})},t.onChangeFiles=function(e){for(var a=e.target.files,n=null,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n={name:e.name,url:r.target.result,file:e},l===a.length&&t.setState({imagen:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteFile=function(){t.setState({imagen:null}),document.getElementById("imagen").value=null},t.onSubmit=function(e){e.preventDefault();var a=t.props.providers.provider,n=t.props.match.params.id,r=t.state,l=r.nombre,c=r.rtn,o=r.correo,i=r.contacto,s=r.telefono,m=r.imagen,d=r.productos,u={nombre:l,rtn:c,contacto:i,correo:o,telefono:s,imagen:a.imagen,productos:d};if(null!==m||m!==a.imagen){var p=new FormData;p.append("file_uploads[]",m.file,m.name),p.append("json_data",JSON.stringify(u)),t.props.editProvider(p,t.props.history,n)}else t.props.editProvider(u,t.props.history,n)},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=this.props.match.params.id;e&&this.props.getProvider(e),this.props.getProducts()}},{key:"componentWillReceiveProps",value:function(e){(e.errors&&this.setState({errors:e.errors}),e.products.products)&&(e.products.products.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0}));var a=e.providers.provider;a&&(a.nombre=b(a.nombre)?"":a.nombre,a.rtn=b(a.rtn)?"":a.rtn,a.correo=b(a.correo)?"":a.correo,a.contacto=b(a.contacto)?"":a.contacto,a.telefono=b(a.telefono)?"":a.telefono,a.productos=b(a.productos)?[]:a.productos,this.setState({nombre:a.nombre,rtn:a.rtn,correo:a.correo,contacto:a.contacto,telefono:a.telefono,imagen:a.imagen,productos:a.productos}))}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e,a=this,t=this.state,n=t.nombre,l=t.rtn,c=t.correo,o=t.contacto,i=t.telefono,s=t.id_nuevo_producto,m=t.productos,d=t.imagen,u=t.precio_especial,p=t.errors.nombre_error,E=[],h=this.props.products.products,v=this.props.providers.loading;return h.forEach(function(e){E.push({value:e.id,label:e.nombre})}),e=v?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{className:"",onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagen",files:[d],label:"Seleccionar Imagen",onchange:this.onChangeFiles,onDeleteFileClick:this.onDeleteFile})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",onchange:this.onChangeTextInput,value:n,active_label:!!n,error:p})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"rtn",label:"RTN",onchange:this.onChangeTextInput,value:l,active_label:!!l})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo",onchange:this.onChangeTextInput,value:c,active_label:!!c})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"contacto",label:"Contacto",onchange:this.onChangeTextInput,value:o,active_label:!!o})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"telefono",label:"Telefono",onchange:this.onChangeTextInput,value:i,active_label:!!i})),r.a.createElement("div",{className:"col s12 center mb-1"},r.a.createElement("h5",null,"Productos"),r.a.createElement("button",{className:"btn-floating modal-trigger","data-tooltip":"Agregar","data-target":"modal_agregar_productos",onClick:this.onAddProductClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("div",{className:"row center"},m.length>0?r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Precio Original"),r.a.createElement("th",null,"Precio Especial"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,m.map(function(e,t){return e.eliminado?"":r.a.createElement("tr",{key:Re()()},r.a.createElement("td",null,e.id_producto),r.a.createElement("td",null,e.producto_nombre),r.a.createElement("td",null,e.producto_precio),r.a.createElement("td",null,e.precio_especial),r.a.createElement("td",null,r.a.createElement("i",{className:"material-icons cursor-pointer center",onClick:a.onDeleteProduct.bind(a,e)},"delete_sweep"),r.a.createElement("i",{className:"material-icons cursor-pointer modal-trigger center","data-target":"modal_agregar_productos",onClick:a.onEditProductClick.bind(a,e)},"create")))}))):""),r.a.createElement("div",{className:"center mt-1"},r.a.createElement("button",{className:"btn"},"Guardar"))))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"EDIT_PROVIDER"}),r.a.createElement("main",null,e,r.a.createElement("div",{className:"modal",id:"modal_agregar_productos"},r.a.createElement("div",{className:"modal-content"},this.props.products.loading&&r.a.createElement(K,{fullWidth:!0}),this.state.editMode?r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:u,active_label:!!this.state.editMode}):r.a.createElement("div",null,r.a.createElement(ma,{id:"id_nuevo_producto",label:"Producto",value:s,onchange:this.onChangeTextInput,options:E}),r.a.createElement(Z,{id:"precio_especial",label:"Precio Especial",onchange:this.onChangeTextInput,value:u,active_label:!!this.state.editMode})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn left text-white"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn text-white",onClick:this.state.editMode?this.onEditProduct:this.onAddProduct},"Guardar"))))))}}]),a}(n.Component),Cr=Object(h.b)(function(e){return{providers:e.provider,products:e.product,errors:e.errors}},{getProducts:xe,editProvider:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),re.a.post("".concat("https://rimeim.com/api","/providers/update/").concat(t),e).then(function(e){var t=e.data;ve(t,n),n({type:"GET_PROVIDER",payload:t.data}),a.push("/proveedores")}).catch(function(e){return se(e,n)})}},getProvider:en})(Object(xt.a)(yr));function Or(e){var a=e.provider,t=a.id,n=a.imagen,l=a.nombre;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/proveedores/".concat(t)},r.a.createElement("div",{className:"card-image border-bottom card-product"},r.a.createElement("img",{src:n?n.url:"",alt:""})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},l))))}var wr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProviders()}},{key:"render",value:function(){var e,a=this.props.providers,t=a.providers;return e=a.loading?r.a.createElement(K,{fullWidth:!0}):t.length<=0?r.a.createElement("h1",null,"No providers"):t.map(function(e,a){return r.a.createElement("div",{className:"col s12 m6 l4",key:e.id},r.a.createElement(Or,{provider:e}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"PROVIDERS"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)))}}]),a}(n.Component),kr=Object(h.b)(function(e){return{providers:e.provider}},{getProviders:an})(Object(xt.a)(wr)),Sr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onConfirmDeleteProvider=function(){t.props.deleteProvider(t.props.match.params.id,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProvider(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){F()}},{key:"render",value:function(){var e,a=this.props.providers,t=a.loading,n=a.provider,l=n.id,c=n.nombre,o=n.rtn,i=n.correo,s=n.telefono,m=n.codigo,d=n.imagen;return e=t?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},d&&r.a.createElement("div",{className:"horizontal-scroll-container"},r.a.createElement("div",{className:"img-item"},r.a.createElement("img",{src:d.url,className:"materialboxed adjust",alt:""}))),r.a.createElement("table",{className:"striped table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,c)),r.a.createElement("tr",null,r.a.createElement("td",null,"RTN"),r.a.createElement("td",null,o)),r.a.createElement("tr",null,r.a.createElement("td",null,"Codigo"),r.a.createElement("td",null,m)),r.a.createElement("tr",null,r.a.createElement("td",null,"Telefono"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("td",null,"Correo"),r.a.createElement("td",null,i)))))),r.a.createElement(T.a,{to:"/realizar_pedido",className:"text-white"},r.a.createElement("button",{className:"btn blue darken-3 ml-1"},"Realizar Pedido")),r.a.createElement("button",{className:"btn red darken-3 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"PROVEEDOR"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Proveedor"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/editar_proveedor/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons cursor-pointer"},"edit")))))),r.a.createElement("main",{className:"center"},e),r.a.createElement(va,{title:"Eliminar proveedor",message:"Esta seguro de que quiere eliminar este proveedor? No se podra revertir la operacion",onAccept:this.onConfirmDeleteProvider}))}}]),a}(n.Component),Ir=Object(h.b)(function(e){return{providers:e.provider}},{getProvider:en,deleteProvider:function(e,a){return function(t){t({type:"CLEAR_ERRORS",payload:{}}),re.a.delete("".concat("https://rimeim.com/api","/providers/delete/").concat(e)).then(function(e){var n=e.data;ve(n,t),a.push("/proveedores")}).catch(function(e){return se(e,t)})}}})(Object(xt.a)(Sr)),jr=function(e){var a=e.onchange,t=e.onsearch,n=e.values.field;return r.a.createElement("div",{className:"modal",id:"modal_buscar_proveedor"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar Proveedor"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"field",label:"Termino de busqueda",value:n,onchange:a}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat left"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn",onClick:t},"Buscar")))},Rr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={field:"",searching:!1},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onSearch=function(e){e.preventDefault(),t.setState({searching:!0}),t.props.searchProvider(t.state.field)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e,a=this.state,t=a.field,n=a.searching,l=this.props.providers,c=l.providers,o=l.loading;return e=o?r.a.createElement(K,{fullWidth:!0}):c.length<=0&&!o?r.a.createElement("h1",null,"No hay proveedores"):c.map(function(e,a){return r.a.createElement("div",{className:"col s12 m6 l4"},r.a.createElement(Or,{provider:e,key:e.id}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{navtype:"SEARCH_PROVIDER"}),r.a.createElement("main",null,r.a.createElement(jr,{onsearch:this.onSearch,onchange:this.onChangeTextInput,values:{field:t}}),n?e:""))}}]),a}(n.Component),Dr=Object(h.b)(function(e){return{providers:e.provider}},{searchProvider:function(e){return function(a){a(tn()),re.a.get("".concat("https://rimeim.com/api","/providers/search/").concat(e)).then(function(e){var t=e.data;ve(t,a),a({type:"GET_PROVIDERS",payload:t.data}),setTimeout(function(){return nn()},10)}).catch(function(e){return se(e,a)})}}})(Rr),Ar=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",nombre_usuario:"",correo:"",habilitado:!0,admin:!1,is_in_request:!1,nueva_clave:"",nueva_clave_confirmacion:"",errors:{}},t.onChangeTextInput=function(e){t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.onSaveNewData=function(){var e=t.state,a={nombre:e.nombre,nombre_usuario:e.nombre_usuario,correo:e.correo,habilitado:e.habilitado,admin:e.admin};t.setState({is_in_request:!0}),t.props.updateUserById(t.props.user.user.id,a)},t.onUpdatePassword=function(){var e=t.state,a=e.nueva_clave;if(a!==e.nueva_clave_confirmacion)return t.setState({errors:{nueva_clave_confirmacion_error:"Las claves no coinciden"}});t.props.updateUserPasswordById(t.props.user.user.id,{password:a}),t.setState({is_in_request:!0})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({is_in_request:!0}),this.props.getUserById(this.props.user.user.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&(this.setState({errors:e.errors}),this.state.is_in_request&&b(e.errors)&&(z("modal_actualizar_usuario_clave").close(),this.setState({is_in_request:!1,nueva_clave:"",nueva_clave_confirmacion:""}))),e.user.users.length>0){var a=e.user.users[0];this.setState({nombre:a.nombre,nombre_usuario:a.nombre_usuario,correo:a.correo,habilitado:a.habilitado,admin:a.admin})}}},{key:"render",value:function(){var e=this.state,a=e.nombre,t=e.nombre_usuario,n=e.correo,l=e.habilitado,c=e.admin,o=e.nueva_clave_confirmacion,i=e.nueva_clave,s=e.is_in_request,m=e.errors,d=m.nombre_error,u=m.nombre_usuario_error,p=m.correo_error,E=m.nueva_clave_confirmacion_error,h=this.props.is_editing;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},s&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:a,error:d,onchange:this.onChangeTextInput,disabled:!h,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre_usuario",label:"Nombre de usuario",value:t,error:u,onchange:this.onChangeTextInput,disabled:!h,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo electronico",value:n,error:p,onchange:this.onChangeTextInput,disabled:!h,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"habilitado",label:"Habilitado",checked:l,onchange:this.onChangeCheckField,disabled:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"admin",label:"Admin",checked:c,onchange:this.onChangeCheckField,disabled:!0})))),r.a.createElement("button",{className:"btn green darken-3",onClick:this.onSaveNewData},"Guardar"),r.a.createElement("button",{className:"btn ml-1 modal-trigger","data-target":"modal_actualizar_usuario_clave"},"Actualizar clave"))),r.a.createElement("div",{className:"modal",id:"modal_actualizar_usuario_clave"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nueva_clave",label:"Nueva clave",type:"password",value:i,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nueva_clave_confirmacion",label:"Confirmacion",type:"password",value:o,error:E,onchange:this.onChangeTextInput})),s&&r.a.createElement(K,{fullWidth:!0})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close left btn-flat"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"right btn-flat",onClick:this.onUpdatePassword},"Actualizar"))))}}]),a}(n.Component);Ar.defaultProps={is_editing:!1};var Pr=Object(h.b)(function(e){return{user:e.user,errors:e.errors}},{getUserById:ue,updateUserById:pe,updateUserPasswordById:Ee})(Ar),Tr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={is_editing:!1},t.onClickEditing=function(){t.setState({is_editing:!t.state.is_editing})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{active_nav:"CUENTA"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Configuracion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onClickEditing},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement(Pr,{is_editing:this.state.is_editing})))}}]),a}(n.Component),xr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isInRequest:!0,currentLocalSetted:!1},t.updateViewByCurrentLocal=function(e){0===e.id?we(t.props,"/admin_area"):we(t.props,"/nueva_venta")},t.onSelectLocal=function(e){t.props.setCurrentLocal(e)},t.onSelectAdminArea=function(){t.props.setCurrentLocal({id:0,name:"Administracion"})},t.onLogOut=function(){t.props.logoutUser()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=this.props.user,a=e.currentLocal,t=e.user.admin;b(a)||t?this.props.getLocalsForCurrentUser():this.updateViewByCurrentLocal(a)}},{key:"componentWillReceiveProps",value:function(e){this.setState({isInRequest:!1});var a=e.user,t=a.locals,n=a.currentLocal,r=this.props.user.user.admin;if(1===t.length&&!r)return this.state.currentLocalSetted||(this.props.setCurrentLocal(t[0]),this.setState({currentLocalSetted:!0})),this.updateViewByCurrentLocal(t[0]);b(n)||this.updateViewByCurrentLocal(n)}},{key:"render",value:function(){var e=this;if(this.state.isInRequest)return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"valign-wrapper minh-100"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center"},r.a.createElement("img",{src:te.a,alt:""}),r.a.createElement(K,{fullWidth:!0})))));var a=this.props.user,t=a.user.admin,n=a.locals,l=n.length<=0&&!1===t;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"valign-wrapper minh-100"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center"},r.a.createElement("img",{src:te.a,alt:""}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",{className:"text-center"},l?"No hay locales disponibles en el sistema":"Seleccione un lugar de trabajo"),n.map(function(a){return r.a.createElement(ee,{text:a.nombre,className:"btn btn-block mb-1 red darken-1 text-white",key:a.id,onClick:function(){e.onSelectLocal(a)}})}),!0===t&&r.a.createElement(ee,{text:"Administracion",className:"btn btn-block red darken-1 text-white",icon:"trending_up",onClick:this.onSelectAdminArea})),r.a.createElement("div",{className:"card-footer"},r.a.createElement(ee,{text:"Cerrar sesion",className:"btn-flat waves-effect waveslight btn-block",onClick:this.onLogOut})))))))}}]),a}(n.Component),Lr=Object(h.b)(function(e){return{user:e.user,errors:e.errors}},{logoutUser:Ce,setCurrentLocal:de,getLocalsForCurrentUser:function(){return function(e){re.a.get("".concat(me,"/users/get_locals")).then(function(a){var t=a.data;ve(t,e),e(_e(t.data))}).catch(function(a){return se(a,e)})}}})(xr),Mr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isInRequest:!1,password:"",password_confirmation:"",errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onUpdatePassword=function(){var e=t.state,a=e.password,n=e.password_confirmation,r=e.errors;""===a.trim()?r.password_error="Campo invalido":delete r.password_error,""===n.trim()?r.password_confirmation_error="Campo invalido":delete r.password_confirmation_error,n!==a&&(r.password_confirmation_error="Las claves no coinciden"),t.setState({errors:r}),b(r)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e=this.state,a=e.password,t=e.password_confirmation,n=e.errors,l=n.password_error,c=n.password_confirmation_error;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"valign-wrapper minh-100"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("img",{src:te.a,alt:"Rimeim logo"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h6",null," Actualize su clave para continuar "),this.props.user.loadin&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"password",label:"Nueva clave",value:a,error:l,onchage:this.onChangeTextInput,type:"password",required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"password_confirmation",label:"Confirmacion",value:t,error:c,onchage:this.onChangeTextInput,type:"password",required:!0}))),r.a.createElement("div",{className:"card-footer p-1"},r.a.createElement("button",{className:"btn",onClick:this.onUpdatePassword},"Aceptar")))))))))}}]),a}(n.Component),Fr=Object(h.b)(function(e){return{user:e.user,errors:e.errors}})(Mr);function Br(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Area de administrador"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")))}function Ur(){return r.a.createElement("ul",{id:"dropdown_more",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_local"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_local",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"))))}function Wr(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Locales"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_local"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_local",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))),r.a.createElement("ul",{className:"right mobile-only"},r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown_more"},r.a.createElement("i",{className:"material-icons right"},"more_vert")))))}function Gr(e){var a=null;return e.obj&&e.obj.onSave&&(a=e.obj.onSave),r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},null!==a?"Actualizar local":"Nuevo local"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:a},r.a.createElement("i",{className:"material-icons"},"save")))))}function Vr(e){var a=e.obj;return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},a.nombre),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/locales/editar/".concat(a.id)},r.a.createElement("i",{className:"material-icons"},"edit")))))}function zr(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Empleados"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_empleado",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search")))))}function qr(){return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Empleado"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")))}var Hr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a,t=this,n=this.props,l=n.navtype,c=n.has_notifications,o=n.obj,i=n.user.user.admin;switch(l){case"ADMIN_DEFAULT":e=Br;break;case"ADMIN_LOCALS":e=Wr,a=Ur;break;case"ADMIN_LOCAL":e=Vr;break;case"ADMIN_EDIT_LOCAL":e=Gr;break;case"ADMIN_EMPLOYES":e=zr;break;case"ADMIN_EMPLOYE":e=qr}return r.a.createElement("header",null,a&&r.a.createElement(a,null),r.a.createElement("nav",{className:"red lighten-1 top-nav"},r.a.createElement("div",{className:"small-container"},e&&r.a.createElement(e,{obj:o}))),r.a.createElement("ul",{className:"sidenav sidenav-fixed",id:"nav_sidenav"},r.a.createElement("li",{className:"logo"},r.a.createElement(T.a,{to:"/admin_area",className:"brand-logo center mt-1"},r.a.createElement("img",{src:te.a,className:"logo-sidenav",alt:""})),r.a.createElement("div",{className:"divider"})),r.a.createElement("li",{className:"no-padding"},r.a.createElement("ul",{className:"collapsible collapsible-accordion pb-navbar"},r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/locales"},r.a.createElement("i",{className:"material-icons"},"store"),"Locales")),r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/empleados"},r.a.createElement("i",{className:"material-icons"},"people"),"Empleados")),r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/usuarios"},r.a.createElement("i",{className:"material-icons"},"account_circle"),"Usuarios")),r.a.createElement("li",{className:"bold"},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"directions_car"),"Productos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/productos"},"Inventario")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_producto"},"Nuevo producto"))))),r.a.createElement("li",{className:"bold ".concat(null)},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"trending_up"),"Reportes"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},"Ventas")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},"Inventario"))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"bold"},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},c?r.a.createElement("i",{className:"material-icons notifications-active"},"notifications_active"):r.a.createElement("i",{className:"material-icons"},"notifications"),"Cuenta"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons ".concat(c&&"notifications-active-color")},"notifications"),"Notificaciones")),i&&r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){t.props.setCurrentLocal(null)}},r.a.createElement("i",{className:"material-icons"},"compare_arrow"),"Cambiar de local")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/configuracion"},r.a.createElement("i",{className:"material-icons"},"settings"),"Configuracion")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){t.props.logoutUser()}},r.a.createElement("i",{className:"material-icons"},"exit_to_app"),"Cerrar sesion")))))))))}}]),a}(n.Component);Hr.defaultProps={has_notifications:!1};var Qr=Object(h.b)(function(e){return{user:e.user}},{setCurrentLocal:de,logoutUser:Ce})(Hr),Jr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_DEFAULT"}),r.a.createElement("main",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12",style:{height:"500px"}},r.a.createElement("center",null,r.a.createElement("img",{src:te.a,alt:"Logo rimeim",className:"mt-1"})))))))}}]),a}(n.Component),Yr=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onConfirmDeleteLocal=function(){t.props.deleteLocal(t.props.match.params.id,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G(),this.props.getLocal(this.props.match.params.id)}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){var e,a=this.props.local,t=a.loading,n=a.local;return e=t?r.a.createElement(K,{fullWidth:!0}):r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Codigo"),r.a.createElement("td",null,n.codigo)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,n.nombre)),r.a.createElement("tr",null,r.a.createElement("td",null,"Es bodega"),r.a.createElement("td",null,n.es_bodega?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("td",null,"Color"),r.a.createElement("td",null,r.a.createElement("div",{className:"circle-local",style:{backgroundColor:n.color_hex}}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Ubicacion"),r.a.createElement("td",null,n.descripcion_ubicacion)),r.a.createElement("tr",null,r.a.createElement("td",null,"Descripcion"),r.a.createElement("td",null,n.descripcion)))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Empleados"),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Admin"))),r.a.createElement("tbody",null,n.empleados&&n.empleados.map(function(e){return r.a.createElement("tr",{key:e.id,className:"".concat(!e.habilitado&&"grey lighten-2")},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.admin?"Si":"No"))}))))),r.a.createElement("button",{className:"modal-trigger btn red darken-2 mt-2","data-target":"modal_confirmar_evento"},"Eliminar")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_LOCAL",obj:n}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)),r.a.createElement(va,{title:"Eliminar este local",message:"Si confirma esta accion no podra seguir utilizando este local",onAccept:this.onConfirmDeleteLocal}))}}]),a}(n.Component),Kr=Object(h.b)(function(e){return{local:e.local}},{getLocal:Kt,deleteLocal:function(e,a){return function(t){t({type:"CLEAR_ERRORS",payload:{}}),re.a.delete("".concat("https://rimeim.com/api","/locals/delete/").concat(e)).then(function(e){var n=e.data;ve(n,t),a.push("/admin/locales")}).catch(function(e){return se(e,t)})}}})(Yr),Xr=function(e){var a=e.local,t=a.id,n=a.codigo,l=a.nombre,c=a.es_bodega,o=a.color_hex;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/admin/locales/".concat(t)},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"d-block"},r.a.createElement("div",{className:"circle-local left",style:{backgroundColor:o}}),r.a.createElement("span",{className:"ml-1"},n," | ",l)),c&&r.a.createElement("span",{className:"d-block"},"Bodega"))))},Zr=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getLocals()}},{key:"render",value:function(){var e=this.props.local,a=e.locals,t=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_LOCALS"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},t?r.a.createElement(K,{fullWidth:!0}):a.map(function(e){return r.a.createElement("div",{className:"col s12 m6 l6",key:e.id},r.a.createElement(Xr,{local:e}))}))))}}]),a}(n.Component),$r=Object(h.b)(function(e){return{local:e.local}},{getLocals:Yt})(Zr),el=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={modal_id:"modal_buscar_usuario",usuario:"",typing:!1,typingTimeout:0,searching:!1},t.onSelectUser=function(e){z(t.state.modal_id).close(),t.setState({usuario:""}),t.props.is_only_textbox||(t.props.onSelectNewUser(e),t.props.clearUsers())},t.onChangeTextInput=function(e){t.state.typingTimeout&&(t.setState({searching:!0}),clearTimeout(t.state.typingTimeout)),t.setState({usuario:e.target.value,typing:!1,typingTimeout:setTimeout(function(){t.props.getUsersByField(t.state.usuario)},2e3)})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.user.users&&this.setState({searching:!1})}},{key:"render",value:function(){var e=this,a=this.state,t=a.usuario,n=a.searching,l=null;if(n&&(l=r.a.createElement(K,{fullWidth:!0})),!this.props.is_only_textbox){var c=this.props.user.users;n||(l=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},c.map(function(a,t){return r.a.createElement("div",{className:"d-block cursor-pointer bordered p-1",key:a.id,onClick:function(){e.onSelectUser(a)}},a.id," - ",a.nombre)}))))}return r.a.createElement("div",{className:"modal",id:this.state.modal_id},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Buscar usuario"),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"usuario",label:"ID o nombre del usuario",value:t,onchange:this.onChangeTextInput})),l),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat left",onClick:function(){e.onSelectUser(null)}},"Cerrar")))}}]),a}(n.Component);el.defaultProps={is_only_textbox:!1};var al=Object(h.b)(function(e){return{user:e.user}},{getUsersByField:function(e){return function(a){a(ge()),re.a.get("".concat(me,"/users/search/").concat(e)).then(function(e){a(fe());var t=e.data;ve(t,a),a(ye(t.data))}).catch(function(e){return se(e,a)})}},clearUsers:fe})(el),tl=function(e){var a=e.size,t=e.label,n=e.id,l=e.onchange,c=e.value;return r.a.createElement("div",{className:"col ".concat(a)},t,":",r.a.createElement("div",{className:"input-field inline"},r.a.createElement("input",{id:n,name:n,type:"color",className:"validate",onChange:l,value:c})))};tl.defaultProps={size:"s12"};var nl=tl,rl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo:"",nombre:"",color_hex:"",ubicacion:"",es_bodega:!1,descripcion:"",current_action:"0",empleados:[],errors:{}},t.onSaveNewLocal=function(){var e=t.state,a={nombre:e.nombre,codigo:e.codigo,color_hex:e.color_hex,descripcion_ubicacion:e.ubicacion,es_bodega:e.es_bodega,descripcion:e.descripcion,empleados:e.empleados};t.props.saveNewLocal(a,t.props.history)},t.onChangeTextInput=function(e){if("es_bodega"===e.target.name){var a=!t.state.es_bodega;return t.setState(Object(J.a)({},e.target.name,a))}t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeSelectedValue=function(e){t.setState({current_action:e.target.value})},t.onSelectNewUser=function(e){if(e){var a=t.state.empleados;a.find(function(a){return a.id_usuario===e.id})||(a.push({id:null,new:!0,id_usuario:e.id,nombre:e.nombre,habilitado:!0,admin:!1}),t.setState({empleados:a}))}},t.onApplyChangesToEmployes=function(){var e=t.state,a=e.empleados,n=e.current_action;if("0"!==n){var r=a.filter(function(e){return!0===e.seleccionado});switch(n){case"1":r.forEach(function(e){return e.habilitado=!1});break;case"2":r.forEach(function(e){return e.habilitado=!0});break;case"3":r.forEach(function(e){return e.admin=!0});break;case"4":r.forEach(function(e){return e.admin=!1});break;case"5":r.forEach(function(e){return e.eliminado=!0});break;default:return}r.forEach(function(e){var t=a.indexOf(e);null!==t&&t>=0&&(!0===e.eliminado?a.splice(t,1):a[t]=e)}),t.setState({empleados:a})}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChangeCheckboxEmploye",value:function(e,a){a.preventDefault();var t=this.state.empleados,n=t.indexOf(e);if(!(null===n||n<0)){var r=t[n];null!==r.seleccionado?r.seleccionado=!r.seleccionado:r.seleccionado=!0,document.getElementById("check".concat(r.id_usuario)).checked=r.seleccionado,this.setState({empleados:t})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.codigo,n=a.nombre,l=a.color_hex,c=a.ubicacion,o=a.es_bodega,i=a.descripcion,s=a.current_action,m=a.empleados,d=a.errors,u=d.codigo_error,p=d.nombre_error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_EDIT_LOCAL",obj:{onSave:this.onSaveNewLocal}}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Datos del local"),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12 m6",id:"codigo",value:t,label:"Codigo",onchange:this.onChangeTextInput,error:u}),r.a.createElement(Z,{input_size:"s12 m6",id:"nombre",value:n,label:"Nombre del local",onchange:this.onChangeTextInput,error:p})),r.a.createElement("div",{className:"row"},r.a.createElement(nl,{id:"color_hex",value:l,label:"Color",onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"ubicacion",label:"Ubicacion",value:c,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{size:"s12 m6",id:"es_bodega",checked:o,label:"Es bodega",onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",value:i,label:"Descripcion",onchange:this.onChangeTextInput}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Empleados"),r.a.createElement("div",null,r.a.createElement("a",{href:"#modal_buscar_usuario",className:"modal-trigger btn mb-1 text-white"},"Agregar empleado")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{name:"current_action",onChange:this.onChangeSelectedValue,value:s},r.a.createElement("option",{value:"0"},"Seleccionar una opcion"),r.a.createElement("option",{value:"1"},"Deshabilitar"),r.a.createElement("option",{value:"2"},"Habilitar"),r.a.createElement("option",{value:"3"},"Asignar admin"),r.a.createElement("option",{value:"4"},"Remover admin"),r.a.createElement("option",{value:"5"},"Eliminar")),r.a.createElement("label",null,"Acciones en lote")),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("button",{type:"button",className:"btn",onClick:this.onApplyChangesToEmployes},"Aplicar"))),r.a.createElement("table",{className:"table-bordered striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"header-th"}),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Admin"))),r.a.createElement("tbody",null,m.map(function(a){return r.a.createElement("tr",{key:a.id_usuario,className:"".concat(!a.habilitado&&"grey lighten-2")},r.a.createElement("td",{className:"checkbox-td"},r.a.createElement("label",{onClick:e.onChangeCheckboxEmploye.bind(e,a)},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"check".concat(a.id_usuario)}),r.a.createElement("span",null))),r.a.createElement("td",null,a.id_usuario),r.a.createElement("td",null,a.nombre),r.a.createElement("td",null,a.admin?"Si":"No"))})))))))),r.a.createElement(al,{onSelectNewUser:this.onSelectNewUser}))}}]),a}(n.Component),ll=Object(h.b)(function(e){return{errors:e.errors}},{saveNewLocal:function(e,a){return function(t){t({type:"CLEAR_ERRORS",payload:{}}),re.a.post("".concat("https://rimeim.com/api","/locals/add"),e).then(function(e){var n=e.data;ve(n,t),a.push("/admin/locales/".concat(n.data.id))}).catch(function(e){return se(e,t)})}}})(rl),cl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={loaded:!1,codigo:"   ",nombre:"   ",color_hex:"    ",descripcion_ubicacion:"    ",es_bodega:!1,descripcion:"  ",current_action:"0",empleados:[],errors:{}},t.onSave=function(){var e=t.state,a=e.codigo,n=e.nombre,r=e.color_hex,l=e.descripcion_ubicacion,c=e.descripcion,o=e.empleados,i={codigo:a,nombre:n,descripcion:c,descripcion_ubicacion:l,color_hex:r,es_bodega:e.es_bodega,empleados:o};t.props.updateLocal(t.props.match.params.id,i,t.props.history)},t.onChangeTextInput=function(e){if("es_bodega"===e.target.name){var a=!t.state.es_bodega;return t.setState(Object(J.a)({},e.target.name,a))}t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeSelectedValue=function(e){t.setState({current_action:e.target.value})},t.onSelectNewUser=function(e){if(e){var a=t.state.empleados,n=a.find(function(a){return a.id_usuario===e.id});n?n.eliminado=!1:(a.push({id:null,new:!0,id_usuario:e.id,nombre:e.nombre,habilitado:!0,eliminado:!1,admin:!1}),t.setState({empleados:a}))}},t.onApplyChangesToEmployes=function(){var e=t.state,a=e.empleados,n=e.current_action;if("0"!==n){var r=a.filter(function(e){return!0===e.seleccionado});switch(n){case"1":r.forEach(function(e){return e.habilitado=!1});break;case"2":r.forEach(function(e){return e.habilitado=!0});break;case"3":r.forEach(function(e){return e.eliminado=!0});break;default:return}r.forEach(function(e){var t=a.indexOf(e);null!==t&&t>=0&&(!0===e.eliminado&&!0===e.new?a.splice(t,1):a[t]=e)}),t.setState({empleados:a})}},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getLocal(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),!this.state.loaded&&e.local.local&&!b(e.local.local)){var a=e.local.local;this.setState({loaded:!0,codigo:a.codigo,nombre:a.nombre,color_hex:a.color_hex,descripcion_ubicacion:a.descripcion_ubicacion,es_bodega:a.es_bodega,descripcion:a.descripcion,empleados:a.empleados})}}},{key:"onChangeCheckboxEmploye",value:function(e,a){a.preventDefault();var t=this.state.empleados,n=t.indexOf(e);if(!(null===n||n<0)){var r=t[n];null!==r.seleccionado?r.seleccionado=!r.seleccionado:r.seleccionado=!0,document.getElementById("check".concat(r.id_usuario)).checked=r.seleccionado,this.setState({empleados:t})}}},{key:"render",value:function(){var e=this,a=this.state,t=a.codigo,n=a.nombre,l=a.color_hex,c=a.descripcion_ubicacion,o=a.es_bodega,i=a.descripcion,s=a.current_action,m=a.empleados;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_EDIT_LOCAL",obj:{onSave:this.onSave}}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Datos del local"),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{input_size:"s12 m6",id:"codigo",value:t,label:"Codigo",onchange:this.onChangeTextInput,active_label:!0}),r.a.createElement(Z,{input_size:"s12 m6",id:"nombre",value:n,label:"Nombre del local",onchange:this.onChangeTextInput,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(nl,{id:"color_hex",value:l,label:"Color",onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion_ubicacion",label:"Ubicacion",value:c,onchange:this.onChangeTextInput,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{size:"s12 m6",id:"es_bodega",checked:o,label:"Es bodega",onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",value:i,label:"Descripcion",onchange:this.onChangeTextInput,active_label:!0}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Empleados"),r.a.createElement("div",null,r.a.createElement("a",{href:"#modal_buscar_usuario",className:"modal-trigger btn mb-1 text-white"},"Agregar empleado")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6"},r.a.createElement("select",{name:"current_action",onChange:this.onChangeSelectedValue,value:s},r.a.createElement("option",{value:"0"},"Seleccionar una opcion"),r.a.createElement("option",{value:"1"},"Deshabilitar"),r.a.createElement("option",{value:"2"},"Habilitar"),r.a.createElement("option",{value:"3"},"Eliminar")),r.a.createElement("label",null,"Acciones en lote")),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("button",{type:"button",className:"btn",onClick:this.onApplyChangesToEmployes},"Aplicar"))),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"header-th"}),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Nombre"))),r.a.createElement("tbody",null,m.filter(function(e){return"undefined"===typeof e.eliminado||!1===e.eliminado}).map(function(a){return r.a.createElement("tr",{key:a.id_usuario,className:"".concat(!a.habilitado&&"grey lighten-2")},r.a.createElement("td",{className:"checkbox-td"},r.a.createElement("label",{onClick:e.onChangeCheckboxEmploye.bind(e,a)},r.a.createElement("input",{type:"checkbox",className:"filled-in",id:"check".concat(a.id_usuario)}),r.a.createElement("span",null))),r.a.createElement("td",null,a.id_usuario),r.a.createElement("td",null,a.nombre))}))))))),r.a.createElement(al,{onSelectNewUser:this.onSelectNewUser})))}}]),a}(n.Component),ol=Object(h.b)(function(e){return{local:e.local,errors:e.errors}},{getLocal:Kt,updateLocal:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),n(Xt()),re.a.put("".concat("https://rimeim.com/api","/locals/update/").concat(e),a).then(function(a){var r=a.data;ve(r,n),n({type:"GET_LOCAL",payload:r.data}),t.push("/admin/locales/".concat(e))}).catch(function(e){return se(e,n)})}}})(cl),il=function(e,a){e({type:"GET_EMPLOYE",payload:a.data})},sl=function(e){e({type:"EMPLOYE_LOADING"})},ml=function(e){var a=e.employe,t=a.id,n=a.nombre,l=a.habilitado,c=a.admin,o=a.locales;return r.a.createElement("div",{className:"card hoverable"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("p",null,"Nombre: ",n),r.a.createElement("p",null,"Habilitado: ",l?"Si":"No"),r.a.createElement("p",null,"Administrador: ",c?"Si":"No")),r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("p",null,"Locales: ",o.length),o.map(function(e){return r.a.createElement("p",{className:"d-block p-1 bordered",key:e.id},e.nombre)})))),r.a.createElement("div",{className:"card-action"},r.a.createElement(T.a,{to:"/admin/empleados/".concat(t)},"Detalles")))},dl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={empleados:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getEmployes()}},{key:"componentWillReceiveProps",value:function(e){if(e.employe.employes){var a=e.employe.employes,t=[];a.forEach(function(e){if(t.findIndex(function(a){return a.id===e.usuario.id})>=0){var a=t[0],n=e.local;n.info={id:e.id,admin:e.admin,habilitado:e.habilitado,fecha_creado:e.fecha_creado},a.locales.length<3&&a.locales.push(n)}else{var r=e.usuario,l=e.local;l.info={id:e.id,admin:e.admin,habilitado:e.habilitado,fecha_creado:e.fecha_creado},r.locales=[],r.locales.push(l),t.push(r)}}),this.setState({empleados:t})}}},{key:"render",value:function(){var e=this.props.employe.loading,a=this.state.empleados;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_EMPLOYES"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e?r.a.createElement(K,{fullWidth:!0}):a.map(function(e){return r.a.createElement("div",{className:"col s12",key:e.id},r.a.createElement(ml,{employe:e}))}))))}}]),a}(n.Component),ul=Object(h.b)(function(e){return{employe:e.employe}},{getEmployes:function(){return function(e){e({type:"CLEAR_ERRORS",payload:{}}),sl(e),re.a.get("".concat("https://rimeim.com/api","/employes/")).then(function(a){var t=a.data;ve(t,e),e({type:"GET_EMPLOYES",payload:t.data})}).catch(function(a){return se(a,e)})}}})(dl),pl=function(e){var a=e.onDelete,t=e.onEdit,n=e.handleShow,l=e.registro,c=l.id,o=l.admin,i=l.habilitado,s=l.fecha_creado,m=l.local,d=l.usuario_creador,u=l.is_showing;return r.a.createElement("div",{className:"d-block bordered p-1 mb-1"},r.a.createElement("div",null,r.a.createElement("div",{className:"circle-local left",style:{backgroundColor:m.color_hex}}),r.a.createElement("span",null,m.nombre),r.a.createElement("i",{className:"right material-icons cursor-pointer m3x",onClick:function(){n(c)}},u?"arrow_drop_up":"arrow_drop_down")),u&&r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"border-bottom",style:{padding:"5px"}},r.a.createElement("span",null,"Admin:"),r.a.createElement("span",{className:"ml-1"},o?"Si":"No")),r.a.createElement("div",{className:"border-bottom",style:{padding:"5px"}},r.a.createElement("span",null,"Habilitado:"),r.a.createElement("span",{className:"ml-1"},i?"Si":"No")),r.a.createElement("div",{className:"border-bottom",style:{padding:"5px"}},r.a.createElement("span",null,"Agregado por:"),r.a.createElement("span",{className:"ml-1"},d.nombre)),r.a.createElement("div",{className:"border-bottom",style:{padding:"5px"}},r.a.createElement("span",null,"Fecha de inicio: "),r.a.createElement("span",{className:"ml-1"},s))),r.a.createElement("div",{className:"card-action"},r.a.createElement("button",{className:"btn red darken-2",onClick:function(){a(c)}},"Eliminar"),r.a.createElement("button",{className:"btn ml-1 modal-trigger","data-target":"modal_editar_empleado",onClick:function(){t(c)}},"Editar"))))},El=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={registro:{}},t.onAcceptUpdate=function(){var e=t.state.registro;t.props.onUpdateEmployeRegister(e)},t.onChangeTextInput=function(e){var a=t.state.registro;switch(e.target.name){case"empleado_habilitado":a.habilitado=!a.habilitado;break;case"empleado_admin":a.admin=!a.admin}t.setState({registro:a})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.registro&&this.setState({registro:e.registro})}},{key:"render",value:function(){var e=this.state.registro,a=e.habilitado,t=e.admin,n="";return e.local&&(n=e.local.nombre),r.a.createElement("div",{id:"modal_editar_empleado_registro",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Editar empleado en el local: ",n),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{label:"Habilidado",id:"empleado_habilitado",checked:a,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{label:"Admin",id:"empleado_admin",checked:t,onchange:this.onChangeTextInput}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close btn-flat left"},"Cerrar"),r.a.createElement("button",{type:"button",className:"btn",onClick:this.onAcceptUpdate},"Aceptar")))}}]),a}(n.Component),hl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={employe:{},errors:{},edited_register:{}},t.handleShowModal=function(e){var a=z("modal_editar_empleado_registro");e?a.open():a.close()},t.onEditEmployeRegister=function(e){var a=t.state.employe.registros.findIndex(function(a){return a.id===e});a>=0&&(t.setState({edited_register:t.state.employe.registros[a]}),t.handleShowModal(!0))},t.onConfirmUpdateEmploye=function(e){t.handleShowModal(!1);var a=t.state.employe,n=a.registros.findIndex(function(a){return a.id===e.id});if(n>=0){a.registros[n]=e,t.setState({employe:a});var r={admin:e.admin,habilitado:e.habilitado,id:e.id,id_local:e.local.id};t.props.updateEmployeRegisterById(e.id,a.id,r)}t.handleShowModal(!1)},t.onDeleteEmployeRegister=function(e){t.props.deleteRegisterById(e,t.props.history)},t.onHandleShowEmployeRegister=function(e){var a=t.state.employe,n=a.registros.findIndex(function(a){return a.id===e});n>=0&&(a.registros[n].is_showing=!a.registros[n].is_showing,t.setState({employe:a}))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getEmployeById(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),e.employe.employe){var a=e.employe.employe;a.registros&&a.registros.forEach(function(e){return e.is_showing=!1}),this.setState({employe:a})}}},{key:"render",value:function(){var e,a=this,t=this.props.employe.loading,n=this.state,l=n.employe,c=n.edited_register;return e=t?r.a.createElement("div",{className:"col s12"},r.a.createElement(K,{fullWidth:!0})):r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Informacion del usuario"),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,l.id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,l.nombre)),r.a.createElement("tr",null,r.a.createElement("td",null,"Admin"),r.a.createElement("td",null,l.admin?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("td",null,"Habilitado"),r.a.createElement("td",null,l.habilitado?"Si":"No")))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h5",null,"Locales en los que esta registrado"),l.registros&&l.registros.map(function(e){return r.a.createElement(pl,{key:e.id,registro:e,onEdit:a.onEditEmployeRegister,onDelete:a.onDeleteEmployeRegister,handleShow:a.onHandleShowEmployeRegister})}))),r.a.createElement("button",{className:"btn red darken-2"},"Eliminar")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Qr,{navtype:"ADMIN_EMPLOYE"}),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)),r.a.createElement(El,{registro:c,onUpdateEmployeRegister:this.onConfirmUpdateEmploye}))}}]),a}(n.Component),vl=Object(h.b)(function(e){return{employe:e.employe,errors:e.errors}},{getEmployeById:function(e){return function(a){a({type:"CLEAR_ERRORS",payload:{}}),sl(a),re.a.get("".concat("https://rimeim.com/api","/employes/get_one/").concat(e)).then(function(e){var t=e.data;ve(t,a),il(a,t)}).catch(function(e){return se(e,a)})}},updateEmployeRegisterById:function(e,a,t){return function(n){n({type:"CLEAR_ERRORS",payload:{}}),sl(n),re.a.put("".concat("https://rimeim.com/api","/employes/update/").concat(e,"/").concat(a),t).then(function(e){var a=e.data;ve(a,n),il(n,a)}).catch(function(e){return se(e,n)})}},deleteRegisterById:function(e,a){return function(t){t({type:"CLEAR_ERRORS",payload:{}}),sl(t),re.a.delete("".concat("https://rimeim.com/api","/employes/delete/").concat(e)).then(function(e){var n=e.data;ve(n,t),a.push("/admin/empleados")}).catch(function(e){return se(e,t)})}}})(hl),fl=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.active_nav,n=a.has_notifications,l=this.props.mobile_nav?this.props.mobile_nav:null;return r.a.createElement("header",null,l,r.a.createElement("nav",{className:"red lighten-1 top-nav"},r.a.createElement("div",{className:"small-container"},this.props.children)),r.a.createElement("ul",{className:"sidenav sidenav-fixed",id:"nav_sidenav"},r.a.createElement("li",{className:"logo"},r.a.createElement(T.a,{to:"/admin_area",className:"brand-logo center mt-1"},r.a.createElement("img",{src:te.a,className:"logo-sidenav",alt:""})),r.a.createElement("div",{className:"divider"})),r.a.createElement("li",{className:"no-padding"},r.a.createElement("ul",{className:"collapsible collapsible-accordion pb-navbar"},r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/locales"},r.a.createElement("i",{className:"material-icons"},"store"),"Locales")),r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/empleados"},r.a.createElement("i",{className:"material-icons"},"people"),"Empleados")),r.a.createElement("li",{className:"bold"},r.a.createElement(T.a,{to:"/admin/usuarios"},r.a.createElement("i",{className:"material-icons"},"account_circle"),"Usuarios")),r.a.createElement("li",{className:"bold ".concat("PRODUCTOS"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"directions_car"),"Productos"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/productos"},"Inventario")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_producto"},"Nuevo producto"))))),r.a.createElement("li",{className:"bold ".concat("REPORTES"===t&&"active")},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},r.a.createElement("i",{className:"material-icons"},"trending_up"),"Reportes"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},"Ventas")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},"Inventario"))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("li",{className:"bold"},r.a.createElement("a",{className:"collapsible-header",tabIndex:"0",href:"#!"},n?r.a.createElement("i",{className:"material-icons notifications-active"},"notifications_active"):r.a.createElement("i",{className:"material-icons"},"notifications"),"Cuenta"),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons ".concat(n&&"notifications-active-color")},"notifications"),"Notificaciones")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){e.props.setCurrentLocal(null)}},r.a.createElement("i",{className:"material-icons"},"compare_arrow"),"Cambiar de local")),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/configuracion"},r.a.createElement("i",{className:"material-icons"},"settings"),"Configuracion")),r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:function(){e.props.logoutUser()}},r.a.createElement("i",{className:"material-icons"},"exit_to_app"),"Cerrar sesion")))))))))}}]),a}(n.Component);fl.defaultProps={has_notifications:!1};var gl=Object(h.b)(function(e){return{user:e.user}},{setCurrentLocal:de,logoutUser:Ce})(fl),bl=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getUsers()}},{key:"render",value:function(){var e=this.props.user,a=e.users,t=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Usuarios"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_buscar_usuario",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_usuario"},r.a.createElement("i",{className:"material-icons"},"add")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},t?r.a.createElement(K,{fullWidth:!0}):a.map(function(e){return r.a.createElement("div",{className:"col s12 m6 l6",key:e.id},r.a.createElement("div",{className:"card hoverable"},r.a.createElement(T.a,{to:"/admin/usuarios/".concat(e.id)},r.a.createElement("div",{className:"card-content ".concat(!e.habilitado&&"grey lighten-2")},r.a.createElement("div",{className:"d-block border-bottom p-1"},"ID: ",e.id),r.a.createElement("div",{className:"d-block border-bottom p-1"},"Nombre: ",r.a.createElement("span",null,e.nombre)),r.a.createElement("div",{className:"d-block p-1"},"Admin: ",e.admin?"Si":"No")))))}))),r.a.createElement(al,{is_only_textbox:!0}))}}]),a}(n.Component),_l=Object(h.b)(function(e){return{user:e.user}},{getUsers:function(){return function(e){e(ge()),re.a.get("".concat(me,"/users/get")).then(function(a){var t=a.data;ve(t,e),e(ye(t.data))}).catch(function(a){return se(a,e)})}}})(bl),Nl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",nombre_usuario:"",nueva_clave:"",habilitado:!0,admin:!1,is_in_request:!1,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.onUpdateUserClick=function(){t.setState({is_in_request:!0});var e=t.state,a={nombre:e.nombre,nombre_usuario:e.nombre_usuario,habilitado:e.habilitado,admin:e.admin};t.props.updateUserById(t.props.match.params.id,a)},t.onUpdateUserPasswordClick=function(){t.setState({is_in_request:!0}),t.props.updateUserPasswordById(t.props.match.params.id,{password:t.state.nueva_clave})},t.onDeleteUser=function(){z("modal_confirmar_evento").close(),t.props.deleteUserById(t.props.match.params.id,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getUserById(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){var a=!1;if(e.errors&&(this.setState({errors:e.errors}),a=!b(e.errors)),this.state.is_in_request&&!a&&(z("modal_editar_usuario").close(),z("modal_actualizar_usuario_clave").close()),this.setState({is_in_request:!1}),!a&&e.user.users.length>0){var t=e.user.users[0];this.setState({nombre:t.nombre,nombre_usuario:t.nombre_usuario,habilitado:t.habilitado,admin:t.admin})}}},{key:"render",value:function(){var e,a=this.props.user,t=a.users,n=a.loading,l=this.state,c=l.nombre,o=l.nombre_usuario,i=l.habilitado,s=l.admin,m=l.nueva_clave,d=l.is_in_request,u=l.errors,p=u.nombre_error,E=u.nombre_usuario_error,h=u.admin_error,v=u.habilitado_error;return e=n||t.length<=0?r.a.createElement("div",{className:"col s12"},r.a.createElement(K,{fullWidth:!0})):r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"ID"),r.a.createElement("td",null,t[0].id)),r.a.createElement("tr",null,r.a.createElement("td",null,"Nombre"),r.a.createElement("td",null,t[0].nombre)),r.a.createElement("tr",null,r.a.createElement("td",null,"Correo"),r.a.createElement("td",null,t[0].correo)),r.a.createElement("tr",null,r.a.createElement("td",null,"Usuario"),r.a.createElement("td",null,t[0].nombre_usuario)),t[0].usuario_creador&&r.a.createElement("tr",null,r.a.createElement("td",null,"Agregado por"),r.a.createElement("td",null,t[0].usuario_creador.nombre)),r.a.createElement("tr",null,r.a.createElement("td",null,"Habilitado"),r.a.createElement("td",null,t[0].habilitado?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("td",null,"Admin"),r.a.createElement("td",null,t[0].admin?"Si":"No")),r.a.createElement("tr",null,r.a.createElement("td",null,"Fecha de creacion"),r.a.createElement("td",null,t[0].fecha_creado)))))),r.a.createElement("button",{className:"btn modal-trigger","data-target":"modal_actualizar_usuario_clave"},"Actualizar clave"),r.a.createElement("button",{className:"btn red darken-2 ml-1 modal-trigger","data-target":"modal_confirmar_evento"},"Eliminar")),r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Detalles de usuario"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#modal_editar_usuario",className:"modal-trigger"},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},e)),r.a.createElement("div",{className:"modal",id:"modal_editar_usuario"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:c,onchange:this.onChangeTextInput,error:p})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre_usuario",label:"Usuario",value:o,onchange:this.onChangeTextInput,error:E})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"habilitado",onchange:this.onChangeCheckField,checked:i,label:"Habilitado",error:v})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"admin",onchange:this.onChangeCheckField,checked:s,label:"Admin",error:h})),d&&r.a.createElement(K,{fullWidth:!0})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close left btn-flat"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"right btn-flat",onClick:this.onUpdateUserClick},"Guardar"))),r.a.createElement("div",{className:"modal",id:"modal_actualizar_usuario_clave"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nueva_clave",value:m,type:"password",label:"Nueva clave",onchange:this.onChangeTextInput})),d&&r.a.createElement(K,{fullWidth:!0})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close left btn-flat"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"right btn-flat",onClick:this.onUpdateUserPasswordClick},"Actualizar"))),r.a.createElement(va,{title:"Confirmar eliminar usuario",message:"Esta seguro de que quiere eliminar a este usuario? Esta accion no se podra revertir",onAccept:this.onDeleteUser}))}}]),a}(n.Component),yl=Object(h.b)(function(e){return{user:e.user,errors:e.errors}},{getUserById:ue,updateUserById:pe,updateUserPasswordById:Ee,deleteUserById:function(e,a){return function(t){re.a.delete("".concat(me,"/users/delete/").concat(e)).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var n=e.data;ve(n,t),a.push("/admin/usuarios")}).catch(function(e){return se(e,t)})}}})(Nl),Cl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={nombre:"",nombre_usuario:"",correo:"",password:"",habilitado:!0,admin:!1,errors:{}},t.onChangeTextInput=function(e){return t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.onSaveNewUser=function(){var e=t.state,a={nombre:e.nombre,nombre_usuario:e.nombre_usuario,correo:e.correo,password:e.password,habilitado:e.habilitado,admin:e.admin};t.props.addUser(a,t.props.history)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"componentWillReceiveProps",value:function(e){console.log(e),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state,a=e.nombre,t=e.nombre_usuario,n=e.correo,l=e.password,c=e.habilitado,o=e.admin,i=e.errors,s=i.nombre_error,m=i.nombre_usuario_error,d=i.correo_error,u=i.password_error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo usuario"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveNewUser},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:a,error:s,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre_usuario",label:"Nombre de usuario",value:t,error:m,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"correo",type:"email",label:"Correo",value:n,error:d,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"password",type:"password",label:"Clave",value:l,error:u,onchange:this.onChangeTextInput})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"habilitado",checked:c,label:"Habilitado",onchange:this.onChangeCheckField})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"admin",checked:o,label:"Admin",onchange:this.onChangeCheckField})))),this.props.user.loading&&r.a.createElement(K,{fullWidth:!0})))))}}]),a}(n.Component),Ol=Object(h.b)(function(e){return{errors:e.errors,user:e.user}},{addUser:function(e,a){return function(t){re.a.post("".concat(me,"/users/add"),e).then(function(e){t({type:"CLEAR_ERRORS",payload:{}});var n=e.data;ve(n,t),t({type:"USER_END_LOADING"}),a.push("/admin/usuarios")}).catch(function(e){return se(e,t)})}}})(Cl),wl=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M();var e=this.props.user.currentLocal.id?this.props.user.currentLocal.id:0;this.props.getProducts(e)}},{key:"render",value:function(){var e=this.props.product,a=e.products,t=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Productos"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!"},r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/nuevo_producto"},r.a.createElement("i",{className:"material-icons"},"add")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement(gn,{loading:t,products:a,admin:!0}))))}}]),a}(n.Component),kl=Object(h.b)(function(e){return{product:e.product,user:e.user}},{getProducts:xe})(wl),Sl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo_barra:"",nombre:"",marca:"0",tipo_vehiculo:"0",descripcion:"",precio:"0",existencia:"0",cantidad_minima:"0",es_raro:!1,local_seleccionado:"0",local_cantidad:"0",local_cantidad_minima:"0",local_ubicacion:"",locals_product:[],locals:[],imagenes:[],needs_config_selects:!1,is_modal_editing:!1,errors:{},custom_errors:{}},t.onChangeTextInput=function(e){"local_seleccionado"===e.target.name&&t.state.is_modal_editing||t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.hadleModalState=function(e){e?z("modal_local_producto").close():z("modal_local_producto").open()},t.onSelectFiles=function(e){for(var a=e.target.files,n=[],r=function(){var e=a[l];(c=new FileReader).onload=function(r){n.push({name:e.name,url:r.target.result,file:e}),l===a.length&&t.setState({imagenes:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteClickFile=function(e){t.setState({imagenes:t.state.imagenes.filter(function(a){return a!==e})})},t.getTotalSumProductLocals=function(){var e=0;return t.state.locals_product.forEach(function(a){t.state.is_modal_editing&&t.state.local_seleccionado===a.id_local||(e+=parseInt(a.existencia))}),e},t.onClickAcceptProductLocalModal=function(){var e=Object(g.a)({},t.state.custom_errors),a=t.state,n=a.existencia,r=a.local_cantidad,l=a.local_ubicacion,c=a.local_seleccionado,o=a.local_cantidad_minima,i=a.locals_product,s=t.getTotalSumProductLocals(),m=!0,d=parseInt(n),u=parseInt(r),p=parseInt(o);if(d<u||u+s>n?(e.local_cantidad_error="La cantidad excede el inventario del producto",m=!1):u<0?(e.local_cantidad_error="La cantidad es invalida",m=!1):delete e.local_cantidad_error,p<0?(e.local_cantidad_minima_error="Cantidad invalida",m=!1):p>u?(e.local_cantidad_minima_error="La cantidad minima excede el total del local",m=!1):delete e.local_cantidad_minima_error,b(l)?(e.local_ubicacion_error="Ubicacion invalida",m=!1):delete e.local_ubicacion_error,t.state.is_modal_editing){if(m&&0!==c){var E=i.findIndex(function(e){return e.id_local===c});E>=0&&(i[E]={id_local:c,local:i[E].local,existencia:r,ubicacion:l,cantidad_minima:o}),t.setState({locals_product:i,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0"}),t.hadleModalState(!0)}}else if("0"!==c&&m){var h={id_local:c,local:t.state.locals.find(function(e){return e.id===c}),existencia:r,ubicacion:l,cantidad_minima:o};t.disableSelectedLocalOption(c),i.push(h),t.setState({locals_product:i,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0"}),t.hadleModalState(!0)}t.setState({custom_errors:e})},t.disableSelectedLocalOption=function(e){var a=t.state.locals.findIndex(function(a){return a.id===e});if(a>=0){var n=t.state.locals.map(function(e){return Object(g.a)({},e)});n[a].disabled=!0,t.setState({needs_config_selects:!0,locals:n})}},t.onAddLocalProductClick=function(){t.setState({local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0",is_modal_editing:!1,needs_config_selects:!0}),t.hadleModalState(!1)},t.onLocalProductClick=function(e){var a=e.id_local,n=e.cantidad_minima,r=e.existencia,l=e.ubicacion;t.setState({local_cantidad:r,local_ubicacion:l,local_cantidad_minima:n,local_seleccionado:a,is_modal_editing:!0,needs_config_selects:!0}),t.hadleModalState(!1)},t.onDeleteProductLocalClick=function(){if(!t.state.is_modal_editing)return t.hadleModalState(!0);var e=t.state,a=e.local_seleccionado,n=e.locals_product,r=e.locals;if(n.findIndex(function(e){return e.id_local===a})>=0){var l=r.findIndex(function(e){return e.id===a});l>=0&&(r[l].disabled=!1)}t.setState({locals:r,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0",is_modal_editing:!1,needs_config_selects:!0,locals_product:n.filter(function(e){return e.id_local!==a})}),t.hadleModalState(!0)},t.onSaveNewProduct=function(){var e=t.state,a=e.codigo_barra,n=e.nombre,r=e.marca,l=e.tipo_vehiculo,c=e.descripcion,o=e.precio,i=e.existencia,s=e.cantidad_minima,m=e.es_raro,d=e.locals_product,u=e.imagenes,p={codigo_barra:a,nombre:n,id_marca:r,id_tipo_vehiculo:l,descripcion:c,raro:m,precio:o,existencia:i,cantidad_minima:s,distribucion:d};if(u.length>0){var E=new FormData;u.forEach(function(e){return E.append("file_uploads[]",e.file,e.name)}),E.append("json_data",JSON.stringify(p)),t.props.addNewProduct(E,t.props.history,"/admin/productos")}else t.props.addNewProduct(p,t.props.history,"/admin/productos")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getLocals(),this.props.getBrands(),this.props.getVehicles()}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),e.local.locals&&0===this.state.locals.length){var a=e.local.locals;a.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,locals:a})}e.brand.brands&&e.brand.brands.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0}),e.vehicle.vehicles&&e.vehicle.vehicles.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0})}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.codigo_barra,n=a.nombre,l=a.marca,c=a.tipo_vehiculo,o=a.descripcion,i=a.precio,s=a.existencia,m=a.cantidad_minima,d=a.es_raro,u=a.imagenes,p=a.locals_product,E=a.locals,h=a.local_seleccionado,v=a.local_cantidad_minima,f=a.local_cantidad,g=a.local_ubicacion,b=a.errors,_=b.codigo_barra_error,N=b.nombre_error,y=b.descripcion_error,C=b.precio_error,O=b.existencia_error,w=b.cantidad_minima_error,k=a.custom_errors,S=k.local_cantidad_error,I=k.local_cantidad_minima_error,j=k.local_ubicacion_error,R=[];this.props.brand.brands.forEach(function(e){return R.push({value:e.id,label:e.nombre})});var D=[];return this.props.vehicle.vehicles.forEach(function(e){return D.push({value:e.id,label:e.nombre})}),r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Nuevo producto"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveNewProduct},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagenes",label:"Imagenes",onchange:this.onSelectFiles,onDeleteFileClick:this.onDeleteClickFile,multiple:!0,files:u})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo_barra",label:"Codigo de barra",value:t,error:_,onchange:this.onChangeTextInput,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:n,error:N,onchange:this.onChangeTextInput,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"marca",label:"Marca",value:l,onchange:this.onChangeTextInput,options:R})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"tipo_vehiculo",label:"Tipo de vehiculo",value:c,onchange:this.onChangeTextInput,options:D})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:o,error:y})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio",label:"Precio",type:"number",onchange:this.onChangeTextInput,value:i,error:C,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"existencia",label:"Existencia",type:"number",onchange:this.onChangeTextInput,value:s,error:O,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"cantidad_minima",label:"Cantidad minima",type:"number",onchange:this.onChangeTextInput,value:m,error:w,required:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"es_raro",label:"Es raro",checked:d,onchange:this.onChangeCheckField})))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",null,r.a.createElement("h5",null,"Distribucion"),r.a.createElement("button",{className:"btn-floating right",onClick:this.onAddLocalProductClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Local"),r.a.createElement("th",null,"Ubicacion"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Cantidad minima"))),r.a.createElement("tbody",null,p.map(function(a){return r.a.createElement("tr",{key:Re()(),className:"cursor-pointer",onClick:e.onLocalProductClick.bind(e,a)},r.a.createElement("td",null,a.local.nombre),r.a.createElement("td",null,a.ubicacion),r.a.createElement("td",null,a.existencia),r.a.createElement("td",null,a.cantidad_minima))}))))))),r.a.createElement("div",{className:"modal",id:"modal_local_producto"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Agregar o editar producto"),this.props.local.loading&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{name:"local_seleccionado",onChange:this.onChangeTextInput,value:h,disabled:this.state.is_modal_editing?"disabled":""},r.a.createElement("option",{value:"0"},"Seleccionar"),E.map(function(e){return r.a.createElement("option",{value:e.id,key:"local".concat(e.id),disabled:e.disabled?"disabled":""},e.nombre)})),r.a.createElement("label",null,"Local"))),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_cantidad",type:"number",label:"Cantidad",onchange:this.onChangeTextInput,value:f,error:S})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_cantidad_minima",type:"number",label:"Cantidad minima",onchange:this.onChangeTextInput,value:v,error:I})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_ubicacion",type:"text",label:"Ubicacion",onchange:this.onChangeTextInput,value:g,error:j}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat left modal-close"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"btn red darken-3 ml-1 left",onClick:this.onDeleteProductLocalClick},"Borrar"),r.a.createElement("a",{href:"#!",className:"btn right",onClick:this.onClickAcceptProductLocalModal},"Aceptar")))))}}]),a}(n.Component),Il=Object(h.b)(function(e){return{product:e.product,brand:e.brand,vehicle:e.vehicle,errors:e.errors,local:e.local}},{addNewProduct:function(e,a,t){return function(n){n(Ue()),re.a.post("".concat("https://rimeim.com/api","/products/add"),e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){n({type:"CLEAR_ERRORS",payload:{}});var r=e.data;ve(r,n),n({type:"GET_PRODUCT",payload:r.data}),a.push("".concat(t,"/").concat(r.data.id))}).catch(function(e){return se(e,n,"PRODUCT_END_LOADING")})}},getLocals:Yt,getVehicles:Rn,getBrands:Sn})(Sl),jl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onDeleteProduct=function(){t.props.deleteProductById(t.props.match.params.id,t.props.history,"/admin/productos")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getProductById(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(){F()}},{key:"render",value:function(){var e=this.props.product,a=e.loading,t=e.product,n="Producto";return a||(n=t.nombre),r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},n),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(T.a,{to:"/admin/editar_producto/".concat(this.props.match.params.id)},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement("div",{className:"row"},r.a.createElement(Cn,{loading:a,product:t,onDeleteProduct:this.onDeleteProduct}))))}}]),a}(n.Component),Rl=Object(h.b)(function(e){return{product:e.product}},{getProductById:Me,deleteProductById:function(e,a,t){return function(n){n(Ue()),re.a.delete("".concat("https://rimeim.com/api","/products/delete/").concat(e)).then(function(e){var r=e.data;ve(r,n),n({type:"PRODUCT_END_LOADING"}),a.push(t)}).catch(function(e){return se(e,n,"PRODUCT_END_LOADING")})}}})(jl),Dl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={codigo_barra:"",nombre:"",marca:"0",tipo_vehiculo:"0",descripcion:"",precio:"0",existencia:"0",cantidad_minima:"0",es_raro:!1,imagenes:[],local_seleccionado:"0",local_cantidad:"0",local_cantidad_minima:"0",local_ubicacion:"",locals_product:[],locals:[],needs_config_selects:!1,is_modal_editing:!1,is_product_setted:!1,errors:{},custom_errors:{}},t.onChangeTextInput=function(e){"local_seleccionado"===e.target.name&&t.state.is_modal_editing||t.setState(Object(J.a)({},e.target.name,e.target.value))},t.onChangeCheckField=function(e){var a=t.state[e.target.name];t.setState(Object(J.a)({},e.target.name,!a))},t.hadleModalState=function(e){e?z("modal_local_producto").close():z("modal_local_producto").open()},t.onSelectFiles=function(e){for(var a=e.target.files,n=t.state.imagenes,r=function(){var e=a[l];(c=new FileReader).onload=function(r){n.push({name:e.name,url:r.target.result,file:e}),l===a.length&&t.setState({imagenes:n})},c.readAsDataURL(e)},l=0;l<a.length;l++){var c;r()}},t.onDeleteClickFile=function(e){if(e.id){var a=t.state.imagenes,n=a.findIndex(function(a){return a===e});n>=0&&(a[n].eliminado=!0,t.setState({imagenes:a}))}else t.setState({imagenes:t.state.imagenes.filter(function(a){return a!==e})})},t.getTotalSumProductLocals=function(){var e=0;return t.state.locals_product.forEach(function(a){t.state.is_modal_editing&&t.state.local_seleccionado===a.id_local||a.eliminado&&!0===a.eliminado||(e+=parseInt(a.existencia))}),e},t.onClickAcceptProductLocalModal=function(){var e=Object(g.a)({},t.state.custom_errors),a=t.state,n=a.existencia,r=a.local_cantidad,l=a.local_ubicacion,c=a.local_seleccionado,o=a.local_cantidad_minima,i=a.locals_product,s=t.getTotalSumProductLocals(),m=!0,d=parseInt(n),u=parseInt(r),p=parseInt(o);if(d<u||u+s>n?(e.local_cantidad_error="La cantidad excede el inventario del producto",m=!1):u<0?(e.local_cantidad_error="La cantidad es invalida",m=!1):delete e.local_cantidad_error,p<0?(e.local_cantidad_minima_error="Cantidad invalida",m=!1):p>u?(e.local_cantidad_minima_error="La cantidad minima excede el total del local",m=!1):delete e.local_cantidad_minima_error,b(l)?(e.local_ubicacion_error="Ubicacion invalida",m=!1):delete e.local_ubicacion_error,t.state.is_modal_editing){if(m&&0!==c){var E=i.findIndex(function(e){return e.id_local===c});E>=0&&(i[E]=Object(g.a)({},i[E],{actualizado:!0,existencia:r,ubicacion:l,cantidad_minima:o})),t.setState({locals_product:i,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0"}),t.hadleModalState(!0)}}else if("0"!==c&&m){var h={id_local:c,local:t.state.locals.find(function(e){return e.id===c}),existencia:r,ubicacion:l,cantidad_minima:o};t.disableSelectedLocalOption(c),i.push(h),t.setState({locals_product:i,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0"}),t.hadleModalState(!0)}t.setState({custom_errors:e})},t.disableSelectedLocalOption=function(e){var a=t.state.locals.findIndex(function(a){return a.id===e});if(a>=0){var n=t.state.locals.map(function(e){return Object(g.a)({},e)});n[a].disabled=!0,t.setState({needs_config_selects:!0,locals:n})}},t.onAddLocalProductClick=function(){t.setState({local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0",is_modal_editing:!1,needs_config_selects:!0}),t.hadleModalState(!1)},t.onLocalProductClick=function(e){var a=e.id_local,n=e.cantidad_minima,r=e.existencia,l=e.ubicacion;t.setState({local_cantidad:r,local_ubicacion:l||"",local_cantidad_minima:n,local_seleccionado:a,is_modal_editing:!0,needs_config_selects:!0}),t.hadleModalState(!1)},t.onDeleteProductLocalClick=function(){if(!t.state.is_modal_editing)return t.hadleModalState(!0);var e=t.state,a=e.local_seleccionado,n=e.locals_product,r=e.locals,l=n.findIndex(function(e){return e.id_local===a});if(l>=0){var c=r.findIndex(function(e){return e.id===a});c>=0&&(r[c].disabled=!1),delete n[l].actualizado,n[l].eliminado=!0}n[l].id?t.setState({locals_product:n}):t.setState({locals_product:n.filter(function(e){return e!==n[l]})}),t.setState({locals:r,local_cantidad:"0",local_ubicacion:"",local_cantidad_minima:"0",local_seleccionado:"0",is_modal_editing:!1,needs_config_selects:!0}),t.hadleModalState(!0)},t.onSaveProduct=function(){var e=t.state,a=e.codigo_barra,n=e.nombre,r=e.marca,l=e.tipo_vehiculo,c=e.descripcion,o=e.precio,i=e.existencia,s=e.cantidad_minima,m=e.es_raro,d=e.locals_product,u=e.imagenes,p={codigo_barra:a,nombre:n,id_marca:r,id_tipo_vehiculo:l,descripcion:c,raro:m,precio:o,existencia:i,cantidad_minima:s,distribucion:d,imagenes:u.filter(function(e){return e.id})},E=u.filter(function(e){return!e.id});if(E.length>0){var h=new FormData;E.forEach(function(e){return h.append("file_uploads[]",e.file,e.name)}),h.append("json_data",JSON.stringify(p)),t.props.updateProductById(t.props.match.params.id,h)}else t.props.updateProductById(t.props.match.params.id,p);t.setState({is_product_setted:!1})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M(),this.props.getLocals(),this.props.getBrands(),this.props.getVehicles(),this.props.getProductById(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),!this.state.is_product_setted&&!e.product.loading&&e.product.product){var a=e.product.product,t=a.codigo_barra,n=a.nombre,r=a.descripcion,l=a.raro,c=a.precio,o=a.existencia,i=a.cantidad_minima,s=a.marca,m=a.tipo_vehiculo,d=a.imagenes,u=a.distribucion,p=this.state.locals;u.forEach(function(e){p.forEach(function(a){e.local.id===a.id&&(a.disabled=!0)})}),this.setState({locals:p,codigo_barra:t,nombre:n,marca:s&&s.id?s.id:"0",tipo_vehiculo:m&&m.id?m.id:"0",descripcion:r,precio:c,existencia:o,cantidad_minima:i,es_raro:l,locals_product:u,imagenes:d,is_product_setted:!0})}if(e.local.locals&&0===this.state.locals.length){var E=e.local.locals;E.forEach(function(e){return e.disabled=!1}),this.setState({needs_config_selects:!0,locals:E})}e.brand.brands&&e.brand.brands.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0}),e.vehicle.vehicles&&e.vehicle.vehicles.length>0&&!this.state.needs_config_selects&&this.setState({needs_config_selects:!0})}},{key:"componentDidUpdate",value:function(){this.state.needs_config_selects&&(V(),this.setState({needs_config_selects:!1}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.codigo_barra,n=a.nombre,l=a.marca,c=a.tipo_vehiculo,o=a.descripcion,i=a.precio,s=a.existencia,m=a.cantidad_minima,d=a.es_raro,u=a.imagenes,p=a.locals_product,E=a.locals,h=a.local_seleccionado,v=a.local_cantidad_minima,f=a.local_cantidad,g=a.local_ubicacion,b=a.errors,_=b.codigo_barra_error,N=b.nombre_error,y=b.descripcion_error,C=b.precio_error,O=b.existencia_error,w=b.cantidad_minima_error,k=a.custom_errors,S=k.local_cantidad_error,I=k.local_cantidad_minima_error,j=k.local_ubicacion_error,R=[];this.props.brand.brands.forEach(function(e){return R.push({value:e.id,label:e.nombre})});var D,A=[];return this.props.vehicle.vehicles.forEach(function(e){return A.push({value:e.id,label:e.nombre})}),D=this.props.product.loading?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(K,{fullWidth:!0}))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"row"},r.a.createElement(xn,{id:"imagenes",label:"Imagenes",onchange:this.onSelectFiles,onDeleteFileClick:this.onDeleteClickFile,multiple:!0,files:u})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"codigo_barra",label:"Codigo de barra",value:t,error:_,onchange:this.onChangeTextInput,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"nombre",label:"Nombre",value:n,error:N,onchange:this.onChangeTextInput,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"marca",label:"Marca",value:l,onchange:this.onChangeTextInput,options:R})),r.a.createElement("div",{className:"row"},r.a.createElement(ma,{id:"tipo_vehiculo",label:"Tipo de vehiculo",value:c,onchange:this.onChangeTextInput,options:A})),r.a.createElement("div",{className:"row"},r.a.createElement(Mn,{id:"descripcion",label:"Descripcion",onchange:this.onChangeTextInput,value:o,error:y,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"precio",label:"Precio",type:"number",onchange:this.onChangeTextInput,value:i,error:C,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"existencia",label:"Existencia",type:"number",onchange:this.onChangeTextInput,value:s,error:O,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"cantidad_minima",label:"Cantidad minima",type:"number",onchange:this.onChangeTextInput,value:m,error:w,required:!0,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(ua,{id:"es_raro",label:"Es raro",checked:d,onchange:this.onChangeCheckField})))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",null,r.a.createElement("h5",null,"Distribucion"),r.a.createElement("button",{className:"btn-floating right",onClick:this.onAddLocalProductClick},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("table",{className:"table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Local"),r.a.createElement("th",null,"Ubicacion"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Cantidad minima"))),r.a.createElement("tbody",null,p.filter(function(e){return!e.eliminado}).map(function(a){return r.a.createElement("tr",{key:Re()(),className:"cursor-pointer",onClick:e.onLocalProductClick.bind(e,a)},r.a.createElement("td",null,a.local.nombre),r.a.createElement("td",null,a.ubicacion),r.a.createElement("td",null,a.existencia),r.a.createElement("td",null,a.cantidad_minima))}))))),r.a.createElement("button",{className:"btn",onClick:this.onSaveProduct},"Actualizar"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Editar producto"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onSaveProduct},r.a.createElement("i",{className:"material-icons"},"save")))))),r.a.createElement("main",null,D,r.a.createElement("div",{className:"modal",id:"modal_local_producto"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",null,"Agregar o editar producto"),this.props.local.loading&&r.a.createElement(K,{fullWidth:!0}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{name:"local_seleccionado",onChange:this.onChangeTextInput,value:h,disabled:this.state.is_modal_editing?"disabled":""},r.a.createElement("option",{value:"0"},"Seleccionar"),E.map(function(e){return r.a.createElement("option",{value:e.id,key:"local".concat(e.id),disabled:e.disabled?"disabled":""},e.nombre)})),r.a.createElement("label",null,"Local"))),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_cantidad",type:"number",label:"Cantidad",onchange:this.onChangeTextInput,value:f,error:S,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_cantidad_minima",type:"number",label:"Cantidad minima",onchange:this.onChangeTextInput,value:v,error:I,active_label:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(Z,{id:"local_ubicacion",type:"text",label:"Ubicacion",onchange:this.onChangeTextInput,value:g,error:j,active_label:!0}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"btn-flat left modal-close"},"Cerrar"),r.a.createElement("a",{href:"#!",className:"btn red darken-3 ml-1 left",onClick:this.onDeleteProductLocalClick},"Borrar"),r.a.createElement("a",{href:"#!",className:"btn right",onClick:this.onClickAcceptProductLocalModal},"Aceptar")))))}}]),a}(n.Component),Al=Object(h.b)(function(e){return{product:e.product,brand:e.brand,vehicle:e.vehicle,errors:e.errors,local:e.local}},{updateProductById:Be,getProductById:Me,getLocals:Yt,getVehicles:Rn,getBrands:Sn})(Dl),Pl=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={is_editing:!1},t.onClickEditing=function(){t.setState({is_editing:!t.state.is_editing})},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){G()}},{key:"componentDidMount",value:function(){M()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(gl,null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"#!",className:"brand-logo"},"Configuracion"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"nav_sidenav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:this.onClickEditing},r.a.createElement("i",{className:"material-icons"},"edit")))))),r.a.createElement("main",null,r.a.createElement(Pr,{is_editing:this.state.is_editing})))}}]),a}(n.Component),Tl=t(47),xl=t(90),Ll=function(e){var a=e.component,t=e.isSelectLocal,n=e.isAdminRoute,l=e.user,c=Object(Tl.a)(e,["component","isSelectLocal","isAdminRoute","user"]);return r.a.createElement(E.a,Object.assign({},c,{render:function(e){return!0===l.isLoggedIn?t||b(l.currentLocal)?t?r.a.createElement(a,e):r.a.createElement(xl.a,{to:"/seleccionar_local"}):n?l.user.admin?r.a.createElement(a,e):r.a.createElement(xl.a,{to:"/seleccionar_local"}):r.a.createElement(a,e):r.a.createElement(xl.a,{to:"/login"})}}))};Ll.defaultProps={user:{isLoggedIn:!1},isSelectLocal:!1,isAdminRoute:!1};var Ml=Object(h.b)(function(e){return{user:e.user}})(Ll);(function(e){var a=localStorage.getItem("rimeim_token");if(a){var t=Date.now()/1e3,n=ce()(a),r=n.dt_expire<t;if(r&&localStorage.removeItem("rimeim_token"),oe(a),e.dispatch(be(n)),r)return;var l=localStorage.getItem("rimeim_current_local");if(l){var c=JSON.parse(l);ie(c),c?e.dispatch(Ne(c)):localStorage.removeItem("rimeim_current_local")}}})(P);var Fl=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{store:P},r.a.createElement(u.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:H}),r.a.createElement(E.a,{exact:!0,path:"/login",component:Se}),r.a.createElement(E.a,{exact:!0,path:"/notfound",component:Q})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/primera_sesion",component:Fr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/ventas",component:Ra})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/ventas/:id",component:bt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nueva_venta",component:Ca})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_venta",component:ht})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nueva_cotizacion",component:St})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/cotizaciones",component:jt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/cotizaciones/:id",component:Dt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/devoluciones",component:Pt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_devolucion",component:Tt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/pedidos",component:Ht})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/pedidos/:id",component:Jt})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nuevo_pedido",component:cn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_pedido/proveedor/:id",component:sn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_pedido/local/:id",component:dn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_pedido",component:En})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/productos",component:Nn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/productos/:id",component:wn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_producto/:id",component:Wn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nuevo_producto",component:kn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_producto",component:Vn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/marcas",component:Hn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/marcas/:id",component:Jn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nueva_marca",component:Kn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_marca/:id",component:Zn})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/vehiculos",component:ar})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/vehiculos/:id",component:or})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nuevo_vehiculo",component:nr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_vehiculo/:id",component:lr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/clientes",component:mr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/clientes/:id",component:ur})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_cliente",component:br})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nuevo_cliente",component:Er})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_cliente/:id",component:vr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/nuevo_proveedor",component:Nr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/buscar_proveedor",component:Dr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/editar_proveedor/:id",component:Cr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/proveedores",component:kr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/proveedores/:id",component:Ir})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/configuracion",component:Tr})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/seleccionar_local",component:Lr,isSelectLocal:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin_area",component:Jr,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/locales",component:$r,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/locales/:id",component:Kr,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/locales/editar/:id",component:ol,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/nuevo_local",component:ll,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/empleados",component:ul,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/empleados/:id",component:vl,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/usuarios",component:_l,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/usuarios/:id",component:yl,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/nuevo_usuario",component:Ol,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/productos",component:kl,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/productos/:id",component:Rl,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/nuevo_producto",component:Il,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/editar_producto/:id",component:Al,isAdminRoute:!0})),r.a.createElement(p.a,null,r.a.createElement(Ml,{exact:!0,path:"/admin/configuracion",component:Pl,isAdminRoute:!0})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Fl,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.48d43df4.chunk.js.map